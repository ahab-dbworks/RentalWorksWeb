/*
DayPilot Pro
Copyright (c) 2005 - 2014 Annpoint s.r.o.
http://www.daypilot.org/
Use of this software is subject to license terms.
Version: 1338
*/
if(typeof DayPilot==='undefined'){var DayPilot={};};if(typeof DayPilot.Global==='undefined'){DayPilot.Global={};};if(typeof DayPilotMonth==='undefined'){var DayPilotMonth=DayPilot.MonthVisible={};};(function(){var $a=function(){};if(typeof DayPilot.Month!=='undefined'){return;};var DayPilotMonth={};DayPilot.Month=function(id,$b){this.v='1338';this.nav={};var $c=this;this.id=id;this.isMonth=true;this.api=2;this.$1P=false;this.hideUntilInit=true;this.startDate=new DayPilot.Date();this.width='100%';this.cssClassPrefix="month_default";this.cellHeight=100;this.cellMarginBottom=0;this.allowMultiSelect=true;this.autoRefreshCommand='refresh';this.autoRefreshEnabled=false;this.autoRefreshInterval=60;this.autoRefreshMaxCount=20;this.doubleClickTimeout=300;this.eventFontColor="#000000";this.eventFontFamily="Tahoma";this.eventFontSize="11px";this.headerBackColor='#ECE9D8';this.headerFontColor='#000000';this.headerFontFamily="Tahoma";this.headerFontSize="10pt";this.headerHeight=20;this.heightSpec="Auto";this.weekStarts=1;this.innerBorderColor='#cccccc';this.borderColor='black';this.eventHeight=25;this.cellHeaderHeight=16;this.numberFormat=null;this.clientState={};this.afterRender=function(){};this.backColor='#FFFFD5';this.nonBusinessBackColor='#FFF4BC';this.cellHeaderBackColor='';this.cellHeaderFontColor='#000000';this.cellHeaderFontFamily='Tahoma';this.cellHeaderFontSize='10pt';this.cssOnly=true;this.eventBackColor='White';this.eventBorderColor='Black';this.eventCorners="Regular";this.eventFontColor='#000000';this.eventFontFamily='Tahoma';this.eventFontSize='11px';this.cellWidth=14.285;this.lineSpace=1;this.locale="en-us";this.messageHideAfter=5000;this.notifyCommit='Immediate';this.eventMoveToPosition=false;this.eventTextLayer='Top';this.eventStartTime=true;this.eventEndTime=true;this.eventTextAlignment='Center';this.eventTextLeftIndent=20;this.showWeekend=true;this.cellMode=false;this.shadowType="Fill";this.eventTimeFontColor='gray';this.eventTimeFontFamily='Tahoma';this.eventTimeFontSize='8pt';this.viewType='Month';this.weeks=1;this.eventClickHandling='Enabled';this.eventDeleteHandling="Disabled";this.eventDoubleClickHandling='Enabled';this.eventMoveHandling='Update';this.eventResizeHandling='Update';this.eventRightClickHandling='ContextMenu';this.eventSelectHandling='Update';this.headerClickHandling="Enabled";this.timeRangeSelectedHandling='Enabled';this.timeRangeDoubleClickHandling='Enabled';this.backendUrl=null;this.cellEvents=[];this.elements={};this.elements.events=[];this.$1Q={};this.$1Q.events={};this.events={};this.autoRefreshCount=0;this.$1R=function($d,$e){var $d=eval("("+$d+")");if($d.BubbleGuid){var $f=$d.BubbleGuid;var $g=this.bubbles[$f];delete this.bubbles[$f];$c.$1S();if(typeof $d.Result.BubbleHTML!=='undefined'){$g.updateView($d.Result.BubbleHTML,$g);};return;};if($d.CallBackRedirect){document.location.href=$d.CallBackRedirect;return;};if(typeof $d.ClientState!=='undefined'){$c.clientState=$d.ClientState;};if($d.UpdateType==="None"){$c.$1T($d.CallBackData,true);if($d.Message){$c.message($d.Message);};return;};if($d.VsUpdate){var $h=document.createElement("input");$h.type='hidden';$h.name=$c.id+"_vsupdate";$h.id=$h.name;$h.value=$d.VsUpdate;$c.$1U.innerHTML='';$c.$1U.appendChild($h);};$c.events.list=$d.Events;if(typeof $d.TagFields!=='undefined'){$c.tagFields=$d.TagFields;};if(typeof $d.SortDirections!=='undefined'){$c.sortDirections=$d.SortDirections;};if($d.UpdateType==="Full"){$c.cellProperties=$d.CellProperties;$c.headerProperties=$d.HeaderProperties;$c.startDate=$d.StartDate;if(typeof $d.ShowWeekend!=='undefined'){$c.showWeekend=$d.ShowWeekend;};$c.headerBackColor=$d.HeaderBackColor?$d.HeaderBackColor:$c.headerBackColor;$c.backColor=$d.BackColor?$d.BackColor:$c.backColor;$c.nonBusinessBackColor=$d.NonBusinessBackColor?$d.NonBusinessBackColor:$c.nonBusinessBackColor;$c.locale=$d.Locale?$d.Locale:$c.locale;$c.timeFormat=$d.TimeFormat?$d.TimeFormat:$c.timeFormat;if(typeof $d.WeekStarts!=='undefined'){$c.weekStarts=$d.WeekStarts;};$c.hashes=$d.Hashes;};$c.multiselect.clear(true);$c.multiselect.initList=$d.SelectedEvents;$c.$1V();$c.$1W();$c.$1X();if($d.UpdateType==="Full"){$c.$1Y();$c.$1Z();};$c.$20();$c.$21();$c.$22();$c.$1T($d.CallBackData,true);$c.$23();if($d.Message){$c.message($d.Message);}};this.$1T=function($i,$j){var $k=function($i,$l){return function(){if($c.$24()){if(typeof $c.onAfterRender==='function'){var $m={};$m.isCallBack=$l;$m.data=$i;$c.onAfterRender($m);}}else{if($c.afterRender){$c.afterRender($i,$l);}}};};window.setTimeout($k($i,$j),0);};this.$24=function(){return $c.api===2;};this.$25=function($n){var $o=this.theme||this.cssClassPrefix;if($o){return $o+$n;}else{return "";}};this.$1X=function(){if(!this.events.list){return;};if(typeof this.onBeforeEventRender==='function'){var length=this.events.list.length;for(var i=0;i<length;i++){this.$26(i);}};if(this.cellMode){this.$27();}else{this.$28();}};this.$1S=function(){};this.$28=function(){if(!this.events.list){return;};for(var x=0;x<this.events.list.length;x++){var e=this.events.list[x];e.start=new DayPilot.Date(e.start);e.end=new DayPilot.Date(e.end);if(e.start.getTime()>e.end.getTime()){continue;};for(var i=0;i<this.rows.length;i++){var $p=this.rows[i];if($p.belongsHere(e)){var ep=new DayPilot.Event(e,$c);$p.events.push(ep);if(typeof this.onBeforeEventRender==='function'){ep.cache=this.$1Q.events[x];}}}};for(var ri=0;ri<this.rows.length;ri++){var $p=this.rows[ri];$p.events.sort(this.$29);for(var ei=0;ei<this.rows[ri].events.length;ei++){var ev=$p.events[ei];var $q=$p.getStartColumn(ev);var $r=$p.getWidth(ev);$p.putIntoLine(ev,$q,$r,ri);}}};this.$27=function(){this.cellEvents=[];for(var x=0;x<this.$2a();x++){this.cellEvents[x]=[];for(var y=0;y<this.rows.length;y++){var $s={};var d=DayPilot.Date.addDays(this.firstDate,y*7+x);$s.start=d;$s.end=DayPilot.Date.addDays(d,1);$s.events=[];this.cellEvents[x][y]=$s;}};for(var i=0;i<this.events.list.length;i++){var e=this.events.list[i];e.start=new DayPilot.Date(e.start);e.end=new DayPilot.Date(e.start);if(e.start.getTime()>e.end.getTime()){continue;};for(var x=0;x<this.$2a();x++){for(var y=0;y<this.rows.length;y++){var $s=this.cellEvents[x][y];if(e.start.getTime()>=$s.start.getTime()&&e.start.getTime()<$s.end.getTime()){var ep=new DayPilot.Event(e,$c);$s.events.push(ep);if(typeof this.onBeforeEventRender==='function'){ep.cache=this.$1Q.events[i];}}}}};for(var x=0;x<this.$2a();x++){for(var y=0;y<this.rows.length;y++){var $s=this.cellEvents[x][y];$s.events.sort(this.$29);}}};this.$1V=function(){for(var i=0;i<this.elements.events.length;i++){var e=this.elements.events[i];e.event=null;e.click=null;e.parentNode.removeChild(e);};this.elements.events=[];};this.$22=function(){this.$1Q.events={};if(this.cellMode){this.$2b();}else{this.$2c();};this.multiselect.redraw();};this.$2b=function(){this.elements.events=[];for(var x=0;x<this.$2a();x++){for(var y=0;y<this.rows.length;y++){var $s=this.cellEvents[x][y];var $t=this.cells[x][y];for(var i=0;i<$s.events.length;i++){var ep=$s.events[i];ep.part.colStart=x;ep.part.colWidth=1;ep.part.row=y;ep.part.line=i;ep.part.startsHere=true;ep.part.endsHere=true;this.$2d(ep);}}}};this.$2c=function(){this.elements.events=[];for(var ri=0;ri<this.rows.length;ri++){var $p=this.rows[ri];for(var li=0;li<$p.lines.length;li++){var $u=$p.lines[li];for(var pi=0;pi<$u.length;pi++){this.$2d($u[pi]);}}}};this.$2e=function(a,b){if(!a||!b||!a.start||!b.start){return 0;};var $v=a.start().ticks-b.start().ticks;if($v!==0){return $v;};var $w=b.end().ticks-a.end().ticks;return $w;};this.$29=function(a,b){if(!a||!b){return 0;};if(!a.data||!b.data||!a.data.sort||!b.data.sort||a.data.sort.length===0||b.data.sort.length===0){return $c.$2e(a,b);};var $d=0;var i=0;while($d===0&&a.data.sort[i]&&b.data.sort[i]){if(a.data.sort[i]===b.data.sort[i]){$d=0;}else{$d=$c.$2f(a.data.sort[i],b.data.sort[i],$c.sortDirections[i]);};i++;};return $d;};this.$2f=function(a,b,$x){var $y=($x!=="desc");var $z=$y?-1:1;var $A=-$z;if(a===null&&b===null){return 0;};if(b===null){return $A;};if(a===null){return $z;};var ar=[];ar[0]=a;ar[1]=b;ar.sort();return a===ar[0]?$z:$A;};this.$2g=function(x,y,$u,$B,$C,e){if(!$C){$C=0;};var $D=$B;this.shadow={};this.shadow.list=[];this.shadow.start={x:x,y:y};this.shadow.width=$B;if(this.eventMoveToPosition){$D=1;this.shadow.position=$u;};var $E=y*7+x-$C;if($E<0){$D+=$E;x=0;y=0;};var $F=$C;while($F>=7){y--;$F-=7;};if($F>x){var $G=7-this.$2a();if($F>(x+$G)){y--;x=x+7-$F;}else{$D=$D-$F+x;x=0;}}else{x-=$F;};if(y<0){y=0;x=0;};var $H=null;if(DayPilotMonth.resizingEvent){$H='w-resize';}else if(DayPilotMonth.movingEvent){$H="move";};this.nav.top.style.cursor=$H;while($D>0&&y<this.rows.length){var $I=Math.min(this.$2a()-x,$D);var $p=this.rows[y];var top=this.$2h(y);var $J=$p.getHeight();if(this.eventMoveToPosition){top=this.$2i(y,$u);$J=2;};var $K=document.createElement("div");$K.setAttribute("unselectable","on");$K.style.position='absolute';$K.style.left=(this.$2j()*x)+'%';$K.style.width=(this.$2j()*$I)+'%';$K.style.top=(top)+'px';$K.style.height=($J)+'px';$K.style.cursor=$H;var $L=document.createElement("div");$L.setAttribute("unselectable","on");$K.appendChild($L);if(this.cssOnly){$K.className=this.$25("_shadow");$L.className=this.$25("_shadow_inner");};if(!this.cssOnly){$L.style.position="absolute";$L.style.top="0px";$L.style.right="0px";$L.style.left="0px";$L.style.bottom="0px";if(this.shadowType==='Fill'){$L.style.backgroundColor="#aaaaaa";$L.style.opacity=0.5;$L.style.filter="alpha(opacity=50)";if(e&&e.event){$L.style.overflow='hidden';$L.style.fontSize=this.eventFontSize;$L.style.fontFamily=this.eventFontFamily;$L.style.color=this.eventFontColor;$L.innerHTML=e.event.client.innerHTML()?e.event.client.innerHTML():e.event.text();}}else{$L.style.border='2px dotted #666666';}};var $M=this.nav.events;$M.appendChild($K);this.shadow.list.push($K);$D-=($I+7-this.$2a());x=0;y++;}};this.$2k=function(){if(this.shadow){var $M=this.nav.events;for(var i=0;i<this.shadow.list.length;i++){$M.removeChild(this.shadow.list[i]);};this.shadow=null;this.nav.top.style.cursor='';}};this.$2i=function($p,$u){var top=0;for(var i=0;i<$p;i++){top+=this.rows[i].getHeight();};top+=this.cellHeaderHeight;top+=$u*$N.lineHeight();return top;};this.$2l=function(x,y){return DayPilot.Date.addDays(this.firstDate,y*7+x);};this.$26=function(i){var $O=this.$1Q.events;var $i=this.events.list[i];var $P={};for(var name in $i){$P[name]=$i[name];};if(typeof this.onBeforeEventRender==='function'){var $m={};$m.e=$P;this.onBeforeEventRender($m);};$O[i]=$P;};this.$2d=function(ep,$Q){var $Q=this.cellMode;var $p=ep.part.row;var $u=ep.part.line;var $q=ep.part.colStart;var $r=ep.part.colWidth;var $O=ep.cache||ep.data;var $R=$Q?0:this.$2j()*($q);var $B=$Q?100:this.$2j()*($r);var top=$Q?$u*$N.lineHeight():this.$2i($p,$u);var e=document.createElement("div");e.setAttribute("unselectable","on");e.style.height=$N.eventHeight()+'px';if(!this.cssOnly){e.style.fontFamily=this.eventFontFamily;}else{e.style.position="relative";e.style.overflow="hidden";e.className=this.$25("_event");};if($O.cssClass){DayPilot.Util.addClass(e,$O.cssClass);};e.event=ep;if($Q){e.style.marginRight="2px";e.style.marginBottom="2px";}else{e.style.width=$B+'%';e.style.position='absolute';e.style.left=$R+'%';e.style.top=top+'px';};if(this.showToolTip&&$O.toolTip&&!this.bubble){e.title=$O.toolTip;};e.onclick=this.$2m;;e.ondblclick=this.$2n;e.oncontextmenu=this.$2o;e.onmousedown=this.$2p;e.onmousemove=this.$2q;e.onmouseout=this.$2r;e.ontouchstart=$S.onEventTouchStart;e.ontouchmove=$S.onEventTouchMove;e.ontouchend=$S.onEventTouchEnd;if(!this.cssOnly){var back=(ep.client.backColor())?ep.client.backColor():this.eventBackColor;var $T=document.createElement("div");$T.setAttribute("unselectable","on");$T.style.height=($N.eventHeight()-2)+'px';$T.style.overflow='hidden';$T.style.position="absolute";$T.style.left="2px";$T.style.right="2px";$T.style.paddingLeft='2px';$T.style.border='1px solid '+$c.eventBorderColor;$T.style.backgroundColor=back;$T.style.fontFamily="";$T.className=this.$25("event");if($N.rounded()){$T.style.MozBorderRadius="5px";$T.style.webkitBorderRadius="5px";$T.style.borderRadius="5px";};var $L=[];var $U=this.eventTextLayer==='Top';var $V=this.eventStartTime;var $W=this.eventEndTime;var $X=this.eventTextAlignment;var $Y=this.eventTextLeftIndent;var $Z=this.eventTextLayer==='Floats';if($Z){if($V){$L.push("<div unselectable='on' style='float:left; font-size:");$L.push(this.eventTimeFontSize);$L.push(";color:");$L.push(this.eventTimeFontColor);$L.push(";font-family:");$L.push(this.eventTimeFontFamily);$L.push("'>");$L.push(DayPilot.Date.hours(ep.start().d,$c.timeFormat==='Clock12Hours'));$L.push("</div>");};if($W){$L.push("<div unselectable='on' style='float:right;font-size:");$L.push(this.eventTimeFontSize);$L.push(";color:");$L.push(this.eventTimeFontColor);$L.push(";font-family:");$L.push(this.eventTimeFontFamily);$L.push("'>");$L.push(DayPilot.Date.hours(ep.end().d,$c.timeFormat==='Clock12Hours'));$L.push("</div>");};$L.push("<div unselectable='on' style='");$L.push("font-size:");$L.push(this.eventFontSize);$L.push(";color:");$L.push(this.eventFontColor);$L.push(";font-family:");$L.push(this.eventFontFamily);if($X==='Center'){$L.push(";text-align:center;");};$L.push("'>");if(ep.client.innerHTML()){$L.push(ep.client.innerHTML());}else{$L.push(ep.text());};$L.push("</div>");}else{if($V){if($X==='Left'){$L.push("<div unselectable='on' style='position:absolute;text-align:left;height:1px;font-size:1px;width:100%'><div unselectable='on' style='font-size:");$L.push(this.eventTimeFontSize);$L.push(";color:");$L.push(this.eventTimeFontColor);$L.push(";font-family:");$L.push(this.eventTimeFontFamily);$L.push(";text-align:right;");$L.push("width:");$L.push($Y-4);$L.push("px;");$L.push("><span style='background-color:");}else{$L.push("<div unselectable='on' style='position:absolute;text-align:left;height:1px;font-size:1px;width:100%'><div unselectable='on' style='font-size:");$L.push(this.eventTimeFontSize);$L.push(";color:");$L.push(this.eventTimeFontColor);$L.push(";font-family:");$L.push(this.eventTimeFontFamily);$L.push(";'><span style='background-color:");};$L.push(back);$L.push("' unselectable='on'>");if(ep.part.startsHere){$L.push(DayPilot.Date.hours(ep.start().d,$c.timeFormat==='Clock12Hours'));}else{$L.push("~");};$L.push("</span></div></div>");};if($W){$L.push("<div unselectable='on' style='position:absolute;text-align:right;height:1px;font-size:1px;width:100%'><div unselectable='on' style='margin-right:4px;font-size:");$L.push(this.eventTimeFontSize);$L.push(";color:");$L.push(this.eventTimeFontColor);$L.push(";font-family:");$L.push(this.eventTimeFontFamily);$L.push(";'><span style='background-color:");$L.push(back);$L.push("' unselectable='on'>");if(ep.part.endsHere){$L.push(DayPilot.Date.hours(ep.end().d,$c.timeFormat==='Clock12Hours'));}else{$L.push("~");};$L.push("</span></div></div>");};if($X==='Left'){var $R=$V?$Y:0;$L.push("<div style='margin-top:0px;height:");$L.push($N.eventHeight()-2);$L.push("px;");$L.push(";overflow:hidden;text-align:left;padding-left:");$L.push($R);$L.push("px;font-size:");$L.push(this.eventFontSize);$L.push(";color:");$L.push(this.eventFontColor);$L.push(";font-family:");$L.push(this.eventFontFamily);$L.push("' unselectable='on'>");if(ep.client.innerHTML()){$L.push(ep.client.innerHTML());}else{$L.push(ep.text());};$L.push("</div>");}else if($X==='Center'){if($U){$L.push("<div style='position:absolute; text-align:center; width: 98%; height:1px; font-size: 1px;'>");$L.push("<span style='background-color:");$L.push(back);$L.push(";font-size:");$L.push(this.eventFontSize);$L.push(";color:");$L.push(this.eventFontColor);$L.push(";font-family:");$L.push(this.eventFontFamily);$L.push("' unselectable='on'>");if(ep.client.innerHTML()){$L.push(ep.client.innerHTML());}else{$L.push(ep.text());};$L.push("</span>");$L.push("</div>");}else{$L.push("<div style='margin-top:0px;height:");$L.push($N.eventHeight()-2);$L.push("px;");$L.push(";overflow:hidden;text-align:center;font-size:");$L.push(this.eventFontSize);$L.push(";color:");$L.push(this.eventFontColor);$L.push(";font-family:");$L.push(this.eventFontFamily);$L.push("' unselectable='on'>");if(ep.client.innerHTML()){$L.push(ep.client.innerHTML());}else{$L.push(ep.text());};$L.push("</div>");}}};$T.innerHTML=$L.join('');e.appendChild($T);}else{if(!ep.part.startsHere){DayPilot.Util.addClass(e,this.$25("_event_continueleft"));};if(!ep.part.endsHere){DayPilot.Util.addClass(e,this.$25("_event_continueright"));};var $T=document.createElement("div");$T.setAttribute("unselectable","on");$T.className=this.$25("_event_inner");if(ep.client.innerHTML()){$T.innerHTML=ep.client.innerHTML();}else{$T.innerHTML=ep.text();};if($O.backColor){$T.style.background=$O.backColor;};e.appendChild($T);};if($O.areas){var $00=$O.areas;for(var i=0;i<$00.length;i++){var $01=$00[i];if($01.v!=='Visible'){continue;};var a=DayPilot.Areas.createArea(e,ep,$01);e.appendChild(a);}};this.elements.events.push(e);if($Q){this.cells[$q][$p].body.appendChild(e);}else{this.nav.events.appendChild(e);};if($c.multiselect.$2s(e.event)){$c.multiselect.add(e.event,true);};var $t=e;if($c.$24()){if(typeof $c.onAfterEventRender==='function'){var $m={};$m.e=$t.event;$m.div=$t;$c.onAfterEventRender($m);}}else{if($c.afterEventRender){$c.afterEventRender($t.event,$t);}}};this.$2m=function(ev){if($S.start){return;};$c.$2t(this,ev);};this.$2n=function(ev){$c.$2u(this,ev);};this.$2q=function(ev){var e=this;var ep=e.event;if(typeof(DayPilotMonth)==='undefined'){return;};if(DayPilotMonth.movingEvent||DayPilotMonth.resizingEvent){return;};var $C=DayPilot.mo3(e,ev);if(!$C){return;};(function(){var $t=e;if(!$t.active){var $00=[];if($c.eventDeleteHandling!=="Disabled"){$00.push({"action":"JavaScript","v":"Hover","w":17,"h":17,"top":2,"right":2,"css":$c.$25("_event_delete"),"js":function(e){$c.$2v(e);}});};var $02=$t.event.cache?$t.event.cache.areas:$t.event.data.areas;if($02&&$02.length>0){$00=$00.concat($02);};DayPilot.Areas.showAreas($t,$t.event,null,$00);}})();if($c.cssOnly){$c.$2w(e.event).each(function($t){DayPilot.Util.addClass($t,$c.$25("_event_hover"));});};var $03=6;if(!$c.cellMode&&$C.x<=$03&&ep.client.resizeEnabled()){if(ep.part.startsHere){e.style.cursor="w-resize";e.dpBorder='left';}else{e.style.cursor='not-allowed';}}else if(!$c.cellMode&&e.clientWidth-$C.x<=$03&&ep.client.resizeEnabled()){if(ep.part.endsHere){e.style.cursor="e-resize";e.dpBorder='right';}else{e.style.cursor='not-allowed';}}else{e.style.cursor='default';};if(typeof(DayPilotBubble)!=='undefined'&&$c.bubble&&$c.eventHoverHandling!=='Disabled'){if(!DayPilotMonth.movingEvent&&!DayPilotMonth.resizingEvent){var $04=this.$2x&&$C.x===this.$2x.x&&$C.y===this.$2x.y;if(!$04){this.$2x=$C;$c.bubble.showEvent(e.event);}}else{DayPilotBubble.hideActive();}}};this.$2r=function(ev){var e=this;if(typeof(DayPilotBubble)!=='undefined'&&$c.bubble){$c.bubble.hideOnMouseOut();};e.style.cursor='';if($c.cssOnly){$c.$2w(e.event).each(function($t){DayPilot.Util.removeClass($t,$c.$25("_event_hover"));});};DayPilot.Areas.hideAreas(e,ev);};this.$2o=function(){var e=this;$c.$2y(e.event);return false;};this.$2p=function(ev){if($S.start){return;};var e=this;var ep=e.event;var $p=ep.part.row;var $q=ep.part.colStart;var $u=ep.part.line;var $r=ep.part.colWidth;ev=ev||window.event;var $05=DayPilot.Util.mouseButton(ev);ev.cancelBubble=true;if(ev.stopPropagation){ev.stopPropagation();};if($05.left){if(typeof(DayPilotBubble)!=='undefined'&&$c.bubble){DayPilotBubble.hideActive();};DayPilotMonth.movingEvent=null;if(this.style.cursor==='w-resize'||this.style.cursor==='e-resize'){var $06={};$06.start={};$06.start.x=$q;$06.start.y=$p;$06.event=e.event;$06.width=DayPilot.Date.daysSpan($06.event.start().d,$06.event.end().d)+1;$06.direction=this.style.cursor;DayPilotMonth.resizingEvent=$06;}else if(this.style.cursor==='move'||ep.client.moveEnabled()){$c.$2k();var $07=DayPilot.mo3($c.nav.events,ev);if(!$07){return;};var $s=$c.$2z($07.x,$07.y);if(!$s){return;};var $E=DayPilot.Date.daysDiff(ep.start(),$c.rows[$p].start);var $C=($s.y*7+$s.x)-($p*7+$q);if($E){$C+=$E;};var $08={};$08.start={};$08.start.x=$q;$08.start.y=$p;$08.start.line=$u;$08.offset=$c.eventMoveToPosition?0:$C;$08.colWidth=$r;$08.event=e.event;$08.coords=$07;DayPilotMonth.movingEvent=$08;}}};this.temp={};this.temp.getPosition=function(){if(!$c.coords){return null;};var $s=$c.$2z($c.coords.x,$c.coords.y);if(!$s){return null;};var d=new DayPilot.Date($c.$2l($s.x,$s.y));var $s={};$s.start=d;$s.end=d.addDays(1);return $s;};this.$2A={};var $S=$c.$2A;$S.active=false;$S.start=false;$S.timeouts=[];$S.onEventTouchStart=function(ev){if($S.active||$S.start){return;};$S.clearTimeouts();$S.start=true;$S.active=false;var $t=this;var $09=500;$S.timeouts.push(window.setTimeout(function(){$S.active=true;$S.start=false;var $07=$S.relativeCoords(ev);$S.startMoving($t,$07);ev.preventDefault();},$09));ev.stopPropagation();};$S.onEventTouchMove=function(ev){$S.clearTimeouts();$S.start=false;};$S.onEventTouchEnd=function(ev){$S.clearTimeouts();if($S.start){$c.$2B(this,false);};window.setTimeout(function(){$S.start=false;$S.active=false;},500);};$S.onMainTouchStart=function(ev){if($S.active||$S.start){return;};$S.clearTimeouts();$S.start=true;$S.active=false;var $09=500;$S.timeouts.push(window.setTimeout(function(){$S.active=true;$S.start=false;ev.preventDefault();var $07=$S.relativeCoords(ev);$S.startRange($07);},$09));};$S.onMainTouchMove=function(ev){$S.clearTimeouts();$S.start=false;if($S.active){ev.preventDefault();var $07=$S.relativeCoords(ev);if($S.moving){$S.updateMoving($07);return;};if($S.range){$S.updateRange($07);}}};$S.onMainTouchEnd=function(ev){$S.clearTimeouts();if($S.active){if($S.moving){var $0a=$S.moving;var e=$S.moving.event;var $0b=$c.shadow.start;var $0c=$c.shadow.position;var $C=$S.moving.offset;$c.$2k();$S.moving=null;$c.$2C(e,$0b.x,$0b.y,$C,ev,$0c);};if($S.range){var $0d=$S.range;var $0b=new DayPilot.Date($c.$2l($0d.from.x,$0d.from.y));var end=$0b.addDays($0d.width);$S.range=null;$c.$2D($0b,end);}};window.setTimeout(function(){$S.start=false;$S.active=false;},500);};$S.clearTimeouts=function(){for(var i=0;i<$S.timeouts.length;i++){clearTimeout($S.timeouts[i]);};$S.timeouts=[];};$S.relativeCoords=function(ev){var $M=$c.nav.events;var x=ev.touches[0].pageX;var y=ev.touches[0].pageY;var $07={x:x,y:y};var $0e=DayPilot.abs($M);var $07={x:x-$0e.x,y:y-$0e.y,toString:function(){return "x: "+this.x+", y:"+this.y;}};return $07;};$S.startMoving=function($t,$07){$c.$2k();var ep=$t.event;var $s=$c.$2z($07.x,$07.y);if(!$s){return;};var $E=DayPilot.Date.daysDiff(ep.start(),$c.rows[ep.part.row].start);var $C=($s.y*7+$s.x)-(ep.part.row*7+ep.part.colStart);if($E){$C+=$E;};var $08={};$08.start={};$08.start.x=ep.part.colStart;$08.start.y=ep.part.row;$08.start.line=ep.part.line;$08.offset=$c.eventMoveToPosition?0:$C;$08.colWidth=ep.part.colWidth;$08.event=ep;$08.coords=$07;$S.moving=$08;$S.updateMoving($07);};$S.updateMoving=function($07){var $s=$c.$2z($07.x,$07.y);if(!$s){return;};var $0f=$c.$2E($s);$c.$2k();var event=$S.moving.event;var $C=$S.moving.offset;var $B=$c.cellMode?1:DayPilot.Date.daysSpan(event.start().d,event.end().d)+1;if($B<1){$B=1;};$c.$2g($s.x,$s.y,$0f,$B,$C,event);};$S.startRange=function($07){var $s=$c.$2z($07.x,$07.y);if(!$s){return;};$c.$2k();var $0g={};$0g.start={};$0g.start.x=$s.x;$0g.start.y=$s.y;$0g.x=$s.x;$0g.y=$s.y;$0g.width=1;$S.range=$0g;$S.updateRange($07);};$S.updateRange=function($07){var $s=$c.$2z($07.x,$07.y);if(!$s){return;};$c.$2k();var $0b=$S.range.start;var $0h=$0b.y*7+$0b.x;var $0i=$s.y*7+$s.x;var $B=Math.abs($0i-$0h)+1;if($B<1){$B=1;};var $0j=$0h<$0i?$0b:$s;$S.range.width=$B;$S.range.from={x:$0j.x,y:$0j.y};$c.$2g($0j.x,$0j.y,0,$B,0,null);};this.isWeekend=function($0k){var $0l=0;var $0m=6;if($0k.dayOfWeek()===$0l){return true;};if($0k.dayOfWeek()===$0m){return true;};return false;};this.$2F=function(){var $0n=this.startDate.lastDayOfMonth();if(this.showWeekend){return $0n;}while(this.isWeekend($0n)){$0n=$0n.addDays(-1);};return $0n;};this.$1W=function(){if(typeof this.startDate==='string'){this.startDate=DayPilot.Date.fromStringSortable(this.startDate);};if(this.viewType==='Month'){this.startDate=this.startDate.firstDayOfMonth();}else{this.startDate=this.startDate.getDatePart();};this.firstDate=this.startDate.firstDayOfWeek($N.getWeekStart());if(!this.showWeekend){var $0o=this.startDate.addMonths(-1).getMonth();var $0p=new DayPilot.Date(this.firstDate).addDays(6);while(this.isWeekend($0p)){$0p=$0p.addDays(-1);};if($0p.getMonth()===$0o){this.firstDate=DayPilot.Date.addDays(this.firstDate,7);}};var $0q=this.startDate;var $0r;if(this.viewType==='Month'){var $0s=this.$2F().d;var $0t=DayPilot.Date.daysDiff(this.firstDate,$0s)+1;$0r=Math.ceil($0t/7);}else{$0r=this.weeks;};this.days=$0r*7;this.rows=[];for(var x=0;x<$0r;x++){var r={};r.start=DayPilot.Date.addDays(this.firstDate,x*7);r.end=DayPilot.Date.addDays(r.start,this.$2a());r.events=[];r.lines=[];r.index=x;r.minHeight=this.cellHeight;r.calendar=this;r.belongsHere=function(ev){if(ev.end.getTime()===ev.start.getTime()&&ev.start.getTime()===this.start.getTime()){return true;};return !(ev.end.getTime()<=this.start.getTime()||ev.start.getTime()>=this.end.getTime());};r.getPartStart=function(ep){return DayPilot.Date.max(this.start,ep.start());};r.getPartEnd=function(ep){return DayPilot.Date.min(this.end,ep.end());};r.getStartColumn=function(ep){var $0u=this.getPartStart(ep);return DayPilot.Date.daysDiff(this.start,$0u);};r.getWidth=function(ep){return DayPilot.Date.daysSpan(this.getPartStart(ep),this.getPartEnd(ep))+1;};r.putIntoLine=function(ep,$q,$r,$p){var $0v=this;for(var i=0;i<this.lines.length;i++){var $u=this.lines[i];if($u.isFree($q,$r)){$u.addEvent(ep,$q,$r,$p,i);return i;}};var $u=[];$u.isFree=function($q,$r){var $0w=true;for(var i=0;i<this.length;i++){var ep=this[i];if(!($q+$r-1<ep.part.colStart||$q>ep.part.colStart+ep.part.colWidth-1)){$0w=false;}};return $0w;};$u.addEvent=function(ep,$q,$r,$p,$0x){ep.part.colStart=$q;ep.part.colWidth=$r;ep.part.row=$p;ep.part.line=$0x;ep.part.startsHere=$0v.start.getTime()<=ep.start().getTime();ep.part.endsHere=$0v.end.getTime()>=ep.end().getTime();this.push(ep);};$u.addEvent(ep,$q,$r,$p,this.lines.length);this.lines.push($u);return this.lines.length-1;};r.getStart=function(){var $0b=0;for(var i=0;i<$c.rows.length&&i<this.index;i++){$0b+=$c.rows[i].getHeight();}};r.getHeight=function(){return Math.max(this.lines.length*$N.lineHeight()+$c.cellHeaderHeight+$c.cellMarginBottom,this.calendar.cellHeight);};this.rows.push(r);};this.endDate=DayPilot.Date.addDays(this.firstDate,$0r*7);};this.$2G=function(){switch(this.heightSpec){case "Auto":var $J=$N.headerHeight();for(var i=0;i<this.rows.length;i++){$J+=this.rows[i].getHeight();};return $J;case "Fixed":return this.height;}};this.$2H=function($0b,end){var $0y=(end.y*7+end.x)-($0b.y*7+$0b.x);return $0y+1;};this.$2I={};this.$2I.scope=null;this.$2I.notify=function(){if($c.$2I.scope){$c.$2I.scope["$apply"]();}};this.debug=new DayPilot.Debug(this);this.$2J=function(){var $0z=this.nav.top;this.nav.top.dp=this;$0z.setAttribute("unselectable","on");$0z.style.MozUserSelect='none';$0z.style.KhtmlUserSelect='none';$0z.style.WebkitUserSelect='none';$0z.style.position='relative';if(this.width){$0z.style.width=this.width;};$0z.onselectstart=function(e){return false;};if(this.cssOnly){$0z.className=this.$25("_main");}else{$0z.style.border="1px solid "+this.borderColor;};if(this.hideUntilInit){$0z.style.visibility='hidden';};$0z.onmousemove=this.$2K;$0z.ontouchstart=$S.onMainTouchStart;$0z.ontouchmove=$S.onMainTouchMove;$0z.ontouchend=$S.onMainTouchEnd;this.$1U=document.createElement("div");this.$1U.style.display='none';this.nav.top.appendChild(this.$1U);var $0A=document.createElement("div");$0A.style.position="relative";$0A.style.height=$N.headerHeight()+"px";$0A.oncontextmenu=function(){return false;};this.nav.top.appendChild($0A);this.nav.header=$0A;var $0B=document.createElement("div");$0B.style.zoom="1";var $0C=document.createElement("div");$0C.style.position="relative";$0B.appendChild($0C);this.nav.top.appendChild($0B);this.nav.scrollable=$0B;this.nav.events=$0C;};this.$2K=function(ev){$c.coords=DayPilot.mo3($c.nav.events,ev);var $07=$c.coords;if(!$07){return;};var $s=$c.$2z($07.x,$07.y);if(!$s){return;};if(DayPilotMonth.resizingEvent){$c.$2k();var $06=DayPilotMonth.resizingEvent;var $0D=$06.start;var $B,$0b;if($06.direction==='w-resize'){$0b=$s;var $0E=$06.event.end().d;if(DayPilot.Date.getDate($0E).getTime()===$0E.getTime()){$0E=DayPilot.Date.addDays($0E,-1);};var end=$c.$2L($0E);$B=$c.$2H($s,end);}else{$0b=$c.$2L($06.event.start().d);$B=$c.$2H($0b,$s);};if($B<1){$B=1;};$c.$2g($0b.x,$0b.y,0,$B);}else if(DayPilotMonth.movingEvent){$c.debug.message("mousemove/moving start coords: "+DayPilotMonth.movingEvent.coords.x+" "+DayPilotMonth.movingEvent.coords.y);$c.debug.message("mousemove/current coords: "+$07.x+" "+$07.y);if($07.x===DayPilotMonth.movingEvent.coords.x&&$07.y===DayPilotMonth.movingEvent.coords.y){return;};var $0f=$c.$2E($s);$c.$2k();var event=DayPilotMonth.movingEvent.event;var $C=DayPilotMonth.movingEvent.offset;var $B=$c.cellMode?1:DayPilot.Date.daysSpan(event.start().d,event.end().d)+1;if($B<1){$B=1;};$c.$2g($s.x,$s.y,$0f,$B,$C,event);}else if(DayPilotMonth.timeRangeSelecting){DayPilotMonth.cancelCellClick=true;$c.$2k();var $0b=DayPilotMonth.timeRangeSelecting;var $0h=$0b.y*7+$0b.x;var $0i=$s.y*7+$s.x;var $B=Math.abs($0i-$0h)+1;if($B<1){$B=1;};var $0j=$0h<$0i?$0b:$s;DayPilotMonth.timeRangeSelecting.from={x:$0j.x,y:$0j.y};DayPilotMonth.timeRangeSelecting.width=$B;DayPilotMonth.timeRangeSelecting.moved=true;$c.$2g($0j.x,$0j.y,0,$B,0,null);}};this.$2E=function($s){var y=$s.relativeY;var $p=$c.rows[$s.y];var top=$c.cellHeaderHeight;var lh=$N.lineHeight();var $0F=$p.lines.length;for(var i=0;i<$p.lines.length;i++){var $u=$p.lines[i];if($u.isFree($s.x,1)){$0F=i;break;}};var $0G=Math.floor((y-top+lh/ 2)/ lh);var $0G=Math.min($0F,$0G);var $0G=Math.max(0,$0G);return $0G;};this.message=function($0H,$0I,$0J,$0K){if($0H===null){return;};var $0I=$0I||this.messageHideAfter||2000;var $0J=$0J||"#ffffff";var $0K=$0K||"#000000";var $0L=0.8;var top=$N.headerHeight();var $R=1;var $0M=0;var $t;if(!this.nav.message){$t=document.createElement("div");$t.setAttribute("unselectable","on");$t.style.position="absolute";$t.style.right="0px";$t.style.left="0px";$t.style.top=top+"px";$t.style.opacity=$0L;$t.style.filter="alpha(opacity="+($0L*100)+")";$t.style.display='none';$t.onmousemove=function(){if($t.messageTimeout&&!$t.status){clearTimeout($t.messageTimeout);}};$t.onmouseout=function(){if($c.nav.message.style.display!=='none'){$t.messageTimeout=setTimeout($c.$2M,500);}};if(!this.cssOnly){$t.style.textAlign="left";};var $T=document.createElement("div");$T.setAttribute("unselectable","on");$T.onclick=function(){$c.nav.message.style.display='none';};if(!this.cssOnly){$T.style.padding="5px";}else{$T.className=this.$25("_message");};$t.appendChild($T);var close=document.createElement("div");close.setAttribute("unselectable","on");close.style.position="absolute";if(!this.cssOnly){close.style.top="5px";close.style.right=(DayPilot.sw($c.nav.scroll)+5)+"px";close.style.color=$0J;close.style.lineHeight="100%";close.style.cursor="pointer";close.style.fontWeight="bold";close.innerHTML="X";}else{close.className=this.$25("_message_close");};close.onclick=function(){$c.nav.message.style.display='none';};$t.appendChild(close);this.nav.top.appendChild($t);this.nav.message=$t;}else{$t=$c.nav.message;};var $0N=function(){$c.nav.message.style.opacity=$0L;var $T=$c.nav.message.firstChild;if(!$c.cssOnly){$T.style.backgroundColor=$0K;$T.style.color=$0J;};$T.innerHTML=$0H;var end=function(){$t.messageTimeout=setTimeout($c.$2M,$0I);};DayPilot.fade($c.nav.message,0.2,end);};clearTimeout($t.messageTimeout);if(this.nav.message.style.display!=='none'){DayPilot.fade($c.nav.message,-0.2,$0N);}else{$0N();}};this.message.show=function($0H){$c.message($0H);};this.message.hide=function(){$c.$2M();};this.$2M=function(){var end=function(){$c.nav.message.style.display='none';};DayPilot.fade($c.nav.message,-0.2,end);};this.$2N=function(ev){if($c.heightSpec==="Parent100Pct"){$c.$20();}};this.$20=function(){var $0B=this.nav.scrollable;if(this.heightSpec==="Parent100Pct"||this.heightSpec==='Fixed'){$0B.style.top=this.headerHeight+"px";$0B.style.bottom="0px";$0B.style.left="0px";$0B.style.right="0px";$0B.style.overflow="auto";$0B.style.position="absolute";}else{$0B.style.position="relative";};if(this.heightSpec==='Parent100Pct'){this.nav.top.style.height="100%";var $J=this.nav.top.clientHeight;}else{this.nav.top.style.height=this.$2G()+'px';};for(var x=0;x<this.cells.length;x++){for(var y=0;y<this.cells[x].length;y++){this.cells[x][y].style.top=this.$2h(y)+'px';this.cells[x][y].style.height=this.rows[y].getHeight()+'px';}};this.$2O();};this.$2z=function(x,y){var $0O=Math.floor(this.nav.top.clientWidth/this.$2a());var $0P=Math.min(Math.floor(x/$0O),this.$2a()-1);var $p=null;var $0Q=0;var $J=0;var $0R=0;for(var i=0;i<this.rows.length;i++){$J+=this.rows[i].getHeight();if(y<$J){$0Q=y-$0R;$p=i;break;};$0R=$J;};if($p===null){$p=this.rows.length-1;};var $s={};$s.x=$0P;$s.y=$p;$s.relativeY=$0Q;return $s;};this.$2L=function($0k){var $B=DayPilot.Date.daysDiff(this.firstDate,$0k);var $s={x:0,y:0};while($B>=7){$s.y++;$B-=7;};$s.x=$B;return $s;};this.$2O=function(){var $B=DayPilot.sw(this.nav.scrollable);this.nav.header.style.marginRight=$B+"px";};var $0S=null;this.$1Z=function(){var $0A=this.nav.header;var $0C=this.nav.events;this.cells=[];for(var x=0;x<this.$2a();x++){this.cells[x]=[];var $0T=this.headerProperties?this.headerProperties[x]:null;var $0U=x+$N.getWeekStart();if($0U>6){$0U-=7;};if(!$0T){var $0T={};$0T.html=$N.locale().dayNames[$0U];if(!this.cssOnly){$0T.backColor=this.headerBackColor;}};if(typeof $c.onBeforeHeaderRender==='function'){var $m={};$m.header={};$m.header.dayOfWeek=$0U;var $0V=['html','backColor','cssClass'];DayPilot.Util.copyProps($0T,$m.header,$0V);$c.onBeforeHeaderRender($m);DayPilot.Util.copyProps($m.header,$0T,$0V);};var $0W=document.createElement("div");$0W.setAttribute("unselectable","on");$0W.style.position='absolute';$0W.style.left=(this.$2j()*x)+'%';$0W.style.width=(this.$2j())+'%';$0W.style.top='0px';$0W.style.height=($N.headerHeight())+'px';(function(x){$0W.onclick=function(){$c.$2P(x);};})($0U);var $T=document.createElement("div");$T.setAttribute("unselectable","on");$T.className=this.$25("_header_inner");$T.innerHTML=$0T.html;$0W.appendChild($T);if(!this.cssOnly){$T.style.position="absolute";$T.style.top="0px";$T.style.bottom="0px";$T.style.left="0px";$T.style.right="0px";$T.style.backgroundColor=$0T.backColor;$T.style.fontFamily=this.headerFontFamily;$T.style.fontSize=this.headerFontSize;$T.style.color=this.headerFontColor;$T.style.textAlign='center';$T.style.cursor='default';$T.className=this.$25("header");if(x!==this.$2a()-1){$T.style.borderRight='1px solid '+this.borderColor;}}else{$0W.className=this.$25("_header");if($0T){if($0T.cssClass){DayPilot.Util.addClass($0W,$0T.cssClass);};if($0T.backColor){$T.style.background=$0T.backColor;}}};$0A.appendChild($0W);for(var y=0;y<this.rows.length;y++){this.$2Q(x,y,$0C);}};if(!DayPilot.contains(this.nav.top.childNodes,$0S)&&this.numberFormat){var $t=document.createElement("div");$t.style.position='absolute';$t.style.padding='2px';$t.style.top='0px';$t.style.left='0px';$t.style.backgroundColor="#FF6600";$t.style.color="white";$t.innerHTML="\u0044\u0045\u004D\u004F";$0S=$t;this.nav.top.appendChild($t);}};this.$1Y=function(){for(var x=0;x<this.cells.length;x++){for(var y=0;y<this.cells[x].length;y++){this.cells[x][y].onclick=null;}};this.nav.header.innerHTML='';this.nav.events.innerHTML='';};this.$2Q=function(x,y,$0A){var $p=this.rows[y];var d=new DayPilot.Date(DayPilot.Date.addDays(this.firstDate,y*7+x));var $0X=this.cellProperties?this.cellProperties[y*this.$2a()+x]:null;var $0Y=null;if($0X){$0Y=$0X["headerHtml"];}else{var $0k=d.getDay();if($0k===1){$0Y=$N.locale().monthNames[d.getMonth()]+' '+$0k;}else{$0Y=$0k+"";}};if(!$0X){var $0X={};$0X.business=!$c.isWeekend(d);};if(typeof $c.onBeforeCellRender==='function'){var $m={};$m.cell={};$m.cell.areas=null;$m.cell.backColor=null;$m.cell.backImage=null;$m.cell.backRepeat=null;$m.cell.business=$c.isWeekend(d);$m.cell.headerHtml=$0Y;$m.cell.headerBackColor=null;$m.cell.cssClass=null;$m.cell.html=null;$m.cell.start=d;$m.cell.end=$m.cell.start.addDays(1);DayPilot.Util.copyProps($0X,$m.cell);$c.onBeforeCellRender($m);DayPilot.Util.copyProps($m.cell,$0X,['areas','backColor','backImage','backRepeat','business','headerHtml','headerBackColor','cssClass','html']);};var $s=document.createElement("div");$s.setAttribute("unselectable","on");$s.style.position='absolute';$s.style.cursor='default';$s.style.left=(this.$2j()*x)+'%';$s.style.width=(this.$2j())+'%';$s.style.top=(this.$2h(y))+'px';$s.style.height=($p.getHeight())+'px';$s.d=d;$s.x=x;$s.y=y;$s.props=$0X;var $0o=this.startDate.addMonths(-1).getMonth();var $0Z=this.startDate.addMonths(1).getMonth();var $10=this.startDate.getMonth();var $T=document.createElement("div");$T.setAttribute("unselectable","on");$s.appendChild($T);if(this.cssOnly){$T.className=this.$25("_cell_inner");};if(!this.cssOnly){$T.style.position="absolute";$T.style.left="0px";$T.style.right="0px";$T.style.top="0px";$T.style.bottom="0px";if(d.getMonth()===$10){$s.className=this.$25("cell");}else if(d.getMonth()===$0o){$s.className=this.$25("cell")+" "+this.$25("previous");}else if(d.getMonth()===$0Z){$s.className=this.$25("cell")+" "+this.$25("next");};if($0X){if($0X["backColor"]){$T.style.background=$0X["backColor"];};if($0X["cssClass"]){$T.className+=" "+this.$25($0X["cssClass"]);};if($0X["backImage"]){$T.style.backgroundImage="url('"+$0X["backImage"]+"')";};if($0X["backRepeat"]){$T.style.backgroundRepeat=$0X["backRepeat"];}}else{$T.style.background=this.$2R(d);};if(x!==this.$2a()-1){$T.style.borderRight='1px solid '+this.innerBorderColor;};if(y===0){$T.style.borderTop='1px solid '+this.borderColor;};$T.style.borderBottom='1px solid '+this.innerBorderColor;}else{$T.className=this.$25("_cell_inner");if(d.getMonth()===$10){$s.className=this.$25("_cell");}else if(d.getMonth()===$0o){$s.className=this.$25("_cell")+" "+this.$25("_previous");}else if(d.getMonth()===$0Z){$s.className=this.$25("_cell")+" "+this.$25("_next");}else{$a();};if($0X){if($0X["cssClass"]){DayPilot.Util.addClass($s,$0X.cssClass);};if($0X["business"]){DayPilot.Util.addClass($s,this.$25("_cell_business"));};if($0X["backColor"]){$T.style.backgroundColor=$0X["backColor"];};if($0X["backImage"]){$T.style.backgroundImage="url('"+$0X["backImage"]+"')";};if($0X["backRepeat"]){$T.style.backgroundRepeat=$0X["backRepeat"];}}};$s.onmousedown=this.$2S;$s.onmousemove=this.$2T;$s.onmouseout=this.$2U;$s.oncontextmenu=this.$2V;$s.onclick=this.$2W;$s.ondblclick=this.$2X;var $11=document.createElement("div");$11.setAttribute("unselectable","on");$11.style.height=this.cellHeaderHeight+"px";if(!this.cssOnly){if($0X&&$0X["headerBackColor"]){$11.style.backgroundColor=$0X["headerBackColor"];}else if(this.cellHeaderBackColor){$11.style.backgroundColor=this.cellHeaderBackColor;};$11.style.paddingRight='2px';$11.style.textAlign="right";$11.style.fontFamily=this.cellHeaderFontFamily;$11.style.fontSize=this.cellHeaderFontSize;$11.style.color=this.cellHeaderFontColor;$11.className=this.$25("cellheader");}else{if($0X&&$0X["headerBackColor"]){$11.style.background=$0X["headerBackColor"];};$11.className=this.$25("_cell_header");};$11.innerHTML=$0Y;$T.appendChild($11);if($0X&&$0X["html"]){var $0H=document.createElement("div");$0H.setAttribute("unselectable","on");$0H.style.height=($p.getHeight()-this.cellHeaderHeight)+'px';$0H.style.overflow='hidden';$0H.innerHTML=$0X["html"];$T.appendChild($0H);};if(this.cellMode){var $12=document.createElement("div");$12.setAttribute("unselectable","on");$12.style.height=(this.cellHeight-this.cellHeaderHeight)+"px";$12.style.overflow='auto';$12.style.position='relative';var $L=document.createElement('div');$L.setAttribute("unselectable","on");$L.style.paddingTop="1px";$L.style.paddingBottom="1px";$12.appendChild($L);$T.appendChild($12);$s.body=$L;$s.scrolling=$12;};if($s.props){var $00=$s.props.areas||[];for(var i=0;i<$00.length;i++){var $01=$00[i];if($01.v!=='Visible'){continue;};var a=DayPilot.Areas.createArea($s,$s.props,$01);$s.appendChild(a);}};this.cells[x][y]=$s;$0A.appendChild($s);};this.$2T=function(){var c=this;if(c.props){DayPilot.Areas.showAreas(c,c.props);}};this.$2U=function(ev){var c=this;if(c.props){DayPilot.Areas.hideAreas(c,ev);}};this.$2V=function(){var d=this.d;var go=function(d){var $0b=new DayPilot.Date(d);var end=$0b.addDays(1);var $13=new DayPilot.Selection($0b,end,null,$c);if($c.contextMenuSelection){$c.contextMenuSelection.show($13);}};go(d);return false;};this.$2X=function(){var d=this.d;if($c.timeouts){for(var $14 in $c.timeouts){window.clearTimeout($c.timeouts[$14]);};$c.timeouts=null;};if($c.timeRangeDoubleClickHandling!=='Disabled'){var $0b=new DayPilot.Date(d);var end=$0b.addDays(1);$c.$2Y($0b,end);}};this.$2W=function(){if(DayPilotMonth.cancelCellClick){return;};var d=this.d;var $15=function(d){var $0b=new DayPilot.Date(d);var end=$0b.addDays(1);$c.$2D($0b,end);};if($c.timeRangeSelectedHandling!=='Disabled'&&$c.timeRangeDoubleClickHandling==='Disabled'){$15(d);return;};if(!$c.timeouts){$c.timeouts=[];};var $16=function(d){return function(){$15(d);};};$c.timeouts.push(window.setTimeout($16(d),$c.doubleClickTimeout));};this.$2S=function(e){var $s=this;var x=$s.x;var y=$s.y;DayPilotMonth.cancelCellClick=false;if($s.scrolling){var $C=DayPilot.mo3($s.scrolling,e);var sw=DayPilot.sw($s.scrolling);var $B=$s.scrolling.offsetWidth;if($C.x>$B-sw){return;}};if($c.timeRangeSelectedHandling!=='Disabled'){$c.$2k();DayPilotMonth.timeRangeSelecting={"root":$c,"x":x,"y":y,"from":{x:x,y:y},"width":1};}};this.$2a=function(){if(this.showWeekend){return 7;}else{return 5;}};this.$2j=function(){if(this.showWeekend){return 14.285;}else{return 20;}};this.$2R=function(d){if(d.getUTCDay()===6||d.getUTCDay()===0){return this.nonBusinessBackColor;};return this.backColor;};this.$2h=function($0x){var top=0;for(var i=0;i<$0x;i++){top+=this.rows[i].getHeight();};return top;};this.clearSelection=function(){this.$2k();};this.$2Z=function($17,$i,$18){var $19={};$19.action=$17;$19.parameters=$18;$19.data=$i;$19.header=this.$30();var $1a="JSON"+DayPilot.JSON.stringify($19);__doPostBack($c.uniqueID,$1a);};this.$31=function($17,$18,$i,$1b){if(!this.$32()){$c.debug.message("Callback invoked without the server-side backend specified. Callback canceled.","warning");return;};if(typeof $1b==='undefined'){$1b="CallBack";};var $19={};$19.action=$17;$19.type=$1b;$19.parameters=$18;$19.data=$i;$19.header=this.$30();var $1a="JSON"+DayPilot.JSON.stringify($19);if(this.backendUrl){DayPilot.request(this.backendUrl,this.$33,$1a,this.$34);}else if(typeof WebForm_DoCallback==='function'){WebForm_DoCallback(this.uniqueID,$1a,this.$1R,null,this.callbackError,true);}};this.$32=function(){if(this.backendUrl){return true;};if(typeof WebForm_DoCallback==='function'&&this.uniqueID){return true;};return false;};this.$34=function($1c){if(typeof $c.onAjaxError==='function'){var $m={};$m.request=$1c;$c.onAjaxError($m);}else if(typeof $c.ajaxError==='function'){$c.ajaxError($1c);}};this.$33=function($1d){$c.$1R($1d.responseText);};this.$30=function(){var h={};h.v=this.v;h.control="dpm";h.id=this.id;h.visibleStart=new DayPilot.Date(this.firstDate);h.visibleEnd=h.visibleStart.addDays(this.days);h.clientState=this.clientState;h.cssOnly=$c.cssOnly;h.cssClassPrefix=$c.cssClassPrefix;h.startDate=$c.startDate;h.showWeekend=this.showWeekend;h.headerBackColor=this.headerBackColor;h.backColor=this.backColor;h.nonBusinessBackColor=this.nonBusinessBackColor;h.locale=this.locale;h.timeFormat=this.timeFormat;h.weekStarts=this.weekStarts;h.viewType=this.viewType;h.weeks=this.weeks;h.selected=$c.multiselect.events();h.hashes=$c.hashes;return h;};this.$35=function($1b,$17,$1e,$i){if($1b==='PostBack'){$c.postBack2($17,$1e,$i);}else if($1b==='CallBack'){$c.$31($17,$1e,$i,"CallBack");}else if($1b==='Immediate'){$c.$31($17,$1e,$i,"Notify");}else if($1b==='Queue'){$c.queue.add(new DayPilot.Action(this,$17,$1e,$i));}else if($1b==='Notify'){if($N.notifyType()==='Notify'){$c.$31($17,$1e,$i,"Notify");}else{$c.queue.add(new DayPilot.Action($c,$17,$1e,$i));}}else{throw "Invalid event invocation type";}};this.$36=function($m,$g){var $f=$c.$37($g);var $1e={};$1e.args=$m;$1e.guid=$f;$c.$31("Bubble",$1e);};this.$37=function($g){var $f=DayPilot.guid();if(!this.bubbles){this.bubbles=[];};this.bubbles[$f]=$g;return $f;};this.eventClickPostBack=function(e,$i){this.$2Z("EventClick",$i,e);};this.eventClickCallBack=function(e,$i){this.$31('EventClick',e,$i);};this.$2t=function($t,e){DayPilotMonth.movingEvent=null;DayPilotMonth.resizingEvent=null;var e=e||window.event;var $1f=e.ctrlKey;e.cancelBubble=true;if(e.stopPropagation){e.stopPropagation();};if(typeof(DayPilotBubble)!=='undefined'){DayPilotBubble.hideActive();};if($c.eventDoubleClickHandling==='Disabled'){$c.$2B($t,$1f);return;};if(!$c.timeouts){$c.timeouts=[];}else{for(var $14 in $c.timeouts){window.clearTimeout($c.timeouts[$14]);};$c.timeouts=[];};var $1g=function($t,$1f){return function(){$c.$2B($t,$1f);};};$c.timeouts.push(window.setTimeout($1g($t,$1f),$c.doubleClickTimeout));};this.$2B=function($t,$1f){var e=$t.event;if(!e.client.clickEnabled()){return;};if($c.$24()){var $m={};$m.e=e;$m.preventDefault=function(){this.preventDefault.value=true;};if(typeof $c.onEventClick==='function'){$c.onEventClick($m);if($m.preventDefault.value){return;}};switch($c.eventClickHandling){case 'PostBack':$c.eventClickPostBack(e);break;case 'CallBack':$c.eventClickCallBack(e);break;case 'Select':$c.$38($t,e,$1f);break;case 'ContextMenu':var $1h=e.client.contextMenu();if($1h){$1h.show(e);}else{if($c.contextMenu){$c.contextMenu.show(e);}};break;case 'Bubble':if($c.bubble){$c.bubble.showEvent(e);};break;};if(typeof $c.onEventClicked==='function'){$c.onEventClicked($m);}}else{switch($c.eventClickHandling){case 'PostBack':$c.eventClickPostBack(e);break;case 'CallBack':$c.eventClickCallBack(e);break;case 'JavaScript':$c.onEventClick(e);break;case 'Select':$c.$38($t,e,$1f);break;case 'ContextMenu':var $1h=e.client.contextMenu();if($1h){$1h.show(e);}else{if($c.contextMenu){$c.contextMenu.show(e);}};break;case 'Bubble':if($c.bubble){$c.bubble.showEvent(e);};break;}}};this.$2v=function(e){if($c.$24()){var $m={};$m.e=e;$m.preventDefault=function(){this.preventDefault.value=true;};if(typeof $c.onEventDelete==='function'){$c.onEventDelete($m);if($m.preventDefault.value){return;}};switch($c.eventDeleteHandling){case 'PostBack':$c.eventDeletePostBack(e);break;case 'CallBack':$c.eventDeleteCallBack(e);break;case 'Update':$c.events.remove(e);break;};if(typeof $c.onEventDeleted==='function'){$c.onEventDeleted($m);}}else{switch($c.eventDeleteHandling){case 'PostBack':$c.eventDeletePostBack(e);break;case 'CallBack':$c.eventDeleteCallBack(e);break;case 'JavaScript':$c.onEventDelete(e);break;}}};this.eventDeletePostBack=function(e,$i){this.$2Z('EventDelete',e,$i);};this.eventDeleteCallBack=function(e,$i){this.$31('EventDelete',e,$i);};this.eventDoubleClickPostBack=function(e,$i){this.$2Z('EventDoubleClick',$i,e);};this.eventDoubleClickCallBack=function(e,$i){this.$31('EventDoubleClick',e,$i);};this.$2u=function($t,ev){if(typeof(DayPilotBubble)!=='undefined'){DayPilotBubble.hideActive();};if($c.timeouts){for(var $14 in $c.timeouts){window.clearTimeout($c.timeouts[$14]);};$c.timeouts=null;};var ev=ev||window.event;var e=$t.event;if($c.$24()){var $m={};$m.e=e;$m.preventDefault=function(){this.preventDefault.value=true;};if(typeof $c.onEventDoubleClick==='function'){$c.onEventDoubleClick($m);if($m.preventDefault.value){return;}};switch($c.eventDoubleClickHandling){case 'PostBack':$c.eventDoubleClickPostBack(e);break;case 'CallBack':$c.eventDoubleClickCallBack(e);break;case 'Select':$c.$38($t,e,ev.ctrlKey);break;case 'Bubble':if($c.bubble){$c.bubble.showEvent(e);};break;};if(typeof $c.onEventDoubleClicked==='function'){$c.onEventDoubleClicked($m);}}else{switch($c.eventDoubleClickHandling){case 'PostBack':$c.eventDoubleClickPostBack(e);break;case 'CallBack':$c.eventDoubleClickCallBack(e);break;case 'JavaScript':$c.onEventDoubleClick(e);break;case 'Select':$c.$38($t,e,ev.ctrlKey);break;case 'Bubble':if($c.bubble){$c.bubble.showEvent(e);};break;}}};this.$38=function($t,e,$1f){$c.$39($t,e,$1f);};this.eventSelectPostBack=function(e,$1i,$i){var $1e={};$1e.e=e;$1e.change=$1i;this.$2Z('EventSelect',$i,$1e);};this.eventSelectCallBack=function(e,$1i,$i){var $1e={};$1e.e=e;$1e.change=$1i;this.$31('EventSelect',$1e,$i);};this.$39=function($t,e,$1f){if($c.$24()){var m=$c.multiselect;m.previous=m.events();var $m={};$m.e=e;$m.selected=m.isSelected(e);$m.ctrl=$1f;$m.preventDefault=function(){this.preventDefault.value=true;};if(typeof $c.onEventSelect==='function'){$c.onEventSelect($m);if($m.preventDefault.value){return;}};switch($c.eventSelectHandling){case 'PostBack':$c.eventSelectPostBack(e,$1i);break;case 'CallBack':if(typeof WebForm_InitCallback!=='undefined'){window.__theFormPostData="";window.__theFormPostCollection=[];WebForm_InitCallback();};$c.eventSelectCallBack(e,$1i);break;case 'Update':m.$3a($t,$1f);break;};if(typeof $c.onEventSelected==='function'){$m.change=m.isSelected(e)?"selected":"deselected";$m.selected=m.isSelected(e);$c.onEventSelected($m);}}else{var m=$c.multiselect;m.previous=m.events();m.$3a($t,$1f);var $1i=m.isSelected(e)?"selected":"deselected";switch($c.eventSelectHandling){case 'PostBack':$c.eventSelectPostBack(e,$1i);break;case 'CallBack':if(typeof WebForm_InitCallback!=='undefined'){window.__theFormPostData="";window.__theFormPostCollection=[];WebForm_InitCallback();};$c.eventSelectCallBack(e,$1i);break;case 'JavaScript':$c.onEventSelect(e,$1i);break;}}};this.eventRightClickPostBack=function(e,$i){this.$2Z("EventRightClick",$i,e);};this.eventRightClickCallBack=function(e,$i){this.$31('EventRightClick',e,$i);};this.$2y=function(e){this.event=e;if(!e.client.rightClickEnabled()){return false;};if($c.$24()){var $m={};$m.e=e;$m.preventDefault=function(){this.preventDefault.value=true;};if(typeof $c.onEventRightClick==='function'){$c.onEventRightClick($m);if($m.preventDefault.value){return;}};switch($c.eventRightClickHandling){case 'PostBack':$c.eventRightClickPostBack(e);break;case 'CallBack':$c.eventRightClickCallBack(e);break;case 'ContextMenu':var $1h=e.client.contextMenu();if($1h){$1h.show(e);}else{if($c.contextMenu){$c.contextMenu.show(this.event);}};break;case 'Bubble':if($c.bubble){$c.bubble.showEvent(e);};break;};if(typeof $c.onEventRightClicked==='function'){$c.onEventRightClicked($m);}}else{switch($c.eventRightClickHandling){case 'PostBack':$c.eventRightClickPostBack(e);break;case 'CallBack':$c.eventRightClickCallBack(e);break;case 'JavaScript':$c.onEventRightClick(e);break;case 'ContextMenu':var $1h=e.client.contextMenu();if($1h){$1h.show(e);}else{if($c.contextMenu){$c.contextMenu.show(this.event);}};break;case 'Bubble':if($c.bubble){$c.bubble.showEvent(e);};break;}};return false;};this.eventMenuClickPostBack=function(e,$1j,$i){var $1e={};$1e.e=e;$1e.command=$1j;this.$2Z('EventMenuClick',$i,$1e);};this.eventMenuClickCallBack=function(e,$1j,$i){var $1e={};$1e.e=e;$1e.command=$1j;this.$31('EventMenuClick',$1e,$i);};this.$3b=function($1j,e,$1k){switch($1k){case 'PostBack':$c.eventMenuClickPostBack(e,$1j);break;case 'CallBack':$c.eventMenuClickCallBack(e,$1j);break;}};this.eventMovePostBack=function(e,$1l,$1m,$i,$0c){if(!$1l)throw 'newStart is null';if(!$1m)throw 'newEnd is null';var $1e={};$1e.e=e;$1e.newStart=$1l;$1e.newEnd=$1m;$1e.position=$0c;this.$2Z('EventMove',$i,$1e);};this.eventMoveCallBack=function(e,$1l,$1m,$i,$0c){if(!$1l)throw 'newStart is null';if(!$1m)throw 'newEnd is null';var $1e={};$1e.e=e;$1e.newStart=$1l;$1e.newEnd=$1m;$1e.position=$0c;this.$31('EventMove',$1e,$i);};this.$2C=function(e,x,y,$C,ev,$0c){var $1n=DayPilot.Date.getTime(e.start().d);var $0E=DayPilot.Date.getDate(e.end().d);if($0E.getTime()!==e.end().d.getTime()){$0E=DayPilot.Date.addDays($0E,1);};var $1o=DayPilot.Date.diff(e.end().d,$0E);var $1p=this.$2l(x,y);$1p=DayPilot.Date.addDays($1p,-$C);var $B=DayPilot.Date.daysSpan(e.start().d,e.end().d)+1;var $1q=DayPilot.Date.addDays($1p,$B);var $1l=new DayPilot.Date(DayPilot.Date.addTime($1p,$1n));var $1m=new DayPilot.Date(DayPilot.Date.addTime($1q,$1o));if($c.$24()){var $m={};$m.e=e;$m.newStart=$1l;$m.newEnd=$1m;$m.position=$0c;$m.ctrl=false;if(ev){$m.ctrl=ev.ctrlKey;};$m.shift=false;if(ev){$m.shift=ev.shiftKey;};$m.preventDefault=function(){this.preventDefault.value=true;};if(typeof $c.onEventMove==='function'){$c.onEventMove($m);if($m.preventDefault.value){return;}};switch($c.eventMoveHandling){case 'PostBack':$c.eventMovePostBack(e,$1l,$1m,null,$0c);break;case 'CallBack':$c.eventMoveCallBack(e,$1l,$1m,null,$0c);break;case 'Notify':$c.eventMoveNotify(e,$1l,$1m,null,$0c);break;case 'Update':e.start($1l);e.end($1m);$c.events.update(e);break;};if(typeof $c.onEventMoved==='function'){$c.onEventMoved($m);}}else{switch($c.eventMoveHandling){case 'PostBack':$c.eventMovePostBack(e,$1l,$1m,null,$0c);break;case 'CallBack':$c.eventMoveCallBack(e,$1l,$1m,null,$0c);break;case 'JavaScript':$c.onEventMove(e,$1l,$1m,ev.ctrlKey,ev.shiftKey,$0c);break;case 'Notify':$c.eventMoveNotify(e,$1l,$1m,null,$0c);break;}}};this.eventMoveNotify=function(e,$1l,$1m,$i,$u){var $1r=new DayPilot.Event(e.copy(),this);e.start($1l);e.end($1m);e.commit();$c.update();this.$3c("Notify",$1r,$1l,$1m,$i,$u);};this.$3c=function($1b,e,$1l,$1m,$i,$u){var $1e={};$1e.e=e;$1e.newStart=$1l;$1e.newEnd=$1m;$1e.position=$u;this.$35($1b,"EventMove",$1e,$i);};this.eventResizePostBack=function(e,$1l,$1m,$i){if(!$1l)throw 'newStart is null';if(!$1m)throw 'newEnd is null';var $1e={};$1e.e=e;$1e.newStart=$1l;$1e.newEnd=$1m;this.$2Z('EventResize',$i,$1e);};this.eventResizeCallBack=function(e,$1l,$1m,$i){if(!$1l)throw 'newStart is null';if(!$1m)throw 'newEnd is null';var $1e={};$1e.e=e;$1e.newStart=$1l;$1e.newEnd=$1m;this.$31('EventResize',$1e,$i);};this.$3d=function(e,$0b,$B){var $1n=DayPilot.Date.getTime(e.start().d);var $0E=DayPilot.Date.getDate(e.end().d);if(!DayPilot.Date.equals($0E,e.end().d)){$0E=DayPilot.Date.addDays($0E,1);};var $1o=DayPilot.Date.diff(e.end().d,$0E);var $1p=this.$2l($0b.x,$0b.y);var $1q=DayPilot.Date.addDays($1p,$B);var $1l=new DayPilot.Date(DayPilot.Date.addTime($1p,$1n));var $1m=new DayPilot.Date(DayPilot.Date.addTime($1q,$1o));if($c.$24()){var $m={};$m.e=e;$m.newStart=$1l;$m.newEnd=$1m;$m.preventDefault=function(){this.preventDefault.value=true;};if(typeof $c.onEventResize==='function'){$c.onEventResize($m);if($m.preventDefault.value){return;}};switch($c.eventResizeHandling){case 'PostBack':$c.eventResizePostBack(e,$1l,$1m);break;case 'CallBack':$c.eventResizeCallBack(e,$1l,$1m);break;case 'Notify':$c.eventResizeNotify(e,$1l,$1m);break;case 'Update':e.start($1l);e.end($1m);$c.events.update(e);break;};if(typeof $c.onEventResized==='function'){$c.onEventResized($m);}}else{switch($c.eventResizeHandling){case 'PostBack':$c.eventResizePostBack(e,$1l,$1m);break;case 'CallBack':$c.eventResizeCallBack(e,$1l,$1m);break;case 'JavaScript':$c.onEventResize(e,$1l,$1m);break;case 'Notify':$c.eventResizeNotify(e,$1l,$1m);break;}}};this.eventResizeNotify=function(e,$1l,$1m,$i){var $1r=new DayPilot.Event(e.copy(),this);e.start($1l);e.end($1m);e.commit();$c.update();this.$3e("Notify",$1r,$1l,$1m,$i);};this.$3e=function($1b,e,$1l,$1m,$i){var $1e={};$1e.e=e;$1e.newStart=$1l;$1e.newEnd=$1m;this.$35($1b,"EventResize",$1e,$i);};this.timeRangeSelectedPostBack=function($0b,end,$i){var $0g={};$0g.start=$0b;$0g.end=end;this.$2Z('TimeRangeSelected',$i,$0g);};this.timeRangeSelectedCallBack=function($0b,end,$i){var $0g={};$0g.start=$0b;$0g.end=end;this.$31('TimeRangeSelected',$0g,$i);};this.$2D=function($0b,end){if($c.$24()){var $m={};$m.start=$0b;$m.end=end;$m.preventDefault=function(){this.preventDefault.value=true;};if(typeof $c.onTimeRangeSelect==='function'){$c.onTimeRangeSelect($m);if($m.preventDefault.value){return;}};switch($c.timeRangeSelectedHandling){case 'PostBack':$c.timeRangeSelectedPostBack($0b,end);$c.clearSelection();break;case 'CallBack':$c.timeRangeSelectedCallBack($0b,end);$c.clearSelection();break;};if(typeof $c.onTimeRangeSelected==='function'){$c.onTimeRangeSelected($m);}}else{switch($c.timeRangeSelectedHandling){case 'PostBack':$c.timeRangeSelectedPostBack($0b,end);$c.clearSelection();break;case 'CallBack':$c.timeRangeSelectedCallBack($0b,end);$c.clearSelection();break;case 'JavaScript':$c.onTimeRangeSelected($0b,end);break;}}};this.timeRangeMenuClickPostBack=function(e,$1j,$i){var $1e={};$1e.selection=e;$1e.command=$1j;this.$2Z("TimeRangeMenuClick",$i,$1e);};this.timeRangeMenuClickCallBack=function(e,$1j,$i){var $1e={};$1e.selection=e;$1e.command=$1j;this.$31("TimeRangeMenuClick",$1e,$i);};this.$3f=function($1j,e,$1k){switch($1k){case 'PostBack':$c.timeRangeMenuClickPostBack(e,$1j);break;case 'CallBack':$c.timeRangeMenuClickCallBack(e,$1j);break;}};this.headerClickPostBack=function(c,$i){this.$2Z('HeaderClick',$i,c);};this.headerClickCallBack=function(c,$i){this.$31('HeaderClick',c,$i);};this.$2P=function(x){var $i=this.data;var c={$11:x};if($c.$24()){var $m={};$m.header={};$m.header.dayOfWeek=x;$m.preventDefault=function(){this.preventDefault.value=true;};if(typeof $c.onHeaderClick==='function'){$c.onHeaderClick($m);if($m.preventDefault.value){return;}};switch($c.headerClickHandling){case 'PostBack':$c.headerClickPostBack(c);break;case 'CallBack':$c.headerClickCallBack(c);break;};if(typeof $c.onHeaderClicked==='function'){$c.onHeaderClicked($m);}}else{switch($c.headerClickHandling){case 'PostBack':$c.headerClickPostBack(c);break;case 'CallBack':$c.headerClickCallBack(c);break;case 'JavaScript':$c.onHeaderClick(c);break;}}};this.timeRangeDoubleClickPostBack=function($0b,end,$i){var $0g={};$0g.start=$0b;$0g.end=end;this.$2Z('TimeRangeDoubleClick',$i,$0g);};this.timeRangeDoubleClickCallBack=function($0b,end,$i){var $0g={};$0g.start=$0b;$0g.end=end;this.$31('TimeRangeDoubleClick',$0g,$i);};this.$2Y=function($0b,end){if($c.$24()){var $m={};$m.start=$0b;$m.end=end;$m.preventDefault=function(){this.preventDefault.value=true;};if(typeof $c.onTimeRangeDoubleClick==='function'){$c.onTimeRangeDoubleClick($m);if($m.preventDefault.value){return;}};switch($c.timeRangeDoubleClickHandling){case 'PostBack':$c.timeRangeDoubleClickPostBack($0b,end);break;case 'CallBack':$c.timeRangeDoubleClickCallBack($0b,end);break;};if(typeof $c.onTimeRangeDoubleClicked==='function'){$c.onTimeRangeDoubleClicked($m);}}else{switch($c.timeRangeDoubleClickHandling){case 'PostBack':$c.timeRangeDoubleClickPostBack($0b,end);break;case 'CallBack':$c.timeRangeDoubleClickCallBack($0b,end);break;case 'JavaScript':$c.onTimeRangeDoubleClick($0b,end);break;}}};this.commandCallBack=function($1j,$i){this.$3g();var $1e={};$1e.command=$1j;this.$31('Command',$1e,$i);};this.$3h=function(e){for(var i=0;i<$c.elements.events.length;i++){var $t=$c.elements.events[i];if($t.event===e||$t.event.data===e.data){return $t;}};return null;};this.$2w=function(e){var $d={};$d.list=[];$d.each=function(m){if(!m){return;};for(var i=0;i<this.list.length;i++){m(this.list[i]);}};for(var i=0;i<this.elements.events.length;i++){var $t=this.elements.events[i];if($t.event.data===e.data){$d.list.push($t);}};return $d;};this.$3i=function($1s){var $t=document.createElement("div");$t.style.position="absolute";$t.style.top="-2000px";$t.style.left="-2000px";$t.className=this.$25($1s);document.body.appendChild($t);var $J=$t.offsetHeight;var $B=$t.offsetWidth;document.body.removeChild($t);var $d={};$d.height=$J;$d.width=$B;return $d;};this.$3j={};var $N=this.$3j;$N.lineHeight=function(){return $N.eventHeight()+$c.lineSpace;};$N.rounded=function(){return $c.eventCorners==="Rounded";};$N.loadFromServer=function(){if($c.backendUrl){return(typeof $c.events.list==='undefined')||(!$c.events.list);}else{return false;}};$N.locale=function(){return DayPilot.Locale.find($c.locale);};$N.getWeekStart=function(){if($c.showWeekend){return $c.weekStarts;}else{return 1;}};$N.notifyType=function(){var $1b;if($c.notifyCommit==='Immediate'){$1b="Notify";}else if($c.notifyCommit==='Queue'){$1b="Queue";}else{throw "Invalid notifyCommit value: "+$c.notifyCommit;};return $1b;};$N.eventHeight=function(){if($c.$1Q.eventHeight){return $c.$1Q.eventHeight;};var $J=$c.$3i("_event_height").height;if(!$J){$J=$c.eventHeight;};$c.$1Q.eventHeight=$J;return $J;};$N.headerHeight=function(){if($c.$1Q.headerHeight){return $c.$1Q.headerHeight;};var $J=$c.$3i("_header_height").height;if(!$J){$J=$c.headerHeight;};$c.$1Q.headerHeight=$J;return $J;};this.multiselect={};this.multiselect.initList=[];this.multiselect.list=[];this.multiselect.divs=[];this.multiselect.previous=[];this.multiselect.$3k=function(){var m=$c.multiselect;return DayPilot.JSON.stringify(m.events());};this.multiselect.events=function(){var m=$c.multiselect;var $1t=[];$1t.ignoreToJSON=true;for(var i=0;i<m.list.length;i++){$1t.push(m.list[i]);};return $1t;};this.multiselect.$3l=function(){};this.multiselect.$3a=function($t,$1u){var m=$c.multiselect;if(m.isSelected($t.event)){if($c.allowMultiSelect){if($1u){m.remove($t.event,true);}else{var $0t=m.list.length;m.clear(true);if($0t>1){m.add($t.event,true);}}}else{m.clear(true);}}else{if($c.allowMultiSelect){if($1u){m.add($t.event,true);}else{m.clear(true);m.add($t.event,true);}}else{m.clear(true);m.add($t.event,true);}};m.redraw();m.$3l();};this.multiselect.$2s=function(ev){var m=$c.multiselect;return m.$3m(ev,m.initList);};this.multiselect.$3n=function(){var m=$c.multiselect;var $02=[];for(var i=0;i<m.list.length;i++){var event=m.list[i];$02.push(event.value());};alert($02.join("\n"));};this.multiselect.add=function(ev,$1v){var m=$c.multiselect;if(m.indexOf(ev)===-1){m.list.push(ev);};if($1v){return;};m.redraw();};this.multiselect.remove=function(ev,$1v){var m=$c.multiselect;var i=m.indexOf(ev);if(i!==-1){m.list.splice(i,1);}};this.multiselect.clear=function($1v){var m=$c.multiselect;m.list=[];if($1v){return;};m.redraw();};this.multiselect.redraw=function(){var m=$c.multiselect;for(var i=0;i<$c.elements.events.length;i++){var $t=$c.elements.events[i];if(m.isSelected($t.event)){m.$3o($t);}else{m.$3p($t);}}};this.multiselect.$3o=function($t){var m=$c.multiselect;var cn=$c.cssOnly?$c.$25("_selected"):$c.$25("selected");var $t=m.$3q($t);DayPilot.Util.addClass($t,cn);m.divs.push($t);};this.multiselect.$3q=function($t){if($c.cssOnly){return $t;};return $t.firstChild;};this.multiselect.$3r=function(){var m=$c.multiselect;for(var i=0;i<m.divs.length;i++){var $t=m.divs[i];m.$3p($t,true);};m.divs=[];};this.multiselect.$3p=function($t,$1w){var m=$c.multiselect;var cn=$c.cssOnly?$c.$25("_selected"):$c.$25("selected");var c=m.$3q($t);if(c&&c.className&&c.className.indexOf(cn)!==-1){c.className=c.className.replace(cn,"");};if($1w){return;};var i=DayPilot.indexOf(m.divs,$t);if(i!==-1){m.divs.splice(i,1);}};this.multiselect.isSelected=function(ev){return $c.multiselect.$3m(ev,$c.multiselect.list);};this.multiselect.indexOf=function(ev){return DayPilot.indexOf($c.multiselect.list,ev);};this.multiselect.$3m=function(e,$02){if(!$02){return false;};for(var i=0;i<$02.length;i++){var ei=$02[i];if(e===ei){return true;};if(typeof ei.value==='function'){if(ei.value()!==null&&e.value()!==null&&ei.value()===e.value()){return true;};if(ei.value()===null&&e.value()===null&&ei.recurrentMasterId()===e.recurrentMasterId()&&e.start().toStringSortable()===ei.start()){return true;}}else{if(ei.value!==null&&e.value()!==null&&ei.value===e.value()){return true;};if(ei.value===null&&e.value()===null&&ei.recurrentMasterId===e.recurrentMasterId()&&e.start().toStringSortable()===ei.start){return true;}}};return false;};this.events.find=function(id){if(!$c.events.list||typeof $c.events.list.length==='undefined'){return null;};var $1x=$c.events.list.length;for(var i=0;i<$1x;i++){if($c.events.list[i].id===id){return new DayPilot.Event($c.events.list[i],$c);}};return null;};this.events.findRecurrent=function($1y,$1z){if(!$c.events.list||typeof $c.events.list.length==='undefined'){return null;};var $1x=$c.events.list.length;for(var i=0;i<$1x;i++){if($c.events.list[i].recurrentMasterId===$1y&&$c.events.list[i].start.getTime()===$1z.getTime()){return new DayPilot.Event($c.events.list[i],$c);}};return null;};this.events.update=function(e,$i){var $1e={};$1e.oldEvent=new DayPilot.Event(e.copy(),$c);$1e.newEvent=new DayPilot.Event(e.temp(),$c);var $17=new DayPilot.Action($c,"EventUpdate",$1e,$i);e.commit();if($c.$1P){$c.update();};$c.$2I.notify();return $17;};this.events.remove=function(e,$i){var $1e={};$1e.e=new DayPilot.Event(e.data,$c);var $17=new DayPilot.Action($c,"EventRemove",$1e,$i);var $0x=DayPilot.indexOf($c.events.list,e.data);$c.events.list.splice($0x,1);if($c.$1P){$c.update();};$c.$2I.notify();return $17;};this.events.add=function(e,$i){e.calendar=$c;if(!$c.events.list){$c.events.list=[];};$c.events.list.push(e.data);var $1e={};$1e.e=e;var $17=new DayPilot.Action($c,"EventAdd",$1e,$i);if($c.$1P){$c.update();};$c.$2I.notify();return $17;};this.queue={};this.queue.list=[];this.queue.list.ignoreToJSON=true;this.queue.add=function($17){if(!$17){return;};if($17.isAction){$c.queue.list.push($17);}else{throw "DayPilot.Action object required for queue.add()";}};this.queue.notify=function($i){var $1e={};$1e.actions=$c.queue.list;$c.$31('Notify',$1e,$i,"Notify");$c.queue.list=[];};this.queue.clear=function(){$c.queue.list=[];};this.queue.pop=function(){return $c.queue.list.pop();};this.$23=function($1A){if($1A){this.autoRefreshEnabled=true;};if(!this.autoRefreshEnabled){return;};if(this.autoRefreshCount>=this.autoRefreshMaxCount){return;};this.$3g();var $1B=this.autoRefreshInterval;if(!$1B||$1B<10){throw "The minimum autoRefreshInterval is 10 seconds";};this.autoRefreshTimeout=window.setTimeout(function(){$c.$3s();},this.autoRefreshInterval*1000);};this.$3g=function(){if(this.autoRefreshTimeout){window.clearTimeout(this.autoRefreshTimeout);}};this.$3s=function(){if(!DayPilotMonth.eventResizing&&!DayPilotMonth.eventMoving&&!DayPilotMonth.timeRangeSelecting){var $1C=false;if(typeof this.onAutoRefresh==='function'){var $m={};$m.i=this.autoRefreshCount;$m.preventDefault=function(){this.preventDefault.value=true;};$c.onAutoRefresh($m);if($m.preventDefault.value){$1C=true;}};if(!$1C&&this.$32()){this.commandCallBack(this.autoRefreshCommand);};this.autoRefreshCount++;};if(this.autoRefreshCount<this.autoRefreshMaxCount){this.autoRefreshTimeout=window.setTimeout(function(){$c.$3s();},this.autoRefreshInterval*1000);}};this.$3t=function($m){if(!this.cells){return;};var $m=$m||{};var $1D=!$m.eventsOnly;$c.$1V();$c.$1W();$c.$1X();if($1D){$c.$1Y();$c.$1Z();};$c.$20();$c.$21();$c.$22();};this.update=function(){this.$3t();};this.dispose=function(){var c=$c;if(!c.nav.top){return;};c.$3g();c.$1V();c.nav.top.removeAttribute("style");c.nav.top.removeAttribute("class");c.nav.top.innerHTML='';c.nav.top.dp=null;c.nav.top=null;DayPilotMonth.unregister(c);};this.$3u=function(){if(!DayPilotMonth.globalHandlers){DayPilotMonth.globalHandlers=true;DayPilot.re(document,'mouseup',DayPilotMonth.gMouseUp);};DayPilot.re(window,'resize',this.$2N);};this.$21=function(){if(this.nav.top.style.visibility==='hidden'){this.nav.top.style.visibility='visible';}};this.show=function(){$c.nav.top.style.display='';};this.hide=function(){$c.nav.top.style.display='none';};this.$3v=function(){if(this.id&&this.id.tagName){this.nav.top=this.id;}else if(typeof this.id==="string"){this.nav.top=document.getElementById(this.id);if(!this.nav.top){throw "DayPilot.Month: The placeholder element not found: '"+id+"'.";}}else{throw "DayPilot.Month() constructor requires the target element or its ID as a parameter";}};this.$3w=function(){this.$3v();this.$1W();this.$2J();this.$1Z();this.$3u();this.$23();this.$31('Init');DayPilotMonth.register(this);};this.init=function(){this.$3v();if(this.nav.top.dp){return;};var $1E=$N.loadFromServer();if($1E){this.$3w();this.$1P=true;return;};this.$1W();this.$1X();this.$2J();this.$1Z();this.$21();this.$22();this.$20();this.$3u();if(this.messageHTML){this.message(this.messageHTML);};this.$1T(null,false);this.$23();DayPilotMonth.register(this);this.$1P=true;this.$3x();};this.$3y=null;this.$3z=function($b){var $1F={"events":{"preInit":function(){var $1t=this.data;if(!$1t){return;};if(DayPilot.isArray($1t.list)){$c.events.list=$1t.list;}else{$c.events.list=$1t;}}}};this.$3y=$1F;for(var name in $b){if($1F[name]){var $1G=$1F[name];$1G.data=$b[name];if($1G.preInit){$1G.preInit();}}else{$c[name]=$b[name];}}};this.$3x=function(){var $1F=this.$3y;for(var name in $1F){var $1G=$1F[name];if($1G.postInit){$1G.postInit();}}};this.internal={};this.internal.initialized=function(){return $c.$1P;};this.internal.invokeEvent=this.$35;this.internal.eventMenuClick=this.$3b;this.internal.timeRangeMenuClick=this.$3f;this.internal.bubbleCallBack=this.$36;this.internal.findEventDiv=this.$3h;this.Init=this.init;this.$3z($b);};DayPilotMonth.register=function($c){if(!DayPilotMonth.registered){DayPilotMonth.registered=[];};for(var i=0;i<DayPilotMonth.registered.length;i++){if(DayPilotMonth.registered[i]===$c){return;}};DayPilotMonth.registered.push($c);};DayPilotMonth.unregister=function($c){var a=DayPilotMonth.registered;if(a){var i=DayPilot.indexOf(a,$c);if(i!==-1){a.splice(i,1);};if(a.length===0){a=null;}};if(!a){DayPilot.ue(document,'mouseup',DayPilotMonth.gMouseUp);DayPilotMonth.globalHandlers=false;}};DayPilotMonth.gMouseUp=function(ev){if(DayPilotMonth.movingEvent){var $0a=DayPilotMonth.movingEvent;DayPilotMonth.movingEvent=null;if(!$0a.event||!$0a.event.calendar||!$0a.event.calendar.shadow||!$0a.event.calendar.shadow.start){return;};var $c=$0a.event.calendar;var e=$0a.event;var $0b=$c.shadow.start;var $0c=$c.shadow.position;var $C=$0a.offset;$c.$2k();var ev=ev||window.event;$c.$2C(e,$0b.x,$0b.y,$C,ev,$0c);ev.cancelBubble=true;if(ev.stopPropagation){ev.stopPropagation();};return false;}else if(DayPilotMonth.resizingEvent){var $0a=DayPilotMonth.resizingEvent;DayPilotMonth.resizingEvent=null;if(!$0a.event||!$0a.event.calendar||!$0a.event.calendar.shadow||!$0a.event.calendar.shadow.start){return;};var $c=$0a.event.calendar;var e=$0a.event;var $0b=$c.shadow.start;var $B=$c.shadow.width;$c.$2k();$c.$3d(e,$0b,$B);ev.cancelBubble=true;return false;}else if(DayPilotMonth.timeRangeSelecting){if(DayPilotMonth.timeRangeSelecting.moved){var $0d=DayPilotMonth.timeRangeSelecting;var $c=$0d.root;var $0b=new DayPilot.Date($c.$2l($0d.from.x,$0d.from.y));var end=$0b.addDays($0d.width);$c.$2D($0b,end);};DayPilotMonth.timeRangeSelecting=null;}};DayPilot.MonthVisible.Month=DayPilotMonth.Month;if(typeof jQuery!=='undefined'){(function($){$.fn.daypilotMonth=function($b){var $1H=null;var j=this.each(function(){if(this.daypilot){return;};var $1I=new DayPilot.Month(this.id,$b);$1I.init();this.daypilot=$1I;if(!$1H){$1H=$1I;}});if(this.length===1){return $1H;}else{return j;}};})(jQuery);};(function registerAngularModule(){var $1J=DayPilot.am();if(!$1J){return;};$1J.directive("daypilotMonth",function(){return{"restrict":"E","template":"<div></div>","replace":true,"link":function($1K,element,$1L){var $c=new DayPilot.Month(element[0]);$c.$2I.scope=$1K;$c.init();var $1M=$1L["id"];if($1M){$1K[$1M]=$c;};var $1N=$1K["$watch"];$1N.call($1K,$1L["daypilotConfig"],function($1O){for(var name in $1O){$c[name]=$1O[name];};$c.update();});$1N.call($1K,$1L["daypilotEvents"],function($1O){$c.events.list=$1O;$c.$3t({"eventsOnly":true});},true);}};});})();if(typeof Sys!=='undefined'&&Sys.Application&&Sys.Application.notifyScriptLoaded){Sys.Application.notifyScriptLoaded();}})();

