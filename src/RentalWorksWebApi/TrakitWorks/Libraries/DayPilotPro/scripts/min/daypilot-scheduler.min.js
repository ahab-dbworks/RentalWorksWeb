/*
DayPilot Pro
Copyright (c) 2005 - 2014 Annpoint s.r.o.
http://www.daypilot.org/
Use of this software is subject to license terms.
Version: 1338
*/
if(typeof DayPilot==='undefined'){var DayPilot={};};if(typeof DayPilot.Global==='undefined'){DayPilot.Global={};};if(typeof DayPilotScheduler==='undefined'){var DayPilotScheduler=DayPilot.SchedulerVisible={};};(function(){if(typeof DayPilot.Scheduler!=='undefined'){return;};var $a=(function(){var $b=navigator.userAgent;return(($b.indexOf('Mozilla/5.0')>-1&&$b.indexOf('Android ')>-1&&$b.indexOf('AppleWebKit')>-1)&&!($b.indexOf('Chrome')>-1));})();var DayPilotScheduler={};var $c=function(){};DayPilot.Scheduler=function(id,$d){this.v='1338';var $e=this;this.id=id;this.isScheduler=true;this.hideUntilInit=true;this.api=2;this.allowDefaultContextMenu=false;this.allowEventOverlap=true;this.allowMultiSelect=true;this.autoRefreshCommand='refresh';this.autoRefreshEnabled=false;this.autoRefreshInterval=60;this.autoRefreshMaxCount=20;this.autoScroll="Drag";this.blockOnCallBack=false;this.borderColor="#000000";this.businessBeginsHour=9;this.businessEndsHour=18;this.cellBackColor="#FFFFD5";this.cellBackColorNonBusiness="#FFF4BC";this.cellBorderColor="#EAD098";this.cellDuration=60;this.cellGroupBy='Day';this.cellSelectColor="#316AC5";this.cellWidth=40;this.cellWidthSpec="Fixed";this.groupConcurrentEvents=false;this.groupConcurrentEventsLimit=1;this.$79=true;this.cellSweeping=true;this.cellSweepingCacheSize=1000;this.crosshairColor='Gray';this.crosshairOpacity=20;this.crosshairType='Header';this.doubleClickTimeout=300;this.dragOutAllowed=false;this.durationBarColor='blue';this.durationBarHeight=3;this.durationBarVisible=true;this.durationBarMode="Duration";this.$7a=false;this.days=1;this.drawBlankCells=true;this.dynamicEventRendering='Progressive';this.dynamicEventRenderingMargin=500;this.dynamicEventRenderingCacheSweeping=false;this.dynamicEventRenderingCacheSize=200;this.dynamicLoading=false;this.eventBorderColor="#000000";this.eventBorderVisible=true;this.eventBackColor="#FFFFFF";this.eventEndSpec="DateTime";this.eventFontFamily="Tahoma, Arial";this.eventFontSize='8pt';this.eventFontColor='#000000';this.eventHeight=25;this.eventMoveMargin=5;this.eventMoveToPosition=false;this.eventResizeMargin=5;this.eventStackingLineHeight=100;this.$7b=false;this.headerFontColor="#000000";this.headerFontFamily="Tahoma, Arial";this.headerFontSize='8pt';this.headerHeight=20;this.heightSpec='Auto';this.hourFontFamily="Tahoma, Arial";this.hourFontSize='10pt';this.hourNameBackColor="#ECE9D8";this.hourNameBorderColor="#ACA899";this.layout='Auto';this.linkCreateHandling="Disabled";this.linkBottomMargin=10;this.locale="en-us";this.loadingLabelText="Loading...";this.loadingLabelVisible=true;this.loadingLabelBackColor="orange";this.loadingLabelFontColor="#ffffff";this.loadingLabelFontFamily="Tahoma";this.loadingLabelFontSize="10pt";this.messageHideAfter=5000;this.moveBy='Full';this.notifyCommit='Immediate';this.numberFormat=null;this.progressiveRowRendering=true;this.progressiveRowRenderingPreload=25;this.timeHeaders=[{"groupBy":"Default"},{"groupBy":"Cell"}];this.treePreventParentUsage=false;this.treeAutoExpand=true;this.rowHeaderHideIconEnabled=false;this.rowHeaderWidth=80;this.rowHeaderScrolling=false;this.rowHeaderSplitterWidth=3;this.rowHeaderWidthAutoFit=true;this.rowHeaderCols=null;this.rowMarginBottom=0;this.rowMarginTop=0;this.rowMinHeight=0;this.scale="CellDuration";this.scrollDelayDynamic=500;this.scrollDelayEvents=200;this.scrollDelayCells=20;this.scrollDelayFloats=0;this.scrollX=0;this.scrollY=0;this.shadow="Fill";this.showBaseTimeHeader=true;this.showNonBusiness=true;this.showToolTip=true;this.snapToGrid=true;this.startDate=new DayPilot.Date().getDatePart();this.syncResourceTree=false;this.timeBreakColor='#000000';this.treeEnabled=false;this.treeIndent=20;this.treeImageMarginLeft=5;this.treeImageMarginTop=5;this.timeFormat="Auto";this.useEventBoxes='Always';this.viewType='Resources';this.weekStarts='Auto';this.width=null;this.floatingEvents=true;this.floatingTimeHeaders=true;this.eventCorners='Regular';;this.separators=[];this.cornerHtml='';this.$7c=-1;this.$7d=-1;this.eventClickHandling='Enabled';this.eventDeleteHandling="Disabled";this.eventHoverHandling='Bubble';this.eventDoubleClickHandling='Disabled';this.eventEditHandling='Update';this.eventMoveHandling='Update';this.eventResizeHandling='Update';this.eventRightClickHandling='ContextMenu';this.eventSelectHandling='Update';this.rowClickHandling='Enabled';this.rowDoubleClickHandling="Disabled";this.rowCreateHandling="Disabled";this.rowEditHandling='Update';this.rowSelectHandling='Update';this.rowMoveHandling="Disabled";this.timeRangeDoubleClickHandling='Disabled';this.timeRangeSelectedHandling='Enabled';this.eventMovingStartEndEnabled=false;this.eventMovingStartEndFormat="MMMM d, yyyy";this.timeRangeSelectingStartEndEnabled=false;this.timeRangeSelectingStartEndFormat="MMMM d, yyyy";this.eventResizingStartEndEnabled=false;this.eventResizingStartEndFormat="MMMM d, yyyy";this.cssOnly=true;this.cssClassPrefix="scheduler_default";this.backendUrl=null;if($e.api===1){this.onEventMove=function(){};this.onEventResize=function(){};this.onResourceExpand=function(){};this.onResourceCollapse=function(){};};this.onRowHeaderResized=null;this.autoRefreshCount=0;this.$7e=0;this.rowlist=[];this.itline=[];this.timeline=null;this.events={};this.cells={};this.elements={};this.elements.events=[];this.elements.bars=[];this.elements.text=[];this.elements.cells=[];this.elements.linesVertical=[];this.elements.separators=[];this.elements.range=[];this.elements.breaks=[];this.elements.links=[];this.elements.linkpoints=[];this.$7f={};this.$7f.cells=[];this.$7f.linesVertical=[];this.$7f.linesHorizontal=[];this.$7f.timeHeaderGroups=[];this.$7f.pixels=[];this.$7f.breaks=[];this.$7f.events=[];this.clientState={};this.q=new DayPilot.Queue();this.members={};this.members.obsolete=["Init","cleanSelection","cssClassPrefix","getHScrollPosition","setHScrollPosition","getVScrollPosition","setVScrollPosition","showBaseTimeHeader"];this.members.ignoreFilter=function(name){if(name.indexOf("div")===0){return true;};return false;};this.members.ignore=["internal","nav","debug","temp","elements","members","cellProperties","itline","rowlist","timeHeader"];this.members.noCssOnly=["borderColor","cellBackColor","cellBackColorNonBusiness","cellBorderColor","cellSelectColor","durationBarColor","eventBackColor","eventBorderColor","eventBorderVisible","eventCorners","eventFontColor","eventFontFamily","eventFontSize","headerFontColor","headerFontFamily","headerFontSize","hourFontFamily","hourFontSize","hourNameBackColor","hourNameBorderColor","loadingLabelBackColor","loadingLabelFontColor","loadingLabelFontFamily","loadingLabelFontSize","shadow","timeBreakColor"];this.nav={};this.$7g=function($f,$g){var $f=eval("("+$f+")");if(typeof $e.onCallBackResult==="function"){var $h={};$h.result=$f;$h.preventDefault=function(){$h.preventDefault.value=true;};$e.onCallBackResult($h);if($h.preventDefault.value){$e.$7h();$e.$7i();$e.$7j();if($f.Message){if($e.message){$e.message($f.Message);}};$e.$7k($f.CallBackData,true);$e.$7l();$e.$7m();return;}};if($f.BubbleGuid){var $i=$f.BubbleGuid;var $j=this.bubbles[$i];delete this.bubbles[$i];$e.$7i();if(typeof $f.Result.BubbleHTML!=='undefined'){$j.updateView($f.Result.BubbleHTML,$j);};$e.$7l();return;};if($f.CallBackRedirect){document.location.href=$f.CallBackRedirect;return;};if(typeof DayPilot.Bubble!=="undefined"){DayPilot.Bubble.hideActive();};if(typeof $f.ClientState!=='undefined'){if($f.ClientState===null){$e.clientState={};}else{$e.clientState=$f.ClientState;}};if($f.UpdateType==="None"){$e.$7i();$e.$7l();if($f.Message){$e.message($f.Message);};$e.$7k($f.CallBackData,true);return;};if($f.VsUpdate){var $k=document.createElement("input");$k.type='hidden';$k.name=$e.id+"_vsupdate";$k.id=$k.name;$k.value=$f.VsUpdate;$e.$7n.innerHTML='';$e.$7n.appendChild($k);};if(typeof $f.TagFields!=='undefined'){$e.tagFields=$f.TagFields;};if(typeof $f.SortDirections!=='undefined'){$e.sortDirections=$f.SortDirections;};$e.$7f.drawArea=null;if($f.UpdateType==="Full"){$e.resources=$f.Resources;$e.colors=$f.Colors;$e.palette=$f.Palette;$e.dirtyColors=$f.DirtyColors;$e.cellProperties=$f.CellProperties;$e.cellConfig=$f.CellConfig;$e.separators=$f.Separators;$e.timeline=$f.Timeline;$e.timeHeader=$f.TimeHeader;$e.timeHeaders=$f.TimeHeaders;if(typeof $f.RowHeaderColumns!=='undefined')$e.rowHeaderColumns=$f.RowHeaderColumns;$e.startDate=$f.StartDate?new DayPilot.Date($f.StartDate):$e.startDate;$e.days=$f.Days?$f.Days:$e.days;$e.cellDuration=$f.CellDuration?$f.CellDuration:$e.cellDuration;$e.cellGroupBy=$f.CellGroupBy?$f.CellGroupBy:$e.cellGroupBy;$e.cellWidth=$f.CellWidth?$f.CellWidth:$e.cellWidth;$e.viewType=$f.ViewType?$f.ViewType:$e.viewType;$e.hourNameBackColor=$f.HourNameBackColor?$f.HourNameBackColor:$e.hourNameBackColor;$e.showNonBusiness=$f.ShowNonBusiness?$f.ShowNonBusiness:$e.showNonBusiness;$e.businessBeginsHour=$f.BusinessBeginsHour?$f.BusinessBeginsHour:$e.businessBeginsHour;$e.businessEndsHour=$f.BusinessEndsHour?$f.BusinessEndsHour:$e.businessEndsHour;if(typeof $f.DynamicLoading!=='undefined')$e.dynamicLoading=$f.DynamicLoading;if(typeof $f.TreeEnabled!=='undefined')$e.treeEnabled=$f.TreeEnabled;$e.backColor=$f.BackColor?$f.BackColor:$e.backColor;$e.nonBusinessBackColor=$f.NonBusinessBackColor?$f.NonBusinessBackColor:$e.nonBusinessBackColor;$e.locale=$f.Locale?$f.Locale:$e.locale;if(typeof $f.TimeZone!=='undefined')$e.timeZone=$f.TimeZone;$e.timeFormat=$f.TimeFormat?$f.TimeFormat:$e.timeFormat;$e.rowHeaderCols=$f.RowHeaderCols?$f.RowHeaderCols:$e.rowHeaderCols;if(typeof $f.DurationBarMode!=="undefined")$e.durationBarMode=$f.DurationBarMode;$e.cornerBackColor=$f.CornerBackColor?$f.CornerBackColor:$e.cornerBackColor;if(typeof $f.CornerHTML!=='undefined'){$e.cornerHtml=$f.CornerHTML;};$e.hashes=$f.Hashes;$e.$7o();$e.$7p();$e.$7q();$e.$7r();};if($f.Action!=="Scroll"){$e.$7s($f.Events);};if($f.UpdateType==='Full'){$e.$7t();$e.$7u();};$e.$7v();$e.$7w();$e.$7f.drawArea=null;if($f.Action!=="Scroll"){$e.$7x();$e.$7y();if($e.heightSpec==='Auto'||$e.heightSpec==='Max'){$e.$7z();};$e.$7A();$e.$7B();$e.$7C();$e.multiselect.clear(true);$e.multiselect.initList=$f.SelectedEvents;$e.$7D();$e.$7E();$e.$7F();}else{$e.multiselect.clear(true);$e.multiselect.initList=$f.SelectedEvents;$e.$7G($f.Events);};if($e.timeRangeSelectedHandling!=="HoldForever"){$e.$7H();};if($f.UpdateType==="Full"){$e.setScroll($f.ScrollX,$f.ScrollY);$e.$7I();};$e.$7J();$e.$7h();$e.$7i();if($f.UpdateType==='Full'&&navigator.appVersion.indexOf("MSIE 7.")!==-1){window.setTimeout(function(){$e.$7t();$e.$7z();},0);};$e.$7j();if($f.Message){if($e.message){$e.message($f.Message);}};$e.$7k($f.CallBackData,true);$e.$7l();$e.$7m();};this.$7h=function(){if($e.todo){if($e.todo.del){var $l=$e.todo.del;$l.parentNode.removeChild($l);$e.todo.del=null;}}};this.$7k=function($m,$n){var $o=function($m,$p){return function(){if($e.$7K()){if(typeof $e.onAfterRender==='function'){var $h={};$h.isCallBack=$p;$h.data=$m;$e.onAfterRender($h);}}else{if($e.afterRender){$e.afterRender($m,$p);}}};};window.setTimeout($o($m,$n),0);};this.scrollTo=function($q){var $r=this.getPixels(new DayPilot.Date($q)).left;this.setScrollX($r);};this.scrollToResource=function(id){DayPilot.complete(function(){var $s=$e.$7L(id);if(!$s){return;};setTimeout(function(){var scrollY=$s.top;$e.nav.scroll.scrollTop=scrollY;},100);});};this.$7M=function(){if(!this.cssOnly){return;};if(!this.floatingTimeHeaders){return;};if(!this.timeHeader){return;};var $t=this.$7N();if(!$t){return;};this.$7O();var $u=$t.pixels.left;var end=$t.pixels.right;var $v=[];for(var y=0;y<this.timeHeader.length;y++){for(var x=0;x<this.timeHeader[y].length;x++){var h=this.timeHeader[y][x];var $w=h.left;var $x=h.left+h.width;var $y=null;if($w<$u&&$u<$x){$y={};$y.x=x;$y.y=y;$y.marginLeft=$u-$w;$y.marginRight=0;$y.div=this.$7f.timeHeader[x+"_"+y];$v.push($y);};if($w<end&&end<$x){if(!$y){$y={};$y.x=x;$y.y=y;$y.marginLeft=0;$y.div=this.$7f.timeHeader[x+"_"+y];$v.push($y);};$y.marginRight=$x-end;break;}}};for(var i=0;i<$v.length;i++){var $y=$v[i];this.$7P($y.div,$y.marginLeft,$y.marginRight);}};this.$7J=function(){this.$7M();this.$7Q();};this.$7R={};var $z=this.$7R;$z.events=function($A){var $B=[];var $A=$A||"All";var $t=$e.$7N();if(!$t){return DayPilot.list($B);};var $u=$t.pixels.left;var end=$t.pixels.right;for(var i=0;i<$e.elements.events.length;i++){var e=$e.elements.events[i];var $m=e.event;var $w=$m.part.left;var $x=$m.part.left+$m.part.width;switch($A){case "Left":if($w<$u&&$u<$x){$B.push(e);};break;case "All":if(DayPilot.Util.overlaps($w,$x,$u,end)){$B.push(e);};break;}};return DayPilot.list($B).addProps({"area":$t});};this.$7Q=function(){if(!this.cssOnly){return;};if(!this.floatingEvents){return;};var $C=$z.events("Left");this.$7S();$C.each(function($D){var $w=$C.area.pixels.left;var $m=$D.event;var $u=$m.part.left;var $E=$w-$u;$e.$7T($D,$E,0);});};this.elements.sections=[];this.elements.hsections=[];this.$7P=function($F,$E,$G){var $H=document.createElement("div");$H.setAttribute("unselectable","on");$H.className=this.$7U("_timeheader_float");$H.style.position="absolute";$H.style.left=$E+"px";$H.style.right=$G+"px";$H.style.top="0px";$H.style.bottom="0px";$H.style.overflow="hidden";var $I=document.createElement("div");$I.className=this.$7U("_timeheader_float_inner");$I.setAttribute("unselectable","on");$I.innerHTML=$F.cell.th.innerHTML;$H.appendChild($I);$F.section=$H;$F.insertBefore($H,$F.firstChild.nextSibling);$F.firstChild.innerHTML='';this.elements.hsections.push($F);};this.$7O=function(){for(var i=0;i<this.elements.hsections.length;i++){var e=this.elements.hsections[i];var $m=e.cell;if($m&&e.firstChild){e.firstChild.innerHTML=$m.th.innerHTML;};DayPilot.de(e.section);e.section=null;};this.elements.hsections=[];};this.$7T=function($F,$E,$G){var $H=document.createElement("div");$H.setAttribute("unselectable","on");$H.className=this.$7U("_event_float");$H.style.position="absolute";$H.style.left=$E+"px";$H.style.right=$G+"px";$H.style.top="0px";$H.style.bottom="0px";$H.style.overflow="hidden";var $I=document.createElement("div");$I.className=this.$7U("_event_float_inner");$I.setAttribute("unselectable","on");$I.innerHTML=$F.event.client.html();$H.appendChild($I);$F.section=$H;$F.insertBefore($H,$F.firstChild.nextSibling);$F.firstChild.innerHTML='';this.elements.sections.push($F);};this.$7S=function(){for(var i=0;i<this.elements.sections.length;i++){var e=this.elements.sections[i];var $m=e.event;if($m){e.firstChild.innerHTML=$m.client.html();};DayPilot.de(e.section);e.section=null;};this.elements.sections=[];};this.setScrollX=function(scrollX){this.setScroll(scrollX,$e.scrollY);};this.setScrollY=function(scrollY){this.setScroll($e.scrollX,scrollY);};this.setScroll=function(scrollX,scrollY){var scroll=$e.nav.scroll;var $J=$e.$7e;var $K=$e.$7V()*$e.cellWidth;if(scroll.clientWidth+scrollX>$K){scrollX=$K-scroll.clientWidth;};if(scroll.clientHeight+scrollY>$J){scrollY=$J-scroll.clientHeight;};$e.divTimeScroll.scrollLeft=scrollX;$e.divResScroll.scrollTop=scrollY;scroll.scrollLeft=scrollX;scroll.scrollTop=scrollY;};this.message=function($L,$M,$N,$O){if($L===null){return;};var $M=$M||this.messageHideAfter||2000;var $N=$N||"#ffffff";var $O=$O||"#000000";var $P=0.8;var top=this.$7W()+1;var $w=this.$7X()+$Q.splitterWidth();var $x=DayPilot.sw($e.nav.scroll)+1;var $R=DayPilot.sh($e.nav.scroll)+1;var $F;if(!this.nav.message){$F=document.createElement("div");$F.style.position="absolute";$F.style.left=$w+"px";$F.style.right=$x+"px";$F.style.display='none';$F.onmousemove=function(){if($F.messageTimeout&&!$F.status){clearTimeout($F.messageTimeout);}};$F.onmouseout=function(){if($e.nav.message.style.display!=='none'){$F.messageTimeout=setTimeout($e.$7Y,500);}};var $I=document.createElement("div");$I.onclick=function(){$e.nav.message.style.display='none';};if(!this.cssOnly){$I.style.padding="5px";$I.style.opacity=$P;$I.style.filter="alpha(opacity="+($P*100)+")";}else{$I.className=this.$7U("_message");};$F.appendChild($I);var close=document.createElement("div");close.style.position="absolute";if(!this.cssOnly){close.style.top="5px";close.style.right=(DayPilot.sw($e.nav.scroll)+5)+"px";close.style.color=$N;close.style.lineHeight="100%";close.style.cursor="pointer";close.style.fontWeight="bold";close.innerHTML="X";}else{close.className=this.$7U("_message_close");};close.onclick=function(){$e.nav.message.style.display='none';};$F.appendChild(close);this.nav.top.appendChild($F);this.nav.message=$F;}else{$F=$e.nav.message;};var $S=function(){var $I=$e.nav.message.firstChild;if(!$e.cssOnly){$I.style.backgroundColor=$O;$I.style.color=$N;};$I.innerHTML=$L;var $x=DayPilot.sw($e.nav.scroll)+1;$e.nav.message.style.right=$x+"px";var $T=$e.messageBarPosition||"Top";if($T==="Bottom"){$e.nav.message.style.bottom=$R+"px";$e.nav.message.style.top="";}else if($T==="Top"){$e.nav.message.style.bottom="";$e.nav.message.style.top=top+"px";};var end=function(){$F.messageTimeout=setTimeout($e.$7Y,$M);};DayPilot.fade($e.nav.message,0.2,end);};clearTimeout($F.messageTimeout);if(this.nav.message.style.display!=='none'){DayPilot.fade($e.nav.message,-0.2,$S);}else{$S();}};this.$7Y=function(){if(!$e.nav.message){return;};var end=function(){$e.nav.message.style.display='none';};DayPilot.fade($e.nav.message,-0.2,end);};this.message.show=function($L){$e.message($L);};this.message.hide=function(){$e.$7Y();};this.$7z=function(){if(this.nav.scroll){if(this.heightSpec==='Parent100Pct'){this.height=parseInt(this.nav.top.clientHeight,10)-(this.$7W()+2);};this.nav.scroll.style.height='30px';var $U=this.$7Z();var $V=1;var $W=$U+this.$7W()+$V;if($U>=0){this.nav.scroll.style.height=($U)+'px';this.$80.style.height=($U)+'px';};if(this.nav.divider){if(!$W||isNaN($W)||$W<0){$W=0;};this.nav.divider.style.height=($W)+"px";};if(this.heightSpec!=="Parent100Pct"){this.nav.top.style.height=($W)+"px";};for(var i=0;i<this.elements.separators.length;i++){this.elements.separators[i].style.height=this.$7e+'px';};for(var i=0;i<this.elements.linesVertical.length;i++){this.elements.linesVertical[i].style.height=this.$7e+'px';}}};this.$7p=function(){this.startDate=new DayPilot.Date(this.startDate).getDatePart();this.endDate=(this.viewType!=='Days')?this.startDate.addDays(this.days):this.startDate.addDays(1);this.$7f.pixels=[];this.itline=[];var $X=this.cellWidthSpec==="Auto";var $Y=function(){if(!$X){return;};var $Z=0;if($e.timeHeader){if($e.timeline){$Z=$e.timeline.length;}else{var $s=$e.timeHeader[$e.timeHeader.length-1];$Z=$s.length;}}else{if($e.scale==="Manual"){$Z=$e.timeline.length;}else{$e.$81();$Z=$e.itline.length;$e.itline=[];}};var $00=$e.$82();if($Z>0&&$00>0){$e.cellWidth=$00/$Z;};$e.debug.message("updated cellWidth: "+$e.cellWidth);};$Y();if(this.$83()){if(this.timeline){$e.debug.message("timeline received from server");this.itline=[];var $01=null;var $w=0;for(var i=0;i<this.timeline.length;i++){var $02=this.timeline[i];var $y={};$y.start=new DayPilot.Date($02.start);$y.end=$02.end?new DayPilot.Date($02.end):$y.start.addMinutes(this.cellDuration);if(!$02.width){var $x=Math.floor($w+this.cellWidth);var $00=$x-Math.floor($w);$y.left=Math.floor($w);$y.width=$00;$w+=this.cellWidth;}else{$y.left=$02.left||$w;$y.width=$02.width||this.cellWidth;$w+=$y.width;};$y.breakBefore=$01&&$01.ticks!==$y.start.ticks;$01=$y.end;this.itline.push($y);}};if($X){this.$84();}}else{this.timeHeader=[];if(this.scale==="Manual"){this.itline=[];var $w=0;var $01=null;for(var i=0;i<this.timeline.length;i++){var $02=this.timeline[i];var $y={};$y.start=new DayPilot.Date($02.start);$y.end=$02.end?new DayPilot.Date($02.end):$y.start.addMinutes(this.cellDuration);var w=$02.width||this.cellWidth;var $x=Math.floor($w+w);var $00=$x-Math.floor($w);$y.left=Math.floor($w);$y.width=$00;$w+=w;$y.breakBefore=$01&&$01.ticks!==$y.start.ticks;$01=$y.end;this.itline.push($y);}}else{this.$81();};this.$85();}};this.$81=function(){var $u=this.startDate;var end=this.$86($u);var $03=false;var $04=this.timeHeaders;var $w=0;while(end.ticks<=this.endDate.ticks&&end.ticks>$u.ticks){if(this.$87($u,end)){var $x=Math.floor($w+this.cellWidth);var $00=$x-Math.floor($w);var $05={};$05.start=$u;$05.end=end;$05.left=Math.floor($w);$05.width=$00;$05.breakBefore=$03;this.itline.push($05);$w+=this.cellWidth;$03=false;}else{$03=true;};$u=end;end=this.$86($u);}};this.$84=function(){$e.debug.message("updateHeaderGroupDimensions");if(!this.timeHeader){return;};for(var y=0;y<this.timeHeader.length;y++){var $s=this.timeHeader[y];for(var x=0;x<$s.length;x++){var h=$s[x];h.left=this.getPixels(new DayPilot.Date(h.start)).left;var $x=this.getPixels(new DayPilot.Date(h.end)).left;var $00=$x-h.left;h.width=$00;}}};this.$85=function(){var $04=this.timeHeaders;if(!$04){$04=[{"groupBy":this.cellGroupBy},{"groupBy":"Cell"}];};for(var i=0;i<$04.length;i++){var $06=$04[i].groupBy;var $07=$04[i].format;if($06==="Default"){$06=this.cellGroupBy;};var $u=this.startDate;var $08=[];var $u=this.startDate;while($u.ticks<this.endDate.ticks){var h={};h.start=$u;h.end=this.$88(h.start,$06);if(h.start.ticks===h.end.ticks){break;};h.left=this.getPixels(h.start).left;var $x=this.getPixels(h.end).left;var $00=$x-h.left;h.width=$00;h.colspan=Math.ceil($00/(1.0*this.cellWidth));if($07){h.innerHTML=h.start.toString($07,$Q.locale());}else{h.innerHTML=this.$89(h,$06);};if($00>0){if(typeof this.onBeforeTimeHeaderRender==='function'){var $y={};$y.start=h.start;$y.end=h.end;$y.html=h.innerHTML;$y.toolTip=h.innerHTML;$y.backColor=null;if(!this.cssOnly){$y.backColor=this.hourNameBackColor;};$y.level=this.timeHeader.length;var $h={};$h.header=$y;this.onBeforeTimeHeaderRender($h);h.innerHTML=$y.html;h.backColor=$y.backColor;h.toolTip=$y.toolTip;};$08.push(h);};$u=h.end;};this.timeHeader.push($08);}};this.$87=function($u,end){if(typeof this.onIncludeTimeCell==='function'){var $y={};$y.start=$u;$y.end=end;$y.visible=true;var $h={};$h.cell=$y;this.onIncludeTimeCell($h);return $y.visible;};if(this.showNonBusiness){return true;};if($u.d.getUTCDay()===0){return false;};if($u.d.getUTCDay()===6){return false;};var $09=(end.getTime()-$u.getTime())/(1000*60);if($09<60*24){var $0a=$u.d.getUTCHours();$0a+=$u.d.getUTCMinutes()/60.0;$0a+=$u.d.getUTCSeconds()/3600.0;$0a+=$u.d.getUTCMilliseconds()/3600000.0;if($0a<this.businessBeginsHour){return false;};if(this.businessEndsHour>=24){return true;};if($0a>=this.businessEndsHour){return false;}};return true;};this.getPixels=function($q){var $0b=$q.ticks;var $0c=this.$7f.pixels[$0b];if($0c){return $0c;};var $0d=null;var $0e=221876841600000;if(this.itline.length===0||$0b<this.itline[0].start.ticks){var $f={};$f.cut=false;$f.left=0;$f.boxLeft=$f.left;$f.boxRight=$f.left;$f.i=null;return $f;};for(var i=0;i<this.itline.length;i++){var $0f=false;var $y=this.itline[i];var $0g=$y.start.ticks;var $0h=$y.end.ticks;if($0g<$0b&&$0b<$0h){var $0i=$0b-$0g;var $f={};$f.cut=false;$f.left=$y.left+this.$8a($y,$0i);$f.boxLeft=$y.left;$f.boxRight=$y.left+$y.width;$f.i=i;break;}else if($0g===$0b){var $f={};$f.cut=false;$f.left=$y.left;$f.boxLeft=$f.left;$f.boxRight=$f.left+$y.width;$f.i=i;break;}else if($0h===$0b){var $f={};$f.cut=false;$f.left=$y.left+$y.width;$f.boxLeft=$f.left;$f.boxRight=$f.left;$f.i=i+1;break;}else if($0b<$0g&&$0b>$0e){var $f={};$f.cut=true;$f.left=$y.left;$f.boxLeft=$f.left;$f.boxRight=$f.left;$f.i=i;break;};$0e=$0h;};if(!$f){var $0j=this.itline[this.itline.length-1];var $f={};$f.cut=true;$f.left=$0j.left+$0j.width;$f.boxLeft=$f.left;$f.boxRight=$f.left;$f.i=null;};this.$7f.pixels[$0b]=$f;return $f;};this.getDate=function($w,$0k,$0l){var $T=this.$8b($w,$0l);if(!$T){return null;};var x=$T.x;var $0m=this.itline[x];if(!$0m){return null;};var $u=($0l&&!$0k)?$0m.end:$0m.start;if(!$0k){return $u;}else{return $u.addTime(this.$8c($T.cell,$T.offset));}};this.$8b=function($r,$0l){var $0n=0;var $0d=0;for(var i=0;i<this.itline.length;i++){var $y=this.itline[i];var $00=$y.width||this.cellWidth;$0n+=$00;if(($r<$0n)||($0l&&$r===$0n)){var $f={};$f.x=i;$f.offset=$r-$0d;$f.cell=$y;return $f;};$0d=$0n;};var $y=this.itline[this.itline.length-1];var $f={};$f.x=this.itline.length-1;$f.offset=$y.width||this.cellWidth;$f.cell=$y;return $f;};this.$8d=function($0o){var $0n=new DayPilot.Date($0o);for(var i=0;i<this.itline.length;i++){var $y=this.itline[i];if($y.start.ticks<=$0n.ticks&&$0n.ticks<$y.end.ticks){var $f={};$f.hidden=false;$f.current=$y;return $f;};if($0n.ticks<$y.start.ticks){var $f={};$f.hidden=true;$f.previous=i>0?this.itline[i-1]:null;$f.current=null;$f.next=this.itline[i];return $f;}};var $f={};$f.past=true;$f.previous=this.itline[this.itline.length-1];return $f;};this.$8a=function($y,$0b){var $00=$y.width||this.cellWidth;var $0p=$y.end.ticks-$y.start.ticks;return Math.floor(($00*$0b)/($0p));};this.$8c=function($y,$r){var $0p=$y.end.ticks-$y.start.ticks;var $00=$y.width||this.cellWidth;return Math.floor($r/$00*$0p);};this.$8e=function(ev){if($0q.start){return;};$0r={};$e.$8f(this,ev);};this.eventClickPostBack=function(e,$m){this.$8g('EventClick',e,$m);};this.eventClickCallBack=function(e,$m){this.$8h('EventClick',e,$m);};this.$8f=function($F,ev){var e=$F.event;var ev=ev||window.event;if(typeof(DayPilotBubble)!=='undefined'){DayPilotBubble.hideActive();};if(!e.client.doubleClickEnabled()){$e.$8i($F,ev);return;};if(!$e.timeouts.click){$e.timeouts.click=[];};var $0s=function($F,ev){return function(){$e.$8i($F,ev);};};$e.timeouts.click.push(window.setTimeout($0s($F,ev),$e.doubleClickTimeout));};this.$8i=function($F,ev){if(typeof ev==="boolean"){throw "Invalid _eventClickSingle parameters";};var e=$F.event;var $0t=ev.ctrlKey;var $0u=ev.metaKey;if(!e.client.clickEnabled()){return;};if($e.$7K()){var $h={};$h.e=e;$h.div=$F;$h.originalEvent=ev;$h.ctrl=$0t;$h.meta=$0u;$h.preventDefault=function(){this.preventDefault.value=true;};if(typeof $e.onEventClick==='function'){$e.onEventClick($h);if($h.preventDefault.value){return;}};switch($e.eventClickHandling){case 'PostBack':$e.eventClickPostBack(e);break;case 'CallBack':$e.eventClickCallBack(e);break;case 'Edit':$e.$8j($F);break;case 'Select':$e.$8k($F,e,$0t,$0u);break;case 'ContextMenu':var $0v=e.client.contextMenu();if($0v){$0v.show(e);}else{if($e.contextMenu){$e.contextMenu.show(e);}};break;case 'Bubble':if($e.bubble){$e.bubble.showEvent(e);};break;};if(typeof $e.onEventClicked==='function'){$e.onEventClicked($h);}}else{switch($e.eventClickHandling){case 'PostBack':$e.eventClickPostBack(e);break;case 'CallBack':$e.eventClickCallBack(e);break;case 'JavaScript':$e.onEventClick(e);break;case 'Edit':$e.$8j($F);break;case 'Select':$e.$8k($F,e,$0t,$0u);break;case 'ContextMenu':var $0v=e.client.contextMenu();if($0v){$0v.show(e);}else{if($e.contextMenu){$e.contextMenu.show(e);}};break;case 'Bubble':if($e.bubble){$e.bubble.showEvent(e);};break;}}};this.$8l=function(e){if($e.$7K()){var $h={};$h.e=e;$h.preventDefault=function(){this.preventDefault.value=true;};if(typeof $e.onEventDelete==='function'){$e.onEventDelete($h);if($h.preventDefault.value){return;}};switch($e.eventDeleteHandling){case 'PostBack':$e.eventDeletePostBack(e);break;case 'CallBack':$e.eventDeleteCallBack(e);break;case 'Update':$e.events.remove(e);break;};if(typeof $e.onEventDeleted==='function'){$e.onEventDeleted($h);}}else{switch($e.eventDeleteHandling){case 'PostBack':$e.eventDeletePostBack(e);break;case 'CallBack':$e.eventDeleteCallBack(e);break;case 'JavaScript':$e.onEventDelete(e);break;}}};this.eventDeletePostBack=function(e,$m){this.$8g('EventDelete',e,$m);};this.eventDeleteCallBack=function(e,$m){this.$8h('EventDelete',e,$m);};this.setHScrollPosition=function($r){this.nav.scroll.scrollLeft=$r;};this.getScrollX=function(){return this.nav.scroll.scrollLeft;};this.getHScrollPosition=this.getScrollX;this.getScrollY=function(){return this.nav.scroll.scrollTop;};this.$8k=function($F,e,$0t,$0u){$e.$8m($F,e,$0t,$0u);};this.eventSelectPostBack=function(e,$0w,$m){var $0x={};$0x.e=e;$0x.change=$0w;this.$8g('EventSelect',$0x,$m);};this.eventSelectCallBack=function(e,$0w,$m){var $0x={};$0x.e=e;$0x.change=$0w;this.$8h('EventSelect',$0x,$m);};this.$8m=function($F,e,$0t,$0u){if($e.$7K()){var m=$e.multiselect;m.previous=m.events();var $h={};$h.e=e;$h.selected=m.isSelected(e);$h.ctrl=$0t;$h.meta=$0u;$h.preventDefault=function(){this.preventDefault.value=true;};if(typeof $e.onEventSelect==='function'){$e.onEventSelect($h);if($h.preventDefault.value){return;}};switch($e.eventSelectHandling){case 'PostBack':$e.eventSelectPostBack(e,$0w);break;case 'CallBack':if(typeof WebForm_InitCallback!=='undefined'){window.__theFormPostData="";window.__theFormPostCollection=[];WebForm_InitCallback();};$e.eventSelectCallBack(e,$0w);break;case 'Update':m.$8n($F,$0t,$0u);break;};if(typeof $e.onEventSelected==='function'){$h.change=m.isSelected(e)?"selected":"deselected";$h.selected=m.isSelected(e);$e.onEventSelected($h);}}else{var m=$e.multiselect;m.previous=m.events();m.$8n($F,$0t,$0u);var $0w=m.isSelected(e)?"selected":"deselected";switch($e.eventSelectHandling){case 'PostBack':$e.eventSelectPostBack(e,$0w);break;case 'CallBack':if(typeof WebForm_InitCallback!=='undefined'){window.__theFormPostData="";window.__theFormPostCollection=[];WebForm_InitCallback();};$e.eventSelectCallBack(e,$0w);break;case 'JavaScript':$e.onEventSelect(e,$0w);break;}}};this.eventRightClickPostBack=function(e,$m){this.$8g('EventRightClick',e,$m);};this.eventRightClickCallBack=function(e,$m){this.$8h('EventRightClick',e,$m);};this.$8o=function(ev){var e=this.event;ev=ev||window.event;ev.cancelBubble=true;if(!this.event.client.rightClickEnabled()){return false;};if($e.$7K()){var $h={};$h.e=e;$h.div=this;$h.originalEvent=ev;$h.preventDefault=function(){this.preventDefault.value=true;};if(typeof $e.onEventRightClick==='function'){$e.onEventRightClick($h);if($h.preventDefault.value){return;}};switch($e.eventRightClickHandling){case 'PostBack':$e.eventRightClickPostBack(e);break;case 'CallBack':$e.eventRightClickCallBack(e);break;case 'ContextMenu':var $0v=e.client.contextMenu();if($0v){$0v.show(e);}else{if($e.contextMenu){$e.contextMenu.show(this.event);}};break;case 'Bubble':if($e.bubble){$e.bubble.showEvent(e);};break;};if(typeof $e.onEventRightClicked==='function'){$e.onEventRightClicked($h);}}else{switch($e.eventRightClickHandling){case 'PostBack':$e.eventRightClickPostBack(e);break;case 'CallBack':$e.eventRightClickCallBack(e);break;case 'JavaScript':$e.onEventRightClick(e);break;case 'ContextMenu':var $0v=e.client.contextMenu();if($0v){$0v.show(e);}else{if($e.contextMenu){$e.contextMenu.show(this.event);}};break;case 'Bubble':if($e.bubble){$e.bubble.showEvent(e);};break;}};return false;};this.eventDoubleClickPostBack=function(e,$m){this.$8g('EventDoubleClick',e,$m);};this.eventDoubleClickCallBack=function(e,$m){this.$8h('EventDoubleClick',e,$m);};this.$8p=function(ev){if(typeof(DayPilotBubble)!=='undefined'){DayPilotBubble.hideActive();};if($e.timeouts.click){for(var $0y in $e.timeouts.click){window.clearTimeout($e.timeouts.click[$0y]);};$e.timeouts.click=null;};var ev=ev||window.event;var e=this.event;if($e.$7K()){var $h={};$h.e=e;$h.originalEvent=ev;$h.preventDefault=function(){this.preventDefault.value=true;};if(typeof $e.onEventDoubleClick==='function'){$e.onEventDoubleClick($h);if($h.preventDefault.value){return;}};switch($e.eventDoubleClickHandling){case 'PostBack':$e.eventDoubleClickPostBack(e);break;case 'CallBack':$e.eventDoubleClickCallBack(e);break;case 'Edit':$e.$8j(this);break;case 'Select':$e.$8k($F,e,ev.ctrlKey,ev.metaKey);break;case 'Bubble':if($e.bubble){$e.bubble.showEvent(e);};break;case 'ContextMenu':var $0v=e.client.contextMenu();if($0v){$0v.show(e);}else{if($e.contextMenu){$e.contextMenu.show(e);}};break;};if(typeof $e.onEventDoubleClicked==='function'){$e.onEventDoubleClicked($h);}}else{switch($e.eventDoubleClickHandling){case 'PostBack':$e.eventDoubleClickPostBack(e);break;case 'CallBack':$e.eventDoubleClickCallBack(e);break;case 'JavaScript':$e.onEventDoubleClick(e);break;case 'Edit':$e.$8j(this);break;case 'Select':$e.$8k($F,e,ev.ctrlKey,ev.metaKey);break;case 'Bubble':if($e.bubble){$e.bubble.showEvent(e);};break;case 'ContextMenu':var $0v=e.client.contextMenu();if($0v){$0v.show(e);}else{if($e.contextMenu){$e.contextMenu.show(e);}};break;}}};this.eventResizePostBack=function(e,$0z,$0A,$m){this.$8q("PostBack",e,$0z,$0A,$m);};this.eventResizeCallBack=function(e,$0z,$0A,$m){this.$8q("CallBack",e,$0z,$0A,$m);};this.$8q=function($A,e,$0z,$0A,$m){var $0x={};$0x.e=e;$0x.newStart=$0z;$0x.newEnd=$0A;this.$8r($A,"EventResize",$0x,$m);};this.$8s=function(e,$0z,$0A){if(this.eventResizeHandling==='Disabled'){return;};if($e.$7K()){var $h={};$h.e=e;$h.newStart=$0z;$h.newEnd=$0A;$h.preventDefault=function(){this.preventDefault.value=true;};if(typeof $e.onEventResize==='function'){$e.onEventResize($h);if($h.preventDefault.value){return;};$0z=$h.newStart;$0A=$h.newEnd;};switch($e.eventResizeHandling){case 'PostBack':$e.eventResizePostBack(e,$0z,$0A);break;case 'CallBack':$e.eventResizeCallBack(e,$0z,$0A);break;case 'Notify':$e.eventResizeNotify(e,$0z,$0A);break;case 'Update':e.start($0z);e.end($0A);$e.events.update(e);break;};if(typeof $e.onEventResized==='function'){$e.onEventResized($h);}}else{switch($e.eventResizeHandling){case 'PostBack':$e.eventResizePostBack(e,$0z,$0A);break;case 'CallBack':$e.eventResizeCallBack(e,$0z,$0A);break;case 'JavaScript':$e.onEventResize(e,$0z,$0A);break;case 'Notify':$e.eventResizeNotify(e,$0z,$0A);break;case 'Update':e.start($0z);e.end($0A);$e.events.update(e);break;}}};this.eventMovePostBack=function(e,$0z,$0A,$0B,$m,$08){this.$8t("PostBack",e,$0z,$0A,$0B,$m,$08);};this.eventMoveCallBack=function(e,$0z,$0A,$0B,$m,$08){this.$8t("CallBack",e,$0z,$0A,$0B,$m,$08);};this.$8t=function($A,e,$0z,$0A,$0B,$m,$08){var $0x={};$0x.e=e;$0x.newStart=$0z;$0x.newEnd=$0A;$0x.newResource=$0B;$0x.position=$08;this.$8r($A,"EventMove",$0x,$m);};this.$8r=function($A,$0C,$0x,$m){if($A==='PostBack'){$e.$8g($0C,$0x,$m);}else if($A==='CallBack'){$e.$8h($0C,$0x,$m,"CallBack");}else if($A==='Immediate'){$e.$8h($0C,$0x,$m,"Notify");}else if($A==='Queue'){$e.queue.add(new DayPilot.Action(this,$0C,$0x,$m));}else if($A==='Notify'){if($Q.notifyType()==='Notify'){$e.$8h($0C,$0x,$m,"Notify");}else{$e.queue.add(new DayPilot.Action($e,$0C,$0x,$m));}}else{throw "Invalid event invocation type";}};this.eventMoveNotify=function(e,$0z,$0A,$0B,$m,$08){var $0D=new DayPilot.Event(e.copy(),this);var $0E=$e.events.$8u(e.data);e.start($0z);e.end($0A);e.resource($0B);e.commit();$0E=$0E.concat($e.events.$8v(e.data));$e.$8w($0E);$e.$8x();$e.$8y($0E);this.$8t("Notify",$0D,$0z,$0A,$0B,$m,$08);};this.eventResizeNotify=function(e,$0z,$0A,$m){var $0D=new DayPilot.Event(e.copy(),this);var $0E=$e.events.$8u(e.data);e.start($0z);e.end($0A);e.commit();$0E=$0E.concat($e.events.$8v(e.data));$e.$8w($0E);$e.$8x();$e.$8y($0E);this.$8q("Notify",$0D,$0z,$0A,$m);};this.multiselect={};this.multiselect.initList=[];this.multiselect.list=[];this.multiselect.divs=[];this.multiselect.previous=[];this.multiselect.$8z=function(){var m=$e.multiselect;return DayPilot.JSON.stringify(m.events());};this.multiselect.events=function(){var m=$e.multiselect;var $C=[];$C.ignoreToJSON=true;for(var i=0;i<m.list.length;i++){$C.push(m.list[i]);};return $C;};this.multiselect.$8A=function(){};this.multiselect.$8n=function($F,$0F,$0G){var m=$e.multiselect;if(m.isSelected($F.event)){if($e.allowMultiSelect){if($0F||$0G){m.remove($F.event,true);}else{var $Z=m.list.length;m.clear();if($Z>1){m.add($F.event,true);}}}else{m.clear();}}else{if($e.allowMultiSelect){if($0F||$0G){m.add($F.event,true);}else{m.clear();m.add($F.event,true);}}else{m.clear();m.add($F.event,true);}};m.$8B($F);m.$8A();};this.multiselect.$8C=function(ev){var m=$e.multiselect;return m.$8D(ev,m.initList);};this.multiselect.$8E=function(){var m=$e.multiselect;var $B=[];for(var i=0;i<m.list.length;i++){var event=m.list[i];$B.push(event.value());};alert($B.join("\n"));};this.multiselect.add=function(ev,$0H){var m=$e.multiselect;if(m.indexOf(ev)===-1){m.list.push(ev);};if($0H){return;};m.redraw();};this.multiselect.remove=function(ev,$0H){var m=$e.multiselect;var i=m.indexOf(ev);if(i!==-1){m.list.splice(i,1);};if($0H){return;};m.redraw();};this.multiselect.clear=function($0H){var m=$e.multiselect;m.list=[];if($0H){return;};m.redraw();};this.multiselect.redraw=function(){var m=$e.multiselect;for(var i=0;i<$e.elements.events.length;i++){var $F=$e.elements.events[i];if(!$F.event){continue;};if(!$F.event.isEvent){continue;};if(m.isSelected($F.event)){m.$8F($F);}else{m.$8G($F);}}};this.multiselect.$8H=function(ev){var m=$e.multiselect;var $F=null;for(var i=0;i<$e.elements.events.length;i++){if(m.isSelected($e.elements.events[i].event)){$F=$e.elements.events[i];break;}};m.$8B($F);};this.multiselect.$8B=function($F){if(!$F){return;};var m=$e.multiselect;if(m.isSelected($F.event)){m.$8F($F);}else{m.$8G($F);}};this.multiselect.$8F=function($F){var m=$e.multiselect;var cn=$e.cssOnly?$e.$7U("_selected"):$e.$7U("selected");var $F=m.$8I($F);DayPilot.Util.addClass($F,cn);m.divs.push($F);};this.multiselect.$8I=function($F){return $F;};this.multiselect.$8J=function(){var m=$e.multiselect;for(var i=0;i<m.divs.length;i++){var $F=m.divs[i];m.$8G($F,true);};m.divs=[];};this.multiselect.$8G=function($F,$0I){var m=$e.multiselect;var cn=$e.cssOnly?$e.$7U("_selected"):$e.$7U("selected");DayPilot.Util.removeClass($F,cn);if($0I){return;};var i=DayPilot.indexOf(m.divs,$F);if(i!==-1){m.divs.splice(i,1);}};this.multiselect.isSelected=function(ev){if(!ev){return false;};if(!ev.isEvent){return false;};return $e.multiselect.$8D(ev,$e.multiselect.list);};this.multiselect.indexOf=function(ev){var $m=ev.data;for(var i=0;i<$e.multiselect.list.length;i++){var $D=$e.multiselect.list[i];if($D.data===$m){return i;}};return -1;};this.multiselect.$8D=function(e,$B){if(!$B){return false;};for(var i=0;i<$B.length;i++){var ei=$B[i];if(e===ei){return true;};if(typeof ei.id==='function'){if(ei.id()!==null&&e.id()!==null&&ei.id()===e.id()){return true;};if(ei.id()===null&&e.id()===null&&ei.recurrentMasterId()===e.recurrentMasterId()&&e.start().toStringSortable()===ei.start().toStringSortable()){return true;}}else{if(ei.id!==null&&e.id()!==null&&ei.id===e.id()){return true;};if(ei.id===null&&e.id()===null&&ei.recurrentMasterId===e.recurrentMasterId()&&e.start().toStringSortable()===ei.start){return true;}}};return false;};this.$8B=function($h){var $h=$h||{};var $0J=!$h.eventsOnly;if($0J){if(!this.$83()){$e.timeHeader=null;$e.cellProperties={};};$e.$7o();$e.$7p();if(!$h||!$h.dontLoadResources){$e.$7q();}};this.$7s();if($0J){$e.$8K();$e.$7t();$e.$7u();};$e.$7v();$e.$7x();$e.$8L();$e.$7y();$0K.hideLinkpoints();this.$7B();this.$7C();this.$7A();this.$7m();this.$7r();this.$7D();this.$7E();$e.$7z();if($h.immediateEvents||$h.eventsOnly){$e.$7F();}else{setTimeout(function(){$e.$7F();},100);};if(DayPilot.isArray($e.multiselect.list)&&$e.multiselect.list.length>0){this.multiselect.redraw();};this.$7J();this.$8M();};this.update=function(){this.$8B({"immediateEvents":true});};this.$8y=function($0E,$0L,$0M){$0E=DayPilot.ua($0E);for(var i=0;i<$0E.length;i++){var ri=$0E[i];$e.$8N(ri);};if(this.$8O){this.$7v();this.$7x();this.$7A();this.$7C();for(var i=0;i<$0E.length;i++){var ri=$0E[i];this.$8P(ri);};for(var i=0;i<$0E.length;i++){var ri=$0E[i];this.$8Q(ri);};this.$7D();this.$7E();this.$8R();}else{var $0N=true;if($0N){var $0O=function(i){if(i>=$0E.length){return;};var ri=$0E[i];if(!$0L){$e.$8P(ri);};$e.$8Q(ri);if(i+1<$0E.length){setTimeout(function(){$0O(i+1);},10);}else{$e.$7Q();$0K.load();$e.multiselect.redraw();if($0M){$0M();}}};$0O(0);}else{for(var i=0;i<$0E.length;i++){var ri=$0E[i];if(!$0L){this.$8P(ri);};this.$8Q(ri);}}};$e.$7Q();$0K.load();$e.multiselect.redraw();if($0M){$0M();};this.$7m();};this.$8S=function(e,$0z,$0A,$0B,external,ev,$08){if($e.eventMoveHandling==='Disabled'){return;};if($e.$7K()){var $h={};$h.e=e;$h.newStart=$0z;$h.newEnd=$0A;$h.newResource=$0B;$h.external=external;$h.ctrl=false;$h.meta=false;$h.shift=false;if(ev){$h.shift=ev.shiftKey;$h.ctrl=ev.ctrlKey;$h.meta=ev.metaKey;};$h.position=$08;$h.preventDefault=function(){this.preventDefault.value=true;};if(typeof $e.onEventMove==='function'){$e.onEventMove($h);if($h.preventDefault.value){return;};$0z=$h.newStart;$0A=$h.newEnd;};switch($e.eventMoveHandling){case 'PostBack':$e.eventMovePostBack(e,$0z,$0A,$0B,null,$08);break;case 'CallBack':$e.eventMoveCallBack(e,$0z,$0A,$0B,null,$08);break;case 'Notify':$e.eventMoveNotify(e,$0z,$0A,$0B,null,$08);break;case 'Update':e.start($0z);e.end($0A);e.resource($0B);if(external){e.commit();$e.events.add(e);}else{$e.events.update(e);};$e.$7h();break;};if(typeof $e.onEventMoved==='function'){$e.onEventMoved($h);}}else{switch($e.eventMoveHandling){case 'PostBack':$e.eventMovePostBack(e,$0z,$0A,$0B,null,$08);break;case 'CallBack':$e.eventMoveCallBack(e,$0z,$0A,$0B,null,$08);break;case 'JavaScript':$e.onEventMove(e,$0z,$0A,$0B,external,ev?ev.ctrlKey:false,ev?ev.shiftKey:false,$08);break;case 'Notify':$e.eventMoveNotify(e,$0z,$0A,$0B,null,$08);break;case 'Update':e.start($0z);e.end($0A);e.resource($0B);$e.events.update(e);break;}}};this.$8T=function($h,$j){var $i=$e.$8U($j);var $0x={};$0x.args=$h;$0x.guid=$i;$e.$8h("Bubble",$0x);};this.$8U=function($j){var $i=DayPilot.guid();if(!this.bubbles){this.bubbles=[];};this.bubbles[$i]=$j;return $i;};this.eventMenuClickPostBack=function(e,$0P,$m){var $0x={};$0x.e=e;$0x.command=$0P;this.$8g('EventMenuClick',$0x,$m);};this.eventMenuClickCallBack=function(e,$0P,$m){var $0x={};$0x.e=e;$0x.command=$0P;this.$8h('EventMenuClick',$0x,$m);};this.$8V=function($0P,e,$0Q){switch($0Q){case 'PostBack':$e.eventMenuClickPostBack(e,$0P);break;case 'CallBack':$e.eventMenuClickCallBack(e,$0P);break;}};this.timeRangeSelectedPostBack=function($u,end,$0R,$m){var $0S={};$0S.start=$u;$0S.end=end;$0S.resource=$0R;this.$8g('TimeRangeSelected',$0S,$m);};this.timeRangeSelectedCallBack=function($u,end,$0R,$m){var $0S={};$0S.start=$u;$0S.end=end;$0S.resource=$0R;this.$8h('TimeRangeSelected',$0S,$m);};this.$8W=function($u,end,$0R){if($e.timeRangeSelectedHandling==='Disabled'){return;};if($e.$7K()){var $h={};$h.start=$u;$h.end=end;$h.resource=$0R;$h.preventDefault=function(){this.preventDefault.value=true;};if(typeof $e.onTimeRangeSelect==='function'){$e.onTimeRangeSelect($h);if($h.preventDefault.value){return;};$u=$h.start;end=$h.end;};(function updateRange(){var $0S=DayPilotScheduler.rangeHold;var $0m,$y;if($u.getTime()<$e.itline[0].start.getTime()){$0S.start.x=0;}else{$0m=$e.$8d($u);$y=$0m.current||$0m.previous;$0S.start.x=DayPilot.indexOf($e.itline,$y);};$0m=$e.$8d(end.addMilliseconds(-1));if($0m.past){$0S.end.x=$e.itline.length-1;}else{$y=$0m.current||$0m.next;$0S.end.x=DayPilot.indexOf($e.itline,$y);};$e.$8X($0S);})();switch($e.timeRangeSelectedHandling){case 'PostBack':$e.timeRangeSelectedPostBack($u,end,$0R);break;case 'CallBack':$e.timeRangeSelectedCallBack($u,end,$0R);break;};if(typeof $e.onTimeRangeSelected==='function'){$e.onTimeRangeSelected($h);}}else{switch($e.timeRangeSelectedHandling){case 'PostBack':$e.timeRangeSelectedPostBack($u,end,$0R);break;case 'CallBack':$e.timeRangeSelectedCallBack($u,end,$0R);break;case 'JavaScript':$e.onTimeRangeSelected($u,end,$0R);break;case 'Hold':break;}}};this.timeRangeDoubleClickPostBack=function($u,end,$0R,$m){var $0S={};$0S.start=$u;$0S.end=end;$0S.resource=$0R;this.$8g('TimeRangeDoubleClick',$0S,$m);};this.timeRangeDoubleClickCallBack=function($u,end,$0R,$m){var $0S={};$0S.start=$u;$0S.end=end;$0S.resource=$0R;this.$8h('TimeRangeDoubleClick',$0S,$m);};this.$8Y=function($u,end,$0R){if($e.$7K()){var $h={};$h.start=$u;$h.end=end;$h.resource=$0R;$h.preventDefault=function(){this.preventDefault.value=true;};if(typeof $e.onTimeRangeDoubleClick==='function'){$e.onTimeRangeDoubleClick($h);if($h.preventDefault.value){return;}};switch($e.timeRangeDoubleClickHandling){case 'PostBack':$e.timeRangeDoubleClickPostBack($u,end,$0R);break;case 'CallBack':$e.timeRangeDoubleClickCallBack($u,end,$0R);break;};if(typeof $e.onTimeRangeDoubleClicked==='function'){$e.onTimeRangeDoubleClicked($h);}}else{switch($e.timeRangeDoubleClickHandling){case 'PostBack':$e.timeRangeDoubleClickPostBack($u,end,$0R);break;case 'CallBack':$e.timeRangeDoubleClickCallBack($u,end,$0R);break;case 'JavaScript':$e.onTimeRangeDoubleClick($u,end,$0R);break;}}};this.timeRangeMenuClickPostBack=function(e,$0P,$m){var $0x={};$0x.selection=e;$0x.command=$0P;this.$8g("TimeRangeMenuClick",$0x,$m);};this.timeRangeMenuClickCallBack=function(e,$0P,$m){var $0x={};$0x.selection=e;$0x.command=$0P;this.$8h("TimeRangeMenuClick",$0x,$m);};this.$8Z=function($0P,e,$0Q){switch($0Q){case 'PostBack':$e.timeRangeMenuClickPostBack(e,$0P);break;case 'CallBack':$e.timeRangeMenuClickCallBack(e,$0P);break;}};this.linkMenuClickPostBack=function(e,$0P,$m){var $0x={};$0x.link=e;$0x.command=$0P;this.$8g("LinkMenuClick",$0x,$m);};this.linkMenuClickCallBack=function(e,$0P,$m){var $0x={};$0x.link=e;$0x.command=$0P;this.$8h("LinkMenuClick",$0x,$m);};this.$90=function($0P,e,$0Q){switch($0Q){case 'PostBack':$e.linkMenuClickPostBack(e,$0P);break;case 'CallBack':$e.linkMenuClickCallBack(e,$0P);break;}};this.rowMenuClickPostBack=function(e,$0P,$m){var $0x={};$0x.resource=e;$0x.command=$0P;this.$8g("RowMenuClick",$0x,$m);};this.resourceHeaderMenuClickPostBack=this.rowMenuClickPostBack;this.rowMenuClickCallBack=function(e,$0P,$m){var $0x={};$0x.resource=e;$0x.command=$0P;this.$8h("RowMenuClick",$0x,$m);};this.resourceHeaderMenuClickCallBack=this.rowMenuClickCallBack;this.$91=function($0P,e,$0Q){switch($0Q){case 'PostBack':$e.rowMenuClickPostBack(e,$0P);break;case 'CallBack':$e.rowMenuClickCallBack(e,$0P);break;}};this.$92=function($s,$0T){var r=$0U.$93($s);var c=r.cells[0];var $0V=c.textDiv;$0V.innerHTML=$0T;$s.Text=$0T;$s.html=$0T;};this.$94=function($s,$0T){if(!$0T){return;};var $h={};$h.text=$0T;$h.preventDefault=function(){this.preventDefault.value=true;};if(typeof $e.onRowCreate==="function"){$e.onRowCreate($h);if($h.preventDefault.value){return;}};switch($e.rowCreateHandling){case "CallBack":$e.rowCreateCallBack($h.text);break;case "PostBack":$e.rowCreatePostBack($h.text);break;};if(typeof $e.onRowCreated==="function"){$e.onRowCreated($h);}};this.$95=function($s,$0T){if($s.isNewRow){$e.$94($s,$0T);return;};var $0W=DayPilot.indexOf($e.rowlist,$s);var e=$e.$96($s,$0W);if($e.$7K()){var $h={};$h.resource=e;$h.newText=$0T;$h.preventDefault=function(){this.preventDefault.value=true;};if(typeof $e.onRowEdit==='function'){$e.onRowEdit($h);if($h.preventDefault.value){return;}};switch($e.rowEditHandling){case 'PostBack':$e.rowEditPostBack(e,$0T);break;case 'CallBack':$e.rowEditCallBack(e,$0T);break;case 'Update':$e.$92($s,$0T);break;};if(typeof $e.onRowEdited==='function'){$e.onRowEdited($h);}}else{switch($e.rowEditHandling){case 'PostBack':$e.rowEditPostBack(e,$0T);break;case 'CallBack':$e.rowEditCallBack(e,$0T);break;case 'JavaScript':$e.onrowEdit(e,$0T);break;}}};this.rowCreatePostBack=function($0T,$m){var $0x={};$0x.text=$0T;this.$8g("RowCreate",$0x,$m);};this.rowCreateCallBack=function($0T,$m){var $0x={};$0x.text=$0T;this.$8h("RowCreate",$0x,$m);};this.rowEditPostBack=function(e,$0T,$m){var $0x={};$0x.resource=e;$0x.newText=$0T;this.$8g("RowEdit",$0x,$m);};this.rowEditCallBack=function(e,$0T,$m){var $0x={};$0x.resource=e;$0x.newText=$0T;this.$8h("RowEdit",$0x,$m);};this.rowMovePostBack=function($0X,$0Y,$T,$m){var $0x={};$0x.source=$0X;$0x.target=$0Y;$0x.position=$T;this.$8g("RowMove",$0x,$m);};this.rowMoveCallBack=function($0X,$0Y,$T,$m){var $0x={};$0x.source=$0X;$0x.target=$0Y;$0x.position=$T;this.$8h("RowMove",$0x,$m);};this.rowMoveNotify=function($0X,$0Y,$T,$m){var $0x={};$0x.source=$0X;$0x.target=$0Y;$0x.position=$T;this.$8h("RowMove",$0x,$m,"Notify");};this.rowClickPostBack=function(e,$m){var $0x={};$0x.resource=e;this.$8g("RowClick",$0x,$m);};this.resourceHeaderClickPostBack=this.rowClickPostBack;this.rowClickCallBack=function(e,$m){var $0x={};$0x.resource=e;this.$8h("RowClick",$0x,$m);};this.resourceHeaderClickCallBack=this.rowClickCallBack;this.$97=function(e,$0F,$0Z,$0G){if($e.rowDoubleClickHandling==="Disabled"){$e.$98(e,$0F,$0Z,$0G);return;};if(!$e.timeouts.resClick){$e.timeouts.resClick=[];};var $10=function(e,$0F,$0Z,$0G){return function(){$e.$98(e,$0F,$0Z,$0G);};};$e.timeouts.resClick.push(window.setTimeout($10(e,$0F,$0Z,$0G),$e.doubleClickTimeout));};this.$98=function(e,$0F,$0Z,$0G){var $11=$e.resourceHeaderClickHandling||$e.rowClickHandling;if($e.$7K()){var $h={};$h.resource=e;$h.ctrl=$0F;$h.shift=$0Z;$h.meta=$0G;$h.preventDefault=function(){this.preventDefault.value=true;};if(typeof $e.onRowClick==='function'){$e.onRowClick($h);if($h.preventDefault.value){return;}};if(typeof $e.onResourceHeaderClick==='function'){$e.onResourceHeaderClick($h);if($h.preventDefault.value){return;}};switch($11){case 'PostBack':$e.rowClickPostBack(e);break;case 'CallBack':$e.rowClickCallBack(e);break;case 'Select':$e.$99(e.$.row,$0F,$0Z,$0G);break;case 'Edit':$e.$9a.edit(e.$.row);break;};if(typeof $e.onRowClicked==='function'){$e.onRowClicked($h);};if(typeof $e.onResourceHeaderClicked==='function'){$e.onResourceHeaderClicked($h);}}else{switch($11){case 'PostBack':$e.rowClickPostBack(e);break;case 'CallBack':$e.rowClickCallBack(e);break;case 'JavaScript':$e.onRowClick(e);break;case 'Select':$e.$99(e.$.row,$0F,$0Z);break;case 'Edit':$e.$9a.edit(e.$.row);break;}}};this.timeHeaderClickPostBack=function(e,$m){var $0x={};$0x.header=e;this.$8g("TimeHeaderClick",$0x,$m);};this.timeHeaderClickCallBack=function(e,$m){var $0x={};$0x.header=e;this.$8h("TimeHeaderClick",$0x,$m);};this.$9b=function(e){if($e.$7K()){var $h={};$h.header=e;$h.preventDefault=function(){this.preventDefault.value=true;};if(typeof $e.onTimeHeaderClick==='function'){$e.onTimeHeaderClick($h);if($h.preventDefault.value){return;}};switch(this.timeHeaderClickHandling){case 'PostBack':$e.timeHeaderClickPostBack(e);break;case 'CallBack':$e.timeHeaderClickCallBack(e);break;};if(typeof $e.onTimeHeaderClicked==='function'){$e.onTimeHeaderClicked($h);}}else{switch(this.timeHeaderClickHandling){case 'PostBack':$e.timeHeaderClickPostBack(e);break;case 'CallBack':$e.timeHeaderClickCallBack(e);break;case 'JavaScript':$e.onTimeHeaderClick(e);break;}}};this.resourceCollapsePostBack=function(e,$m){var $0x={};$0x.resource=e;this.$8g("ResourceCollapse",$0x,$m);};this.resourceCollapseCallBack=function(e,$m){var $0x={};$0x.resource=e;this.$8h("ResourceCollapse",$0x,$m);};this.$9c=function(e){if($e.$7K()){var $h={};$h.resource=e;$h.preventDefault=function(){this.preventDefault.value=true;};if(typeof $e.onResourceCollapse==='function'){$e.onResourceCollapse($h);if($h.preventDefault.value){return;}};switch(this.resourceCollapseHandling){case 'PostBack':$e.resourceCollapsePostBack(e);break;case 'CallBack':$e.resourceCollapseCallBack(e);break;}}else{switch(this.resourceCollapseHandling){case 'PostBack':$e.resourceCollapsePostBack(e);break;case 'CallBack':$e.resourceCollapseCallBack(e);break;case 'JavaScript':$e.onResourceCollapse(e);break;}}};this.resourceExpandPostBack=function(e,$m){var $0x={};$0x.resource=e;this.$8g("ResourceExpand",$0x,$m);};this.resourceExpandCallBack=function(e,$m){var $0x={};$0x.resource=e;this.$8h("ResourceExpand",$0x,$m);};this.$9d=function(e){if($e.$7K()){var $h={};$h.resource=e;$h.preventDefault=function(){this.preventDefault.value=true;};if(typeof $e.onResourceExpand==='function'){$e.onResourceExpand($h);if($h.preventDefault.value){return;}};switch(this.resourceExpandHandling){case 'PostBack':$e.resourceExpandPostBack(e);break;case 'CallBack':$e.resourceExpandCallBack(e);break;}}else{switch(this.resourceExpandHandling){case 'PostBack':$e.resourceExpandPostBack(e);break;case 'CallBack':$e.resourceExpandCallBack(e);break;case 'JavaScript':$e.onResourceExpand(e);break;}}};this.eventEditPostBack=function(e,$0T,$m){var $0x={};$0x.e=e;$0x.newText=$0T;this.$8g("EventEdit",$0x,$m);};this.eventEditCallBack=function(e,$0T,$m){var $0x={};$0x.e=e;$0x.newText=$0T;this.$8h("EventEdit",$0x,$m);};this.$9e=function(e,$0T){if($e.$7K()){var $h={};$h.e=e;$h.newText=$0T;$h.preventDefault=function(){this.preventDefault.value=true;};if(typeof $e.onEventEdit==='function'){$e.onEventEdit($h);if($h.preventDefault.value){return;}};switch($e.eventEditHandling){case 'PostBack':$e.eventEditPostBack(e,$0T);break;case 'CallBack':$e.eventEditCallBack(e,$0T);break;case 'Update':e.text($0T);$e.events.update(e);break;};if(typeof $e.onEventEdited==='function'){$e.onEventEdited($h);if($h.preventDefault.value){return;}}}else{switch($e.eventEditHandling){case 'PostBack':$e.eventEditPostBack(e,$0T);break;case 'CallBack':$e.eventEditCallBack(e,$0T);break;case 'JavaScript':$e.onEventEdit(e,$0T);break;}}};this.commandCallBack=function($0P,$m){this.$9f("CallBack",$0P,$m);};this.commandPostBack=function($0P,$m){this.$9f("PostBack",$0P,$m);};this.$9f=function($A,$0P,$m){var $0x={};$0x.command=$0P;this.$8r($A,"Command",$0x,$m);};this.$8g=function($0C,$12,$m){var $13={};$13.action=$0C;$13.type="PostBack";$13.parameters=$12;$13.data=$m;$13.header=this.$9g();var $14="JSON"+DayPilot.JSON.stringify($13);__doPostBack($e.uniqueID,$14);};this.$8h=function($0C,$12,$m,$A){if(!$e.$83()){$e.debug.message("Callback invoked without the server-side backend specified. Callback canceled.","warning");return;};if(typeof $A==='undefined'){$A="CallBack";};this.$9h();$e.$9i();var $13={};$13.action=$0C;$13.type=$A;$13.parameters=$12;$13.data=$m;$13.header=this.$9g();var $15=DayPilot.JSON.stringify($13);var $14;if(typeof Iuppiter!=='undefined'&&Iuppiter.compress){$14="LZJB"+Iuppiter.Base64.encode(Iuppiter.compress($15));}else{$14="JSON"+$15;};this.$9j($13);var $g=null;if(this.backendUrl){DayPilot.request(this.backendUrl,this.$9k,$14,this.$9l);}else if(typeof WebForm_DoCallback==='function'){WebForm_DoCallback(this.uniqueID,$14,this.$7g,$g,this.callbackError,true);}};this.$9j=function($13){var $h={};if(typeof $e.onCallBackStart==='function'){$e.onCallBackStart($h);}};this.$7l=function(){var $h={};if(typeof $e.onCallBackEnd==='function'){setTimeout(function(){$e.onCallBackEnd($h);},0);}};this.$83=function(){if(this.backendUrl){return true;};if(this.$9m()){return true;};return false;};this.$9m=function(){if(typeof WebForm_DoCallback==='function'&&this.uniqueID){return true;};return false;};this.$9l=function($16){if(typeof $e.onAjaxError==='function'){var $h={};$h.request=$16;$e.onAjaxError($h);}else if(typeof $e.ajaxError==='function'){$e.ajaxError($16);}};this.$9k=function($17){$e.$7g($17.responseText);};this.$9g=function(){var h={};h.v=this.v;h.control="dps";h.id=this.id;h.startDate=$e.startDate;h.days=$e.days;h.cellDuration=$e.cellDuration;h.cellGroupBy=$e.cellGroupBy;h.cellWidth=$e.cellWidth;h.cellWidthSpec=$e.cellWidthSpec;h.viewType=$e.viewType;h.hourNameBackColor=$e.hourNameBackColor;h.showNonBusiness=$e.showNonBusiness;h.businessBeginsHour=$e.businessBeginsHour;h.businessEndsHour=$e.businessEndsHour;h.weekStarts=$e.weekStarts;h.treeEnabled=$e.treeEnabled;h.backColor=$e.cellBackColor;h.nonBusinessBackColor=$e.cellBackColorNonBusiness;h.locale=$e.locale;h.timeZone=$e.timeZone;h.tagFields=$e.tagFields;h.timeHeaders=$e.timeHeaders;h.cssOnly=$e.cssOnly;h.cssClassPrefix=$e.cssClassPrefix;h.durationBarMode=$e.durationBarMode;h.showBaseTimeHeader=true;h.rowHeaderColumns=$e.rowHeaderColumns;h.rowMarginBottom=$e.rowMarginBottom;h.rowMarginTop=$e.rowMarginTop;h.rowMinHeight=$e.rowMinHeight;h.scale=$e.scale;h.clientState=$e.clientState;if(this.nav.scroll){h.scrollX=this.nav.scroll.scrollLeft;h.scrollY=this.nav.scroll.scrollTop;};h.selected=$e.multiselect.events();h.selectedRows=$0U.$9n();h.hashes=$e.hashes;var $t=$e.$9o(h.scrollX,h.scrollY);var $0S=$e.$9p($t);var $18=$e.$9q($t);h.rangeStart=$0S.start;h.rangeEnd=$0S.end;h.resources=$18;h.dynamicLoading=$e.dynamicLoading;if(this.syncResourceTree){h.tree=this.$9r();};if(this.syncLinks){h.links=this.$9s();};if(typeof $e.onCallBackHeader==="function"){var $h={};$h.header=h;$e.onCallBackHeader($h);};return h;};this.$9s=function(){var $B=[];var $19=function(link){var $f={};if(link.tags){for(var name in link.tags){$f[name]=""+link.tags[name];}};return $f;};for(var i=0;i<$e.links.length;i++){var link=$e.links[i];var $15={};$15.id=link.id;$15.from=link.from;$15.to=link.to;$15.type=link.type;$15.tags=$19(link);$B.push($15);};return $B;};this.getViewPort=function(){var scrollX=this.nav.scroll.scrollLeft;var scrollY=this.nav.scroll.scrollTop;var $t=this.$9o(scrollX,scrollY);var $0S=this.$9p($t);var $1a=this.$9q($t);var $f={};$f.start=$0S.start;$f.end=$0S.end;$f.resources=$1a;return $f;};this.$9o=function(scrollX,scrollY){var $t={};$t.start={};$t.end={};$t.start.x=Math.floor(scrollX/$e.cellWidth);$t.end.x=Math.floor((scrollX+$e.nav.scroll.clientWidth)/$e.cellWidth);$t.start.y=$e.$9t(scrollY).i;$t.end.y=$e.$9t(scrollY+$e.nav.scroll.clientHeight).i;var $1b=this.itline.length;if($t.end.x>=$1b){$t.end.x=$1b-1;};return $t;};this.$9p=function($t){var $f={};if(this.itline.length<=0){$f.start=this.startDate;$f.end=this.startDate;return $f;};if(!this.itline[$t.start.x]){throw 'Internal error: area.start.x is null.';};$f.start=this.itline[$t.start.x].start;$f.end=this.itline[$t.end.x].end;return $f;};this.$9q=function($t){if(!$t){var $t=this.$9o(this.nav.scroll.scrollLeft,this.nav.scroll.scrollTop);};var $18=[];$18.ignoreToJSON=true;for(var i=$t.start.y;i<=$t.end.y;i++){var r=$e.rowlist[i];if(r&&!r.hidden){$18.push(r.id);}};return $18;};this.$9r=function(){var $1c=[];$1c.ignoreToJSON=true;for(var i=0;i<this.rowlist.length;i++){var $s=this.rowlist[i];if($s.level>0){continue;};if($s.isNewRow){continue;};var $1d=this.$9u(i);$1c.push($1d);};return $1c;};this.$9v=function($1e){var $1f=[];$1f.ignoreToJSON=true;for(var i=0;i<$1e.length;i++){var $0W=$1e[i];var $s=$e.rowlist[$0W];if($s.isNewRow){continue;};$1f.push($e.$9u($0W));};return $1f;};this.$9u=function(i){var $s=this.rowlist[i];if(typeof $e.onGetNodeState==="function"){var $h={};$h.row=$s;$h.preventDefault=function(){$h.preventDefault.value=true;};$h.result={};$e.onGetNodeState($h);if($h.preventDefault.value){return $h.result;}};var $1d={};$1d.Value=$s.id;$1d.BackColor=$s.backColor;$1d.Name=$s.name;$1d.InnerHTML=$s.html;$1d.ToolTip=$s.toolTip;$1d.Expanded=$s.expanded;$1d.Children=this.$9v($s.children);$1d.Loaded=$s.loaded;$1d.IsParent=$s.isParent;$1d.Columns=this.$9w($s);if($s.minHeight!==$e.rowMinHeight){$1d.MinHeight=$s.minHeight;};if($s.marginBottom!==$e.rowMarginBottom){$1d.MarginBottom=$s.marginBottom;};if($s.marginTop!==$e.rowMarginTop){$1d.MarginTop=$s.marginTop;};if($s.eventHeight!==$e.eventHeight){$1d.EventHeight=$s.eventHeight;};return $1d;};this.$9w=function($s){if(!$s.columns||$s.columns.length===0){return null;};var $1g=[];$1g.ignoreToJSON=true;for(var i=0;i<$s.columns.length;i++){var c={};c.InnerHTML=$s.columns[i].html;$1g.push(c);};return $1g;};this.$7U=function($1h){var $1i=this.theme||this.cssClassPrefix;if($1i){return $1i+$1h;}else{return "";}};this.$9x=function(){this.nav.top.dispose=this.dispose;};this.dispose=function(){var c=$e;if(!c.nav.top){return;};c.$9h();c.$7B();c.divBreaks=null;c.divCells=null;c.divCorner=null;c.divCrosshair=null;c.divEvents=null;if(c.divHeader){c.divHeader.rows=null;};c.divHeader=null;c.divLines=null;c.divNorth=null;c.divRange=null;c.divResScroll=null;c.divSeparators=null;c.divSeparatorsAbove=null;c.divStretch=null;c.divTimeScroll=null;c.$80=null;c.$7n=null;c.$9y.calendar=null;c.$9y=null;c.nav.loading=null;c.nav.top.onmousemove=null;c.nav.top.dispose=null;c.nav.top.ontouchstart=null;c.nav.top.ontouchmove=null;c.nav.top.ontouchend=null;c.nav.top.removeAttribute('style');c.nav.top.removeAttribute('class');c.nav.top.innerHTML="";c.nav.top.dp=null;c.nav.top=null;c.nav.scroll.onscroll=null;c.nav.scroll.root=null;c.nav.scroll=null;DayPilot.ue(window,'resize',c.$9z);DayPilotScheduler.unregister(c);};this.$9A=function($1j,$A){var $1k=$e.$9y;var $1l=$e.$9B($1j);var event=$1j.event;var $U=event.part.height||$e.$9C.eventHeight();var top=(event.part&&event.part.top)?(event.part.top+$e.rowlist[event.part.dayIndex].top):$1l.top;var $1m=document.createElement('div');$1m.setAttribute('unselectable','on');$1m.style.position='absolute';$1m.style.width=($1l.width)+'px';$1m.style.height=$U+'px';$1m.style.left=$1l.left+'px';$1m.style.top=top+'px';$1m.style.zIndex=101;$1m.style.overflow='hidden';var $I=document.createElement("div");$1m.appendChild($I);if(this.cssOnly){$1m.className=this.$7U("_shadow");$I.className=this.$7U("_shadow_inner");};if(!this.cssOnly){if($A==='Fill'){$I.style.backgroundColor="#aaaaaa";$I.style.opacity=0.5;$I.style.filter="alpha(opacity=50)";$I.style.height="100%";if($1j&&$1j.event&&$1j.style){$I.style.fontSize=$1j.style.fontSize;$I.style.fontFamily=$1j.style.fontFamily;$I.style.color=$1j.style.color;$I.innerHTML=$1j.event.client.innerHTML();}}else{$1m.style.paddingTop="2px";$I.style.border='2px dotted #666666';}};$1k.appendChild($1m);$1m.calendar=$e;return $1m;};this.$9D=function($1j,$A){var $1k=$e.$9y;var $1l=$e.$9B($1j);var event=$1j.event;var ev=event;var $U=event.part.height||$e.$9C.eventHeight();var top=(event.part&&event.part.top)?(event.part.top+$e.rowlist[event.part.dayIndex].top):$1l.top;var $w=$1l.left;var $1n=(ev.cache&&typeof ev.cache.moveVDisabled!=='undefined')?!ev.cache.moveVDisabled:!ev.data.moveVDisabled;var $1o=(ev.cache&&typeof ev.cache.moveHDisabled!=='undefined')?!ev.cache.moveHDisabled:!ev.data.moveHDisabled;if(!$1n&&DayPilotScheduler.moving){top=$e.rowlist[ev.part.dayIndex].top;};if(!$1o&&DayPilotScheduler.moving){$w=event.part.left;};var $1m=document.createElement('div');$1m.setAttribute('unselectable','on');$1m.style.position='absolute';$1m.style.width=($1l.width)+'px';$1m.style.height=$U+'px';$1m.style.left=$w+'px';$1m.style.top=top+'px';$1m.style.zIndex=101;$1m.style.overflow='hidden';var $I=document.createElement("div");$1m.appendChild($I);if(this.cssOnly){$1m.className=this.$7U("_shadow");$I.className=this.$7U("_shadow_inner");};if(!this.cssOnly){if($A==='Fill'){$I.style.backgroundColor="#aaaaaa";$I.style.opacity=0.5;$I.style.filter="alpha(opacity=50)";$I.style.height="100%";if($1j&&$1j.event&&$1j.style){$I.style.fontSize=$1j.style.fontSize;$I.style.fontFamily=$1j.style.fontFamily;$I.style.color=$1j.style.color;$I.innerHTML=$1j.event.client.innerHTML();}}else{$1m.style.paddingTop="2px";$I.style.border='2px dotted #666666';}};$1k.appendChild($1m);$1m.calendar=$e;return $1m;};this.$9t=function(y){var $f={};var element;var top=0;var $1p=0;var $1q=this.rowlist.length;for(var i=0;i<$1q;i++){var $s=this.rowlist[i];if($s.hidden){continue;};$1p+=$s.height;if(y<$1p||i===$1q-1){top=$1p-$s.height;element=$s;break;}};$f.top=top;$f.bottom=$1p;$f.i=i;$f.element=element;return $f;};var $0K={};this.$9E=$0K;$0K.clear=function(){$e.divLinksAbove.innerHTML='';$e.divLinksBelow.innerHTML='';$e.elements.links=[];};$0K.showLinkpoints=function(){var $C=$z.events();$C.each(function($F){$0K.showLinkpoint($F);});};$0K.showLinkpoint=function($F){var $00=10;var $1r=$00/2;var $w=$F.event.part.left;var top=$e.rowlist[$F.event.part.dayIndex].top+$F.event.part.top;var $U=$F.event.part.height;var $x=$F.event.part.right;var $u=DayPilot.Util.div($e.divLinkpoints,$w-$1r,top-$1r+$U/2,$00,$00);$u.style.backgroundColor="white";$u.style.border="1px solid gray";$u.style.borderRadius="5px";$u.style.boxSizing="border-box";$u.coords={x:$w,y:top+$U/2};$u.type="Start";$u.event=$F.event;$0K.activateLinkpoint($u);$e.elements.linkpoints.push($u);var end=DayPilot.Util.div($e.divLinkpoints,$x-$1r,top-$1r+$U/2,$00,$00);end.style.backgroundColor="white";end.style.border="1px solid gray";end.style.borderRadius="5px";end.style.boxSizing="border-box";end.coords={x:$x,y:top+$U/2};end.type="Finish";end.event=$F.event;$0K.activateLinkpoint(end);$e.elements.linkpoints.push(end);};$0K.activateLinkpoint=function($F){$F.onmousedown=function(ev){var ev=ev||window.event;$1s.source=$F;$1s.calendar=$e;$0K.showLinkpoints();ev.preventDefault&&ev.preventDefault();ev.stopPropagation&&ev.stopPropagation();return false;};$F.onmousemove=function(ev){$F.style.backgroundColor="black";$0K.clearHideTimeout();};$F.onmouseout=function(ev){if(!$1s.source||$1s.source.event!==$F.event){$F.style.backgroundColor="white";}};$F.onmouseup=function(ev){if($1s.source){var $A=$1s.source.type+"To"+$F.type;var $1t=$1s.source.event.id();var to=$F.event.id();var $h={};$h.from=$1t;$h.to=to;$h.type=$A;$h.id=null;$h.preventDefault=function(){this.preventDefault.value=true;};if(typeof $e.onLinkCreate==="function"){$e.onLinkCreate($h);if($h.preventDefault.value){return;}};var $1u=function(){$e.links.push({"from":$1t,"to":to,"type":$A});$0K.load();};switch($e.linkCreateHandling){case "Update":$1u();break;case "CallBack":$e.$9F($h);break;case "PostBack":$e.$9G($h);break;case "Notify":$1u();$e.$9H($h);break;};if(typeof $e.onLinkCreated==="function"){$e.onLinkCreated($h);}}};};$0K.hideLinkpoints=function(){$e.divLinkpoints.innerHTML='';$e.elements.linkpoints=[];};$0K.hideTimeout=null;$0K.hideLinkpointsWithDelay=function(){$0K.hideTimeout=setTimeout(function(){$0K.hideLinkpoints();},100);};$0K.clearHideTimeout=function(){if($0K.hideTimeout){clearTimeout($0K.hideTimeout);$0K.hideTimeout=null;}};$0K.load=function(){$0K.clear();if(!DayPilot.isArray($e.links)){return;};for(var i=0;i<$e.links.length;i++){var link=$e.links[i];$0K.drawLinkId(link.from,link.to,link);}};$0K.drawLinkId=function($1t,to,$1v){var $u=$e.events.find($1t);var end=$e.events.find(to);$0K.drawLink($u,end,$1v);};$0K.drawLink=function($1t,to,$1v){var $1w=$e.$9I($1t);var $1x=$e.$9I(to);if(!$1w){return;};if(!$1x){return;};var $A=$1v.type||"FinishToStart";var $u,end;var $1y=$e.rowlist[$1w.event.part.dayIndex].top;var $1z=$e.rowlist[$1x.event.part.dayIndex].top;switch($A){case "FinishToStart":$u={x:$1w.event.part.right,y:$1y+$1w.event.part.top};end={x:$1x.event.part.left,y:$1z+$1x.event.part.top};break;case "StartToFinish":$u={x:$1w.event.part.left,y:$1y+$1w.event.part.top};end={x:$1x.event.part.right,y:$1z+$1x.event.part.top};break;case "StartToStart":$u={x:$1w.event.part.left,y:$1y+$1w.event.part.top};end={x:$1x.event.part.left,y:$1z+$1x.event.part.top};break;case "FinishToFinish":$u={x:$1w.event.part.right,y:$1y+$1w.event.part.top};end={x:$1x.event.part.right,y:$1z+$1x.event.part.top};break;};$0K.drawLinkXy($u,end,$1v);};$0K.clearShadow=function(){$e.divLinkShadow.innerHTML='';$e.elements.linkshadow=[];};$0K.drawShadow=function($1t,to){$0K.clearShadow();if(DayPilot.browser.ielt9){$0K.drawShadowOldStyle($1t,to);}else{var parent=$e.divLinkShadow;var $08=DayPilot.line($1t.x,$1t.y,to.x,to.y,true);parent.appendChild($08);$e.elements.linkshadow.push($08);}};$0K.drawShadowOldStyle=function($1t,to){var nx=Math.min($1t.x,to.x);var $00=2;var parent=$e.divLinkShadow;var $1A="black";var h1=DayPilot.Util.div(parent,nx,$1t.y,$1t.x-nx,$00);h1.style.backgroundColor=$1A;$e.elements.linkshadow.push(h1);var v1=DayPilot.Util.div(parent,nx,$1t.y,$00,to.y-$1t.y);v1.style.backgroundColor=$1A;$e.elements.linkshadow.push(v1);var h3=DayPilot.Util.div(parent,nx,to.y,to.x-nx,$00);h3.style.backgroundColor=$1A;$e.elements.linkshadow.push(h3);var a=DayPilot.Util.div(parent,to.x-6,to.y-5,0,0);a.style.borderColor="transparent transparent transparent "+$1A;a.style.borderStyle="solid";a.style.borderWidth="6px";$e.elements.linkshadow.push(a);};$0K.drawLinkXy=function($1t,to,$1v){var $1B=$e.eventHeight/2;var $00=$1v.width||1;var $A=$1v.type||"FinishToStart";var $1A=$1v.color;var style=$1v.style;var $1C=$1v.layer||"Above";var $1D=$1C==="Above";var $1E=$1D?$e.divLinksAbove:$e.divLinksBelow;var $U=$e.eventHeight;var $R=$e.linkBottomMargin;var $1F=function($F,$1G){if($1A){$F.style["border"+$1G+"Color"]=$1A;};if(style){$F.style["border"+$1G+"Style"]=style;}};var $1H=[];var $1I=function($F,$1J){$e.elements.links.push($F);$1K($F);$1L($F);$F.divs=$1H;if(!$1J){$1H.push($F);}};var $1L=function($F){$F.oncontextmenu=function(ev){ev=ev||window.event;if($e.contextMenuLink){var link=new DayPilot.Link($1v,$e);$e.contextMenuLink.show(link);};ev.cancelBubble=true;ev.preventDefault?ev.preventDefault():null;}};var $1K=function($F){$F.onmouseenter=function(){DayPilot.Util.addClass($F.divs,$e.$7U("_link_hover"));};$F.onmouseleave=function(){DayPilot.Util.removeClass($F.divs,$e.$7U("_link_hover"));};};if($A==="FinishToStart"){if($1t.x>to.x){var $1D=5;var $1M=to.y-$1D;var h1=DayPilot.Util.div($1E,$1t.x,$1t.y+$U-$R,$1B+$00,$00);h1.style.boxSizing="border-box";h1.style.borderBottomWidth=$00+"px";h1.className=$e.$7U("_link_horizontal");DayPilot.Util.addClass(h1,$1v.cssClass);$1F(h1,"Bottom");$1I(h1);var v1=DayPilot.Util.div($1E,$1t.x+$1B,$1t.y+$U-$R,$00,$1M-($1t.y+$U-$R));v1.style.boxSizing="border-box";v1.style.borderRightWidth=$00+"px";v1.className=$e.$7U("_link_vertical");DayPilot.Util.addClass(v1,$1v.cssClass);$1F(v1,"Right");$1I(v1);var h2=DayPilot.Util.div($1E,to.x-$1B,$1M,$1t.x+2*$1B+$00-to.x,$00);h2.style.boxSizing="border-box";h2.style.borderBottomWidth=$00+"px";h2.className=$e.$7U("_link_horizontal");DayPilot.Util.addClass(h2,$1v.cssClass);$1F(h2,"Bottom");$1I(h2);var v2=DayPilot.Util.div($1E,to.x-$1B,$1M,$00,to.y-$1M+$U-$R);v2.style.boxSizing="border-box";v2.style.borderRightWidth=$00+"px";v2.className=$e.$7U("_link_vertical");DayPilot.Util.addClass(v2,$1v.cssClass);$1F(v2,"Right");$1I(v2);var h3=DayPilot.Util.div($1E,to.x-$1B,to.y+$U-$R,$1B,$00);h3.style.boxSizing="border-box";h3.style.borderBottomWidth=$00+"px";h3.className=$e.$7U("_link_horizontal");DayPilot.Util.addClass(h3,$1v.cssClass);$1F(h3,"Bottom");$1I(h3);var a;if($1A){a=DayPilot.Util.div($1E,to.x-6,to.y+$U-$R-5,0,0);a.style.borderWidth="6px";a.style.borderColor="transparent transparent transparent "+$1A;a.style.borderStyle="solid";}else{a=DayPilot.Util.div($1E,to.x-6,to.y+$U-$R-5,6,6);a.className=$e.$7U("_link_arrow_right");DayPilot.Util.addClass(a,$1v.cssClass);};$1I(a,true);}else{var $1N=$1t.x;var $1O=$1t.y+$U-$R;var $1P=to.x+$1B;var $1Q=to.y;var h1=DayPilot.Util.div($1E,$1N,$1O,$1P-$1t.x,$00);h1.style.boxSizing="border-box";h1.style.borderBottomWidth=$00+"px";h1.className=$e.$7U("_link_horizontal");DayPilot.Util.addClass(h1,$1v.cssClass);$1F(h1,"Bottom");$1I(h1);var v1=DayPilot.Util.div($1E,$1P,$1O,$00,$1Q-$1O);v1.style.boxSizing="border-box";v1.style.borderRightWidth=$00+"px";v1.className=$e.$7U("_link_vertical");DayPilot.Util.addClass(v1,$1v.cssClass);$1F(v1,"Right");$1I(v1);var a;if($1A){a=DayPilot.Util.div($1E,$1P-5+Math.floor($00/2),$1Q-5,0,0);a.style.borderColor=$1A+" transparent transparent transparent";a.style.borderStyle="solid";a.style.borderWidth="5px";}else{a=DayPilot.Util.div($1E,$1P-6+Math.floor($00/2),$1Q-6,6,6);a.className=$e.$7U("_link_arrow_down");DayPilot.Util.addClass(a,$1v.cssClass);};$1I(a,true);}}else if($A==="StartToFinish"){var $1D=5;var $1M=to.y-$1D;var h1=DayPilot.Util.div($1E,to.x,to.y+$U-$R,$1B+$00,$00);h1.style.boxSizing="border-box";h1.style.borderBottomWidth=$00+"px";h1.className=$e.$7U("_link_horizontal");DayPilot.Util.addClass(h1,$1v.cssClass);$1F(h1,"Bottom");$1I(h1);var v1=DayPilot.Util.div($1E,to.x+$1B,to.y+$U-$R,$00,$1M-(to.y+$U-$R)+0);v1.style.boxSizing="border-box";v1.style.borderRightWidth=$00+"px";v1.className=$e.$7U("_link_vertical");DayPilot.Util.addClass(v1,$1v.cssClass);$1F(v1,"Right");$1I(v1);var h2=DayPilot.Util.div($1E,$1t.x-$1B,$1M,to.x+2*$1B+$00-$1t.x,$00);h2.style.boxSizing="border-box";h2.style.borderBottomWidth=$00+"px";h2.className=$e.$7U("_link_horizontal");DayPilot.Util.addClass(h2,$1v.cssClass);$1F(h2,"Bottom");$1I(h2);var v2=DayPilot.Util.div($1E,$1t.x-$1B,$1M,$00,$1t.y+$U-$R-$1M+0);v2.style.boxSizing="border-box";v2.style.borderRightWidth=$00+"px";v2.className=$e.$7U("_link_vertical");DayPilot.Util.addClass(v2,$1v.cssClass);$1F(v2,"Right");$1I(v2);var h3=DayPilot.Util.div($1E,$1t.x-$1B,$1t.y+$U-$R,$1B,$00);h3.style.boxSizing="border-box";h3.style.borderBottomWidth=$00+"px";h3.className=$e.$7U("_link_horizontal");DayPilot.Util.addClass(h3,$1v.cssClass);$1F(h3,"Bottom");$1I(h3);var a;if($1A){a=DayPilot.Util.div($1E,to.x-6,to.y+$U-$R-5,0,0);a.style.borderColor="transparent "+$1A+" transparent transparent";a.style.borderStyle="solid";a.style.borderWidth="6px";}else{a=DayPilot.Util.div($1E,to.x-6,to.y+$U-$R-5,6,6);a.className=$e.$7U("_link_arrow_left");DayPilot.Util.addClass(a,$1v.cssClass);};$1I(a,true);}else if($A==="StartToStart"){var nx=Math.min($1t.x,to.x)-$1B;var h1=DayPilot.Util.div($1E,nx,$1t.y+$U-$R,$1t.x-nx,$00);h1.style.boxSizing="border-box";h1.style.borderBottomWidth=$00+"px";h1.className=$e.$7U("_link_horizontal");DayPilot.Util.addClass(h1,$1v.cssClass);$1F(h1,"Bottom");$1I(h1);var v1=DayPilot.Util.div($1E,nx,$1t.y+$U-$R,$00,to.y-$1t.y);v1.style.boxSizing="border-box";v1.style.borderRightWidth=$00+"px";v1.className=$e.$7U("_link_vertical");DayPilot.Util.addClass(v1,$1v.cssClass);$1F(v1,"Right");$1I(v1);var h3=DayPilot.Util.div($1E,nx,to.y+$U-$R,to.x-nx,$00);h3.style.boxSizing="border-box";h3.style.borderBottomWidth=$00+"px";h3.className=$e.$7U("_link_horizontal");DayPilot.Util.addClass(h3,$1v.cssClass);$1F(h3,"Bottom");$1I(h3);var a;if($1A){a=DayPilot.Util.div($1E,to.x-6,to.y+$U-$R-5,0,0);a.style.borderColor="transparent transparent transparent "+$1A;a.style.borderStyle="solid";a.style.borderWidth="6px";}else{a=DayPilot.Util.div($1E,to.x-6,to.y+$U-$R-5,6,6);a.className=$e.$7U("_link_arrow_right");DayPilot.Util.addClass(a,$1v.cssClass);};$1I(a,true);}else if($A==="FinishToFinish"){var fx=Math.max(to.x,$1t.x)+$1B;var h1=DayPilot.Util.div($1E,$1t.x,$1t.y+$U-$R,fx-$1t.x,$00);h1.style.boxSizing="border-box";h1.style.borderBottomWidth=$00+"px";h1.className=$e.$7U("_link_horizontal");DayPilot.Util.addClass(h1,$1v.cssClass);$1F(h1,"Bottom");$1I(h1);var v1=DayPilot.Util.div($1E,fx,$1t.y+$U-$R,$00,to.y-$1t.y);v1.style.boxSizing="border-box";v1.style.borderRightWidth=$00+"px";v1.className=$e.$7U("_link_vertical");DayPilot.Util.addClass(v1,$1v.cssClass);$1F(v1,"Right");$1I(v1);var h3=DayPilot.Util.div($1E,to.x,to.y+$U-$R,fx-to.x,$00);h3.style.boxSizing="border-box";h3.style.borderBottomWidth=$00+"px";h3.className=$e.$7U("_link_horizontal");DayPilot.Util.addClass(h3,$1v.cssClass);$1F(h3,"Bottom");$1I(h3);var a;if($1A){a=DayPilot.Util.div($1E,to.x-6,to.y+$U-$R-5,0,0);a.style.borderColor="transparent "+$1A+" transparent transparent";a.style.borderStyle="solid";a.style.borderWidth="6px";}else{a=DayPilot.Util.div($1E,to.x-6,to.y+$U-$R-5,6,6);a.className=$e.$7U("_link_arrow_left");DayPilot.Util.addClass(a,$1v.cssClass);};$1I(a,true);}};this.$9F=function($h,$m){var $0x={};$0x.from=$h.from;$0x.to=$h.to;$0x.type=$h.type;$e.$8h("LinkCreate",$0x,$m);};this.$9H=function($h,$m){var $0x={};$0x.from=$h.from;$0x.to=$h.to;$0x.type=$h.type;$e.$8h("LinkCreate",$0x,$m,"Notify");};this.$9G=function($h,$m){var $0x={};$0x.from=$h.from;$0x.to=$h.to;$0x.type=$h.type;$e.$8g("LinkCreate",$0x,$m);};this.$9J=function(i){var top=0;var $R=0;var $0W=0;if(i>this.rowlist.length-1){throw "Row index too high (DayPilotScheduler._getRowByIndex)";};for(var j=0;j<=i;j++){var $s=this.rowlist[j];if($s.hidden){continue;};$R+=$s.height;$0W++;};top=$R-$s.height;var $f={};$f.top=top;$f.height=$s.height;$f.bottom=$R;$f.i=$0W-1;$f.data=$s;return $f;};this.$9K=function(){if(this.backendUrl){return(typeof $e.events.list==='undefined')||(!$e.events.list);}else{return false;}};this.events.find=function(id){if(!$e.events.list||typeof $e.events.list.length==='undefined'){return null;};var $1R=$e.events.list.length;for(var i=0;i<$1R;i++){if($e.events.list[i].id===id){return new DayPilot.Event($e.events.list[i],$e);}};return null;};this.events.all=function(){var $B=[];for(var i=0;i<$e.events.list.length;i++){var e=new DayPilot.Event($e.events.list[i],$e);$B.push(e);};return DayPilot.list($B);};this.events.filter=function($h){$e.events.$9L=$h;$e.$8B({"eventsOnly":true});};this.events.load=function($1S,$1T,$1U){var $1V=function($h){var $1W={};$1W.exception=$h.exception;$1W.request=$h.request;if(typeof $1U==='function'){$1U($1W);}};var $1X=function($h){var r=$h.request;var $m;try{$m=eval("("+r.responseText+")");}catch(e){var $1Y={};$1Y.exception=e;$1V($1Y);return;};if(DayPilot.isArray($m)){var $1Z={};$1Z.preventDefault=function(){this.preventDefault.value=true;};$1Z.data=$m;if(typeof $1T==="function"){$1T($1Z);};if($1Z.preventDefault.value){return;};$e.events.list=$m;if($e.$9M){$e.update();}}};DayPilot.ajax({"url":$1S,"success":$1X,"error":$1V});};this.events.findRecurrent=function($20,$0o){if(!$e.events.list||typeof $e.events.list.length==='undefined'){return null;};var $1R=$e.events.list.length;for(var i=0;i<$1R;i++){if($e.events.list[i].recurrentMasterId===$20&&$e.events.list[i].start.getTime()===$0o.getTime()){return new DayPilot.Event($e.events.list[i],$e);}};return null;};this.events.$8u=function($m){var $0E=[];for(var i=0;i<$e.rowlist.length;i++){var $s=$e.rowlist[i];$e.$9N(i);for(var r=0;r<$s.events.length;r++){if($s.events[r].data===$m){$0E.push(i);$s.events.splice(r,1);break;}}};return $0E;};this.events.$8v=function($m){var $0E=[];var $21=$e.$9O()||$e.viewType==="Days";var $0W=DayPilot.indexOf($e.events.list,$m);$e.$9P($0W);for(var i=0;i<$e.rowlist.length;i++){var $s=$e.rowlist[i];$e.$9N(i);var ep=$e.$9Q($m,$s);if(ep){if(typeof $e.onBeforeEventRender==='function'){ep.cache=$e.$7f.events[$0W];};$0E.push(i);if(!$21){break;}}};return $0E;};this.events.update=function(e,$m){var $0x={};$0x.oldEvent=new DayPilot.Event(e.copy(),$e);$0x.newEvent=new DayPilot.Event(e.temp(),$e);var $0C=new DayPilot.Action($e,"EventUpdate",$0x,$m);if($e.$9R.scope){e.commit();$e.$9R.notify();}else{var $0E=$e.events.$8u(e.data);e.commit();$0E=$0E.concat($e.events.$8v(e.data));$e.$8w($0E);$e.$8x();if($e.$9M){if($e.viewType==="Gantt"){$e.update();}else{$e.$8y($0E);$e.$7z();}}};return $0C;};this.events.remove=function(e,$m){var $0x={};$0x.e=new DayPilot.Event(e.data,$e);var $0C=new DayPilot.Action($e,"EventRemove",$0x,$m);var $0W=DayPilot.indexOf($e.events.list,e.data);$e.events.list.splice($0W,1);if($e.$9R.scope){$e.$9R.notify();}else{var $0E=$e.events.$8u(e.data);$e.$8w($0E);$e.$8x();if($e.$9M){if($e.viewType==="Gantt"){$e.update();}else{$e.$8y($0E);$e.$7z();}}};return $0C;};this.events.add=function(e,$m){e.calendar=$e;if(!$e.events.list){$e.events.list=[];};$e.events.list.push(e.data);if($e.$9R.scope){$e.$9R.notify();}else{var $0x={};$0x.e=e;var $0C=new DayPilot.Action($e,"EventAdd",$0x,$m);var $0E=$e.events.$8v(e.data);$e.$8w($0E);$e.$8x();if($e.$9M){if($e.viewType==="Gantt"){$e.update();}else{$e.$8y($0E);$e.$7z();}}};return $0C;};this.queue={};this.queue.list=[];this.queue.list.ignoreToJSON=true;this.queue.add=function($0C){if(!$0C){return;};if($0C.isAction){$e.queue.list.push($0C);}else{throw "DayPilot.Action object required for queue.add()";}};this.queue.notify=function($m){var $0x={};$0x.actions=$e.queue.list;$e.$8h('Notify',$0x,$m,"Notify");$e.queue.list=[];};this.queue.clear=function(){$e.queue.list=[];};this.queue.pop=function(){return $e.queue.list.pop();};this.cells.find=function($u,$0R){var $r=$e.getPixels(new DayPilot.Date($u));if(!$r){return $22();};var x=$r.i;var $s=$e.$7L($0R);if(!$s){return $22();};var top=$s.top;var y=$e.$9t(top).i;return this.findXy(x,y);};this.cells.findByPixels=function(x,y){var $0m=$e.$8b(x);if(!$0m){return $22();};var x=$0m.x;var $s=$e.$9t(y);if(!$s){return $22();};var y=$s.i;return this.findXy(x,y);};this.cells.all=function(){var $B=[];var $1b=$e.itline.length;var $23=$e.rowlist.length;for(var x=0;x<$1b;x++){for(var y=0;y<$23;y++){var $y=$e.cells.findXy(x,y);$B.push($y[0]);}};return $22($B);};this.cells.$9S=function(x,y){var $0m=$e.itline[x];var $y={};$y.x=x;$y.y=y;$y.i=x+"_"+y;$y.resource=$e.rowlist[y].id;$y.start=$0m.start;$y.end=$0m.end;$y.update=function(){if(!$e.rowlist[$y.y].hidden){var $t=$e.$7N();if($t.xStart<=$y.x&&$y.x<=$t.xEnd){if($t.yStart<=$y.y&&$y.y<=$t.yEnd){var $0D=$e.$7f.cells[$y.i];$e.$9T($0D);$e.$9U($y.x,$y.y);}}}};$y.div=$e.$7f.cells[$y.i];var p=$e.$9V(x,y);$y.properties=p;return $y;};this.cells.findXy=function(x,y){if(DayPilot.isArray(x)){var $v=[];for(var i=0;i<x.length;i++){var o=x[i];$v.push($e.cells.$9S(o.x,o.y));};return $22($v);}else if(x===null||y===null){return $22();};var $y=$e.cells.$9S(x,y);return $22($y);};var $24=function(a){var $B=[];if(DayPilot.isArray(a)){for(var i=0;i<a.length;i++){$B.push(a[i]);}}else if(typeof a==='object'){$B.push(a);};$B.each=function(f){if(!f){return;};for(var i=0;i<$B.length;i++){f($B[i]);}};return $B;};var $22=function(a){var $B=[];if(DayPilot.isArray(a)){for(var i=0;i<a.length;i++){$B.push(a[i]);}}else if(typeof a==='object'){$B.push(a);};$B.cssClass=function($25){this.each(function($D){$D.properties.cssClass=DayPilot.Util.addClassToString($D.properties.cssClass,$25);$D.update();});return this;};$B.removeClass=function($25){this.each(function($D){$D.properties.cssClass=DayPilot.Util.removeClassFromString($D.properties.cssClass,$25);$D.update();});return this;};$B.addClass=$B.cssClass;$B.html=function($L){this.each(function($D){$D.properties.html=$L;$D.update();});return this;};$B.each=function(f){if(!f){return;};for(var i=0;i<this.length;i++){f($B[i]);}};return $B;};this.$9R={};this.$9R.scope=null;this.$9R.notify=function(){if($e.$9R.scope){$e.$9R.scope["$apply"]();}};this.debug=new DayPilot.Debug(this);this.$9W=function($q){if($e.viewType!=='Days'){throw "Checking row start when viewType !== 'Days'";};for(var i=0;i<$e.rowlist.length;i++){var $s=$e.rowlist[i];var $m=$s.element?$s.element.data:$s.data;var $u=$m.start;if($q.getTime()>=$u.getTime()&&$q.getTime()<$u.addDays(1).getTime()){return $u;}};return null;};this.$9X=function($q){if($q.ticks===this.startDate.ticks){return $q;};var $26=this.startDate;if($q.ticks<this.startDate.ticks){var $27=this.itline[0].end.ticks-this.itline[0].start.ticks;while($26.ticks>$q.ticks){$26=$26.addTime(-$27);};return $26;};if($e.viewType==='Days'){var $28=this.$9W($q);var $0i=$28.getTime()-$e.startDate.getTime();var $y=this.$8d($q.addTime(-$0i));if($y.current){return $y.current.start.addTime($0i);};if($y.past){return $y.previous.end.addTime($0i);};throw "getBoxStart(): time not found";}else{var $y=this.$8d($q);if($y.current){return $y.current.start;};if($y.past){return $y.previous.end;};if($y.hidden){var $29=$y.next.start.getTime()-$q.getTime();var $2a=$y.next.end.getTime()-$y.next.start.getTime();var $2b=Math.ceil($29/$2a)*$2a;var $f=$y.next.start.addTime(-$2b);return $f;};throw "getBoxStart(): time not found";}};this.$9B=function($1j){var $s=this.$9t($e.coords.y);var e=$1j.event;if(typeof e.end !=='function'){throw "e.end function is not defined";};if(!e.end()){throw "e.end() returns null";};var $0p=DayPilot.Date.diff(e.end().d,e.start().d);$0p=Math.max($0p,1);var $2c=$Q.useBox($0p);var $2d=e.data&&e.data.type==="Milestone";var $2e=$e.eventHeight;var $2f=0;var x=$e.coords.x;if($2d){x+=$2e/2;};if($e.scale==="Manual"){var $2g=(function(){var end=$e.getDate($e.coords.x,true,true);var $u=end.addTime(-$0p);var $2h=$e.getPixels($u).boxLeft;var $2i=$e.getPixels(end).boxRight;var end=Math.min($2i,$e.coords.x);return end -$2h;})();var $0i=Math.min(DayPilotScheduler.moveOffsetX,$2g);x=$e.coords.x-$0i;};if($2c&&!$2d){var $y=$e.$8d(e.start());var $2j=!$y.hidden&&!$y.past;$2f=e.start().getTime()-this.$9X(e.start()).getTime();if($2j){$2f=(function($2k,$0i){var $2l=$e.$9Y($e.$8d($2k).current);var $2m=$e.$9Y($e.$8b(x).cell);if($2l>$2m*1.2){var $2n=$0i>0?1:-1;var $0i=Math.abs($0i);while($0i>=$2m){$0i-=$2m;};$0i*=$2n;};return $0i;})(e.start(),$2f);}};var $2o=0;if(DayPilotScheduler.moveDragStart&&$e.scale!=="Manual"){if($2c){$2o=DayPilotScheduler.moveDragStart.getTime()-this.$9X(e.start()).getTime();var $2p=$e.$9Z()*60*1000;$2o=Math.floor($2o/$2p)*$2p;}else{$2o=DayPilotScheduler.moveDragStart.getTime()-e.start().getTime();}}else{$2o=0;};if(this.eventMoveToPosition){$2o=0;};var $u=this.getDate(x,true).addTime(-$2o);if(DayPilotScheduler.resizing){$u=e.start();};if(this.snapToGrid){if($e.viewType==="Days"){$u=this.$9X($u);}else{$u=this.$9X($u);}};$u=$u.addTime($2f);var end=$u.addTime($0p);var $2q=$u;var $2r=end;if(this.viewType==='Days'){var $2s=this.rowlist[e.part.dayIndex].start.getTime()-this.startDate.getTime();var $2q=$u.addTime(-$2s);var $2r=$2q.addTime($0p);var $2t=$s.element.data.start.getTime()-this.startDate.getTime();$u=$2q.addTime($2t);end=$u.addTime($0p);};var $2u=this.getPixels($2q);var $2v=this.getPixels($2r);var $w=($2c)?$2u.boxLeft:$2u.left;var $00=($2c)?($2v.boxRight-$w):($2v.left-$w);if($2d){$00=$2e;$w-=$00/2;};var $1l={};$1l.top=$s.top;$1l.left=$w;$1l.row=$s.element;$1l.rowIndex=$s.i;$1l.width=$00;$1l.start=$u;$1l.end=end;$1l.relativeY=$e.coords.y-$s.top;return $1l;};this.$9Z=function(){switch(this.scale){case "CellDuration":return this.cellDuration;case "Minute":return 1;case "Hour":return 60;case "Day":return 60*24;case "Week":return 60*24*7;case "Month":return 60*24*30;case "Year":return 60*24*365;};throw "can't guess cellDuration value";};this.$9Y=function($0m){return $0m.end.ticks-$0m.start.ticks;};this.$a0=function(y){return this.treePreventParentUsage&&this.$a1(y);};this.$a1=function(y){var $s=this.rowlist[y];if($s.isParent){return true;};if(this.treeEnabled){if($s.children&&$s.children.length>0){return true;}};return false;};this.$a2={};this.$a3=function(){if(!$e.treeAutoExpand){return;};var $1l=this.$9B(DayPilotScheduler.moving);var y=$1l.rowIndex;var $2w=this.$a1(y);var $2x=this.$a2;if($2x.timeout&&$2x.y!==y){clearTimeout($2x.timeout);$2x.timeout=null;};if($2w){$2x.y=y;if(!$2x.timeout){$2x.timeout=setTimeout(function(){var $2y=!$e.rowlist[$2x.y].expanded;if($2y){$e.$a4($2x.y);$e.$a5();};$2x.timeout=null;},500);}}};this.$a6=function(){var $2z=DayPilotScheduler.resizingShadow.clientWidth;var $2A=DayPilotScheduler.resizingShadow.offsetLeft;var e=DayPilotScheduler.resizing.event;var $2B=DayPilotScheduler.resizing.dpBorder;var $s=$e.rowlist[DayPilotScheduler.resizing.event.part.dayIndex];var $2s=$s.start.getTime()-$e.$a7().getTime();var $0z=null;var $0A=null;var $2C=!$e.snapToGrid;if($2B==='left'){$0z=$e.getDate($2A,$2C).addTime($2s);$0A=e.end();}else if($2B==='right'){$0z=e.start();$0A=$e.getDate($2A+$2z,$2C,true).addTime($2s);};DayPilotScheduler.resizingShadow.start=$0z;DayPilotScheduler.resizingShadow.end=$0A;};this.$a5=function(){var scroll=this.nav.scroll;if(!$e.coords){return;};$e.$7Y();var $1m=DayPilotScheduler.movingShadow;var $1l=this.$9B(DayPilotScheduler.moving);var ev=DayPilotScheduler.moving.event;var $2D=0;(function calculatePosition(){var y=$1l.relativeY;var $s=$1l.row;var $2E=$s.lines.length;var top=0;var lh=$e.$9C.eventHeight();var $2F=$s.lines.length;for(var i=0;i<$s.lines.length;i++){var $08=$s.lines[i];if($08.isFree($1l.left,$e.cellWidth)){$2F=i;break;}};var $0n=Math.floor((y-top+lh/ 2)/ lh);var $0n=Math.min($2F,$0n);var $0n=Math.max(0,$0n);$2D=$0n;})();var $1n=(ev.cache&&typeof ev.cache.moveVDisabled!=='undefined')?!ev.cache.moveVDisabled:!ev.data.moveVDisabled;var $1o=(ev.cache&&typeof ev.cache.moveHDisabled!=='undefined')?!ev.cache.moveHDisabled:!ev.data.moveHDisabled;var $2G=$2D*$e.$9C.eventHeight();if($2G>0){$2G-=3;};if($1n){if(!this.$a0($1l.rowIndex)){$1m.row=$1l.row;$1m.style.height=Math.max($1l.row.height,0)+'px';$1m.style.top=($1l.top)+'px';if($e.eventMoveToPosition){$1m.style.top=($1l.top+$2G)+"px";$1m.style.height="3px";$1m.line=$2D;}}else{var $2H=$1m.row;var $2I=$1l.rowIndex<$2H.index?1:-1;for(var i=$1l.rowIndex;i!==$2H.index;i+=$2I){var $s=this.rowlist[i];if(!this.$a0(i)&&!$s.hidden){$1m.style.top=($s.top)+'px';$1m.style.height=Math.max($s.height,0)+'px';$1m.row=$s;if($e.eventMoveToPosition){$2D=$2I>0?0:$s.lines.length-1;$1m.style.top=($1l.top+$2G)+"px";$1m.style.height="3px";$1m.line=$2D;};break;}}}}else{var $2H=$e.rowlist[ev.part.dayIndex];var $2F=$2H.lines.length;for(var i=0;i<$2H.lines.length;i++){var $08=$2H.lines[i];if($08.isFree($1l.left,$e.cellWidth)){$2F=i;break;}};$1m.style.height=Math.max($2H.height,0)+'px';$1m.style.top=($2H.top)+'px';$1m.row=$2H;if($e.eventMoveToPosition){if($1l.row===$2H){$1m.style.top=($2H.top+$2G)+"px";$1m.style.height="3px";$1m.line=$2D;}else{var $0n=($1l.rowIndex>$2H.index&&$2F>0)?$2F*$e.$9C.eventHeight()-3:0;$1m.style.top=($2H.top+$0n)+"px";$1m.style.height="3px";$1m.line=0;}}};if($1o){$1m.style.left=$1l.left+'px';if($e.eventMoveToPosition){$1m.style.width=($e.cellWidth)+'px';}else{$1m.style.width=($1l.width)+'px';};$1m.start=$1l.start;$1m.end=$1l.end;}else{$1m.style.left=ev.part.left+"px";$1m.start=ev.start();$1m.end=ev.end();};(function checkOverlap(){var $s=$1l.row;var $m=ev.data;var $00=$1l.width;var $w=$1l.left;$e.$a8($1m,$s,$w,$00,$m);})();(function(){var $0j=$e.$a9;if($0j&&$0j.start.getTime()===$1m.start.getTime()&&$0j.end.getTime()===$1m.end.getTime()&&$0j.resource===$1m.row.id){return;};var $h={};$h.start=$1m.start;$h.end=$1m.end;$h.e=ev;$h.resource=$1m.row.id;$h.position=$1m.line;$h.overlapping=$1m.overlapping;$h.left={};$h.left.html=$h.start.toString($e.eventMovingStartEndFormat);$h.left.enabled=$e.eventMovingStartEndEnabled;$h.right={};$h.right.html=$h.end.toString($e.eventMovingStartEndFormat);$h.right.enabled=$e.eventMovingStartEndEnabled;$e.$a9=$h;if(typeof $e.onEventMoving==='function'){$e.onEventMoving($h);};$e.$aa(DayPilotScheduler.movingShadow,$h);})();};this.$a8=function($1m,$s,$w,$00,$m){if($e.allowEventOverlap){return;};(function calculate(){for(var i=0;i<$s.lines.length;i++){var $08=$s.lines[i];if(!$08.isFree($w,$00,$m)){$1m.overlapping=true;return;}};$1m.overlapping=false;})();var $2J=$1m.overlapping;var $2K=$e.$7U("_shadow_overlap");if($2J){DayPilot.Util.addClass($1m,$2K);}else{DayPilot.Util.removeClass($1m,$2K);}};this.$aa=function($1m,$h){var $2L=5;this.$ab();var $0n={};$0n.left=parseInt($1m.style.left);$0n.top=parseInt($1m.style.top);$0n.right=$0n.left+parseInt($1m.style.width);var $00=$h.left.width||10;var $w=document.createElement("div");$w.style.position="absolute";$w.style.left=($0n.left-$00-$2L)+"px";$w.style.top=$0n.top+"px";$w.style.height=$e.eventHeight+"px";$w.style.overflow="hidden";$w.innerHTML=$h.left.html;$w.className=this.$7U("_event_move_left");if($h.left.enabled){$e.divHover.appendChild($w);};if($h.left.width){$w.style.width=$00+"px";}else{$w.style.whiteSpace="nowrap";var $2M=$w.offsetWidth;var $2N=$0n.left-$2M-$2L;$w.style.width=$2M+"px";$w.style.left=$2N+"px";};var $x=document.createElement("div");$x.style.position="absolute";$x.style.left=($0n.right+$2L)+"px";$x.style.top=$0n.top+"px";$x.style.height=$e.eventHeight+"px";$x.style.overflow="hidden";if($h.right.width){$x.style.width=$h.right.width+"px";}else{$x.style.whiteSpace="nowrap";};$x.innerHTML=$h.right.html;$x.className=this.$7U("_event_move_right");if($h.right.enabled){$e.divHover.appendChild($x);}};this.$ab=function(){$e.divHover.innerHTML='';};this.$ac=function(){if(this.rowHeaderColumns){this.rowHeaderCols=DayPilot.Util.propArray(this.rowHeaderColumns,"width");}};this.$ad=function(){var $2O=0;this.$ac();if(this.rowHeaderCols){for(var i=0;i<this.rowHeaderCols.length;i++){$2O+=this.rowHeaderCols[i];}}else{$2O=this.rowHeaderWidth;};return $2O;};this.$ae=function(){return this.$af($e.progressiveRowRenderingPreload);};this.$af=function($2P){var $2P=$2P||0;var $u=0;var end=$e.rowlist.length;var $2Q=$e.progressiveRowRendering;if($2Q){var $t=$e.$7N();$u=$t.yStart;end=$t.yEnd+1;$u=Math.max(0,$u-$2P);end=Math.min($e.rowlist.length,end +$2P);};return{"start":$u,"end":end}};this.$ag=function(){if(!this.$ah()){return;};if(!this.rowHeaderWidthAutoFit){return;};var $2R=this.divHeader;if(!$2R){return;};if(!$2R.rows){return;};var $2F=[];var $0S=$e.$ae();for(var i=$0S.start;i<$0S.end;i++){var $s=$2R.rows[i];if(!$s){continue;};if($s.hidden){continue;};if($s.autofitDone){continue;};$s.autofitDone=true;for(var j=0;j<$s.cells.length;j++){var $I=$s.cells[j].firstChild.firstChild;if(!$I||!$I.style){continue;};var $2S=$I.style.width;var $2T=$I.style.right;$I.style.position="absolute";$I.style.width="auto";$I.style.right="auto";$I.style.whiteSpace="nowrap";var w=$I.offsetWidth+2;$I.style.position="";$I.style.width=$2S;$I.style.right=$2T;$I.style.whiteSpace="";if(typeof $2F[j]==='undefined'){$2F[j]=0;};$2F[j]=Math.max($2F[j],w);}};var $2U=0;var $2V=false;this.$ac();if(this.rowHeaderCols){for(var i=0;i<$2F.length;i++){if(this.rowHeaderCols[i]){if($2F[i]>this.rowHeaderCols[i]){this.rowHeaderCols[i]=$2F[i];$2V=true;};$2U+=this.rowHeaderCols[i];}}}else{$2U=this.rowHeaderWidth;if(this.rowHeaderWidth<$2F[0]){$2U=$2F[0];$2V=true;}};if($e.progressiveRowRendering){};if($2V){if(this.$ai){this.$ai.widths=this.rowHeaderCols;this.$ai.updateWidths();DayPilot.Util.updatePropsFromArray(this.rowHeaderColumns,"width",this.rowHeaderCols);};if(!this.rowHeaderScrolling){this.rowHeaderWidth=$2U;};this.$8L();this.$aj();}};this.$7t=function(){this.$ak=true;this.$ac();var $2O=this.$ad();var $2W=this.divHeader;if($2W){$2W.innerHTML='';DayPilot.puc($2W);}else{$2W=document.createElement("div");$2W.onmousemove=function(){$e.$al();};if(!this.cssOnly){$2W.className=this.$7U("resourceheader");};this.divHeader=$2W;};$2W.style.width=$2O+"px";$2W.style.height=$e.$7e+"px";$2W.rows=[];var $2Q=$e.progressiveRowRendering;if($2Q){$c();}else{var m=this.rowlist.length;for(var i=0;i<m;i++){$e.$am(i);}};$e.$an();this.divResScroll.appendChild($2W);if(this.rowHeaderWidthAutoFit){this.$ag();}};this.$ao=function(){if(!$e.progressiveRowRendering){return;};var $t=this.$ae();for(var i=0;i<$e.rowlist.length;i++){if($t.start<=i&&i<$t.end){$e.$am(i);}else{$e.$ap(i);}};if(this.rowHeaderWidthAutoFit){var $2X=$e.$7X();this.$ag();var $2Y=$e.$7X();if($2Y!==$2X){var $2Z=this.cellWidth;this.$7o();var $30=this.cellWidth;if($30!==$2Z){this.$7p();this.$7u();this.$7z();this.$7s();}}}};this.$an=function(){var $2W=$e.divHeader;var $31=this.rowHeaderCols;var $1g=$31?this.rowHeaderCols.length:0;var $2O=this.$ad();var c=document.createElement("div");c.style.position="absolute";c.style.top=this.$7e+"px";c.colSpan=$1g+1;c.style.width=$2O+"px";c.style.height=($e.divResScroll.clientHeight+20)+"px";$2W.appendChild(c);$e.nav.resScrollSpace=c;if(!this.cssOnly){c.style.backgroundColor=this.hourNameBackColor;c.style.cursor='default';};c.setAttribute("unselectable","on");if(!this.cssOnly){c.className=this.$7U('rowheader');c.style.fontSize="1px";c.innerHTML="&nbsp;";};if(this.cssOnly){var $F=document.createElement("div");$F.style.position="relative";$F.style.height="100%";$F.className=this.$7U('_rowheader');c.appendChild($F);}};this.$ap=function(i){var $s=$e.divHeader.rows[i];if(!$s){return;};DayPilot.de($s.cells);$e.divHeader.rows[i]=null;};this.$8N=function(i){this.$ap(i);this.$am(i);};this.$am=function(i){var $2W=$e.divHeader;var $32=this.divHeader;if($32.rows[i]){return;};var $31=this.rowHeaderCols;var $1g=$31?this.rowHeaderCols.length:0;var $2O=this.$ad();var $s=this.rowlist[i];if(!$s){return;};if($s.hidden){return;};var $h=this.$aq($s);$32.rows[i]={};$32.rows[i].cells=[];var c=document.createElement("div");c.style.position="absolute";c.style.top=$s.top+"px";c.row=$s;c.index=i;var $1v=$h.row;var $00=$31?$31[0]:this.rowHeaderWidth;c.style.width=($00)+"px";c.style.border="0px none";if(!this.cssOnly){c.style.borderRight="1px solid "+this.borderColor;c.style.backgroundColor=typeof $1v.backColor==='undefined'?$e.hourNameBackColor:$1v.backColor;c.style.fontFamily=this.headerFontFamily;c.style.fontSize=this.headerFontSize;c.style.color=this.headerFontColor;c.style.cursor='default';c.style.padding='0px';};if($1v.toolTip){c.title=$1v.toolTip;};c.setAttribute("unselectable","on");c.onmousemove=$e.$ar;c.onmouseout=$e.$as;c.onmouseup=$e.$at;c.oncontextmenu=$e.$au;c.onclick=$e.$av;c.ondblclick=$e.$aw;var $F=document.createElement("div");$F.style.width=($00)+"px";$F.setAttribute("unselectable","on");$F.className=this.cssOnly?this.$7U('_rowheader'):this.$7U('rowheader');if($1v.cssClass){DayPilot.Util.addClass($F,$1v.cssClass);};if($1v.backColor){$F.style.background=$1v.backColor;};$F.style.height=($s.height)+"px";$F.style.overflow='hidden';$F.style.position='relative';var $I=document.createElement("div");$I.setAttribute("unselectable","on");$I.className=this.cssOnly?this.$7U('_rowheader_inner'):"";$F.appendChild($I);var $0r=this.rowMoveHandling!=="Disabled";var $33=10;var $34=$1v.areas||[];if($0r&&!$1v.moveDisabled){$34.push({"v":"Hover","w":$33,"bottom":0,"top":0,"left":0,"css":$e.$7U("_rowmove_handle"),"action":"Move"});};var ro=$e.$96($s);DayPilot.Areas.attach($F,ro,{"areas":$34,"allowed":function(){return !$35.row;}});var $2B=document.createElement("div");$2B.style.position="absolute";$2B.style.bottom="0px";$2B.style.width="100%";$2B.style.height="1px";if(this.cssOnly){$2B.className=this.$7U("_resourcedivider");}else{$2B.style.backgroundColor=this.borderColor;};$F.appendChild($2B);(function drawText(){if($e.treeEnabled&&!$s.isNewRow){var $w=$s.level*$e.treeIndent+$e.treeImageMarginLeft;if($0r){$w+=$33;};var $00=10;var $2x=document.createElement("div");$2x.style.width="10px";$2x.style.height=$00+"px";$2x.style.backgroundRepeat="no-repeat";$2x.style.position='absolute';$2x.style.left=$w+'px';$2x.style.top=$e.treeImageMarginTop+"px";if(!$s.loaded&&$s.children.length===0){if($e.treeImageExpand&&!$e.cssOnly){$2x.style.backgroundImage="url('"+$e.treeImageExpand+"')";};$2x.className=$e.cssOnly?$e.$7U('_tree_image_expand'):$e.$7U('tree_image_expand');$2x.style.cursor='pointer';$2x.index=i;$2x.onclick=function(ev){$e.$ax(this.index);ev=ev||window.event;ev.cancelBubble=true;};}else if($s.children.length>0){if($s.expanded){if($e.treeImageCollapse&&!$e.cssOnly){$2x.style.backgroundImage="url('"+$e.treeImageCollapse+"')";};$2x.className=$e.cssOnly?$e.$7U('_tree_image_collapse'):$e.$7U('tree_image_collapse');}else{if($e.treeImageExpand&&!$e.cssOnly){$2x.style.backgroundImage="url('"+$e.treeImageExpand+"')";};$2x.className=$e.cssOnly?$e.$7U('_tree_image_expand'):$e.$7U('tree_image_expand');};$2x.style.cursor='pointer';$2x.index=i;$2x.onclick=function(ev){$e.$a4(this.index);ev=ev||window.event;ev.cancelBubble=true;};}else{if($e.treeImageNoChildren&&!$e.cssOnly){$2x.style.backgroundImage="url('"+$e.treeImageNoChildren+"')";};$2x.className=$e.cssOnly?$e.$7U('_tree_image_no_children'):$e.$7U('tree_image_no_children');};$I.appendChild($2x);};var $0V=document.createElement("div");if($e.treeEnabled){$0V.style.marginLeft=($w+$00)+"px";}else if(!$e.cssOnly){$0V.style.marginLeft="4px";};$0V.innerHTML=$1v.html;c.textDiv=$0V;$I.appendChild($0V);})();c.appendChild($F);if($1v.areas){for(var j=0;j<$1v.areas.length;j++){var $t=$1v.areas[j];var v=$t.v||"Visible";if(v!=="Visible"){continue;};var r=$e.$96($s);var a=DayPilot.Areas.createArea($F,r,$t);$F.appendChild(a);}};$2W.appendChild(c);$32.rows[i].cells.push(c);if(!$s.columns||$s.columns.length===0){c.colSpan=$1g>0?$1g:1;$F.style.width=$2O+"px";}else{var $w=$00;for(var j=1;j<$1g;j++){var c=document.createElement("div");c.style.position="absolute";c.style.top=$s.top+"px";c.style.left=$w+"px";$2W.appendChild(c);$32.rows[i].cells.push(c);c.row=$s;c.index=i;if(!this.cssOnly){c.style.borderRight="1px solid "+this.borderColor;c.style.backgroundColor=$1v.backColor;c.style.fontFamily=this.headerFontFamily;c.style.fontSize=this.headerFontSize;c.style.color=this.headerFontColor;c.style.cursor='default';c.style.padding='0px';};if($1v.toolTip){c.title=$1v.toolTip;};c.setAttribute("unselectable","on");if(!this.cssOnly){c.className=this.$7U('rowheader');};c.onmousemove=$e.$ar;c.onmouseout=$e.$as;c.onmouseup=$e.$at;c.oncontextmenu=$e.$au;c.onclick=$e.$av;c.ondblclick=$e.$aw;var $F=document.createElement("div");var w=this.cssOnly?$31[j]:$31[j]-1;$w+=w;if($1v.backColor){$F.style.backgroundColor=$1v.backColor;};$F.style.width=w+"px";$F.style.height=($s.height)+"px";$F.style.overflow='hidden';$F.style.position='relative';$F.setAttribute("unselectable","on");if(this.cssOnly){DayPilot.Util.addClass($F,this.$7U("_rowheader"));DayPilot.Util.addClass($F,this.$7U("_rowheadercol"));DayPilot.Util.addClass($F,this.$7U("_rowheadercol"+j));};if($1v.cssClass){DayPilot.Util.addClass($F,$1v.cssClass);};var $I=document.createElement("div");$I.setAttribute("unselectable","on");if(this.cssOnly){$I.className=this.$7U("_rowheader_inner");};$F.appendChild($I);var $2B=document.createElement("div");$2B.style.position="absolute";$2B.style.bottom="0px";$2B.style.width="100%";$2B.style.height="1px";$2B.className=this.$7U("_resourcedivider");if(!this.cssOnly){$2B.style.backgroundColor=this.borderColor;};$F.appendChild($2B);var $0V=document.createElement("div");if(!this.cssOnly){$0V.style.marginLeft='4px';};var $36=$1v.columns[j-1];var $37=$36&&$36.html?$36.html:"";$0V.innerHTML=$37;c.textDiv=$0V;$I.appendChild($0V);c.appendChild($F);}}};this.$au=function(){var $s=this.row;if($s.contextMenu){$s.contextMenu.show($e.$96($s));};return false;};this.$av=function(ev){if($0U.cancelClick){return;};var $s=this.row;var r=$e.$96($s,this.index);if($s.isNewRow){$e.$9a.edit($s);return;};$e.$97(r,ev.ctrlKey,ev.shiftKey,ev.metaKey);};this.$aw=function(ev){if($e.timeouts.resClick){for(var $0y in $e.timeouts.resClick){window.clearTimeout($e.timeouts.resClick[$0y]);};$e.timeouts.resClick=null;};var $s=this.row;var e=$e.$96($s,this.index);if($e.$7K()){var $h={};$h.resource=e;$h.preventDefault=function(){this.preventDefault.value=true;};if(typeof $e.onRowDoubleClick==='function'){$e.onRowDoubleClick($h);if($h.preventDefault.value){return;}};switch($e.rowDoubleClickHandling){case 'PostBack':$e.rowDoubleClickPostBack(e);break;case 'CallBack':$e.rowDoubleClickCallBack(e);break;case 'Select':$e.$99($s,ev.ctrlKey,ev.shiftKey,ev.metaKey);break;case 'Edit':$e.$9a.edit($s);break;};if(typeof $e.onRowDoubleClicked==='function'){$e.onRowDoubleClicked($h);}}else{switch($e.rowDoubleClickHandling){case 'PostBack':$e.rowDoubleClickPostBack(e);break;case 'CallBack':$e.rowDoubleClickCallBack(e);break;case 'JavaScript':$e.onRowDoubleClick(e);break;case 'Select':$e.$99($s,ev.ctrlKey,ev.shiftKey,ev.metaKey);break;case 'Edit':$e.$9a.edit($s);break;}}};this.rowDoubleClickPostBack=function(e,$m){var $0x={};$0x.resource=e;this.$8g("RowDoubleClick",$0x,$m);};this.rowDoubleClickCallBack=function(e,$m){var $0x={};$0x.resource=e;this.$8h("RowDoubleClick",$0x,$m);};this.$ay=function(ev){var $y={};$y.start=this.cell.start;$y.level=this.cell.level;$y.end=this.cell.end;if(!$y.end){$y.end=new DayPilot.Date($y.start).addMinutes($e.cellDuration);};$e.$9b($y);};this.$96=function($s){return new DayPilot.Row($s,$e);};this.$9N=function(i){var $s=this.rowlist[i];if(!$s.events){$s.resetEvents();};if($s.data){return;};$s.data={};$s.data.start=new DayPilot.Date($s.start);$s.data.startTicks=$s.data.start.getTime();$s.data.end=$Q.isResourcesView()?this.$az():$s.data.start.addDays(1);$s.data.endTicks=$s.data.end.getTime();$s.data.offset=$s.start.getTime()-this.$a7().getTime();$s.data.i=i;};this.$7s=function($C){if($C){this.events.list=$C;}else if(!this.events.list){this.events.list=[];};$38.prepareRows(true);var $B=this.events.list;var $39=$B.length;var $3a=typeof this.onBeforeEventRender==='function';var $0E;var $3b=$e.viewType==="Resources";for(var j=0;j<$39;j++){var $3c=$B[j];if(!$3c){continue;};if($3a){this.$9P(j);};if($3c.resource==="*"){$0E=$e.rowlist;}else if($3b){$0E=$38.rowcache[$3c.resource];}else if($e.viewType==="Days"){$0E=$e.rowlist;}else if($e.viewType==="Gantt"){$0E=$38.rowcache[$3c.id];};for(var x=0;$0E&&x<$0E.length;x++){var $s=$0E[x];var ep=this.$9Q($3c,$s);if(!ep){continue;};if($3a){ep.cache=this.$7f.events[j];}}};for(var i=0;i<this.rowlist.length;i++){var $s=this.rowlist[i];this.$aA($s);};this.$8x();};this.$aB=function($C){var $3d=[];var $3e=[];var $3f=null;if($C&&$3g){var $3h=$C;var $3f=[];for(var i=0;i<$3h.length;i++){var e=$3h[i];var $0f=false;for(var j=0;j<this.events.list.length;j++){var ex=this.events.list[j];if(ex.id===e.id&&ex.start.toString()===e.start.toString()&&ex.resource===e.resource){var $0E=$e.events.$8u(ex);$3e=$3e.concat($0E);this.events.list[j]=e;$0f=true;break;}};if(!$0f){$3f.push(e);}};this.events.list=this.events.list.concat($3f);}else if($C){this.events.list=$C;}else if(!this.events.list){this.events.list=[];};var $B=$3f||this.events.list;if($C){this.events.list=$C;}else if(!this.events.list){this.events.list=[];};var $B=this.events.list;var $3i=$B.length;if(typeof this.onBeforeEventRender==='function'){var $u=$3f?this.events.list.length-$3f.length:0;var end=this.events.list.length;for(var i=$u;i<end;i++){this.$9P(i);}};var $3j=!this.$9O();var $3k=true;if($3k){var $3l=!$3f||typeof $s.events==="undefined";$38.prepareRows($3l);for(var j=0;$B&&j<$3i;j++){if($3d[j]){continue;};var $3c=$B[j];if(!$3c){continue;};var $0E=[];if($3c.resource==="*"){$0E=$e.rowlist;}else if($e.viewType==="Days"){$0E=$e.rowlist;}else if($e.viewType==="Gantt"){$0E=$38.rowcache[$3c.id];}else{$0E=$38.rowcache[$3c.resource];};for(var x=0;$0E&&x<$0E.length;x++){var $s=$0E[x];var ep=this.$9Q($3c,$s);if(!ep){continue;};if(typeof this.onBeforeEventRender==='function'){ep.cache=this.$7f.events[j+$u];};$3e.push($s.index);}}}else{for(var i=0;i<this.rowlist.length;i++){var $s=this.rowlist[i];if(!$3f||typeof $s.events==="undefined"){$s.resetEvents();};$e.$9N(i);if(this.$a0(i)){continue;};for(var j=0;$B&&j<$3i;j++){if($3d[j]){continue;};var e=$B[j];var ep=this.$9Q(e,$s);if(!ep){continue;};if(typeof this.onBeforeEventRender==='function'){ep.cache=this.$7f.events[j+$u];};$3e.push(i);if($3j){if(ep.data.resource!=="*"&&ep.part.start.getTime()===ep.start().getTime()&&ep.part.end.getTime()===ep.end().getTime()){$3d[j]=true;}}}}};for(var i=0;i<this.rowlist.length;i++){var $s=this.rowlist[i];this.$aA($s);};this.$8x();return DayPilot.ua($3e);};this.$aC={};var $38=this.$aC;$38.rowCache={};$38.prepareRows=function($3l){$38.rowcache={};for(var i=0;i<$e.rowlist.length;i++){var $s=$e.rowlist[i];if($3l){$s.resetEvents();};$e.$9N(i);if(!$s.id){continue;};var $3m=$s.id.toString();if(!$38.rowcache[$3m]){$38.rowcache[$3m]=[];};$38.rowcache[$3m].push($s);}};$38.loadEvent=function($3c){};this.$9O=function(){var $3n={};if($e.viewType!=="Resources"){return false;};for(var i=0;i<$e.rowlist.length;i++){var $s=$e.rowlist[i];var id=$s.id;if($3n[id]){return true;};$3n[id]=true;};return false;};this.$9P=function(i){var $0c=this.$7f.events;var $m=this.events.list[i];var $3o={};for(var name in $m){$3o[name]=$m[name];};if(typeof this.onBeforeEventRender==='function'){var $h={};$h.e=$3o;this.onBeforeEventRender($h);};$0c[i]=$3o;};this.$aA=function($s){$s.lines=[];$s.sections=null;if($s.isNewRow){return;};if(this.sortDirections){$s.events.sort(this.$aD);}else{$s.events.sort(this.$aE);};var $3p=$e.groupConcurrentEvents;if($3p){for(var i=0;i<$s.blocks.length;i++){$s.blocks[i].events=[];}};for(var j=0;j<$s.events.length;j++){var e=$s.events[j];$s.putIntoLine(e);if($3p){$s.putIntoBlock(e);}};var $3q=0;for(var i=0;i<$s.lines.length;i++){var $08=$s.lines[i];$08.top=$3q;$3q+=($08.height||$s.eventHeight)*this.eventStackingLineHeight/100;};if($3p){for(var j=0;j<$s.blocks.length;j++){var $3r=$s.blocks[j];$3r.lines=[];$3r.events.sort(this.$aD);for(var k=0;k<$3r.events.length;k++){var e=$3r.events[k];$3r.putIntoLine(e);};if($3r.lines.length<=$e.groupConcurrentEventsLimit){$3r.expanded=true;};var $3q=0;for(var i=0;i<$3r.lines.length;i++){var $08=$3r.lines[i];$08.top=$3q;$3q+=($08.height||$s.eventHeight)*this.eventStackingLineHeight/100;}}}};this.$8w=function($0E){$0E=DayPilot.ua($0E);for(var i=0;i<$0E.length;i++){var ri=$0E[i];$e.$aA($e.rowlist[ri]);};for(var i=0;i<$0E.length;i++){var ri=$0E[i];var $s=$e.rowlist[ri];$e.$aF($s);}};this.$9Q=function(e,$s){var $u=new DayPilot.Date(e.start);var end=new DayPilot.Date(e.end);if($e.eventEndSpec==="Date"){end=end.getDatePart().addDays(1);};var $3s=$u.ticks;var $3t=end.ticks;if($3t<$3s){return null;};var $0c=null;if(typeof $e.onBeforeEventRender==='function'){var $0W=DayPilot.indexOf($e.events.list,e);$0c=$e.$7f.events[$0W];};if($0c){if($0c.hidden){return null;}}else if(e.hidden){return null;};var $3u=false;switch(this.viewType){case 'Days':$3u=!($3t<=$s.data.startTicks||$3s>=$s.data.endTicks)||($3s===$3t&&$3s===$s.data.startTicks);break;case 'Resources':$3u=($s.id===e.resource||$s.id==="*"||e.resource==="*")&&(!($3t<=$s.data.startTicks||$3s>=$s.data.endTicks)||($3s===$3t&&$3s===$s.data.startTicks));break;case 'Gantt':$3u=($s.id===e.id)&&!($3t<=$s.data.startTicks||$3s>=$s.data.endTicks);break;};if(!$3u){return null;};var ep=new DayPilot.Event(e,$e);ep.part.dayIndex=$s.data.i;ep.part.start=$s.data.startTicks<$3s?$u:$s.data.start;ep.part.end=$s.data.endTicks>$3t?end:$s.data.end;var $3v=this.getPixels(ep.part.start.addTime(-$s.data.offset));var $3w=this.getPixels(ep.part.end.addTime(-$s.data.offset));if(ep.part.start.ticks===ep.part.end.ticks){$3w=this.getPixels(ep.part.end.addTime(-$s.data.offset).addTime(1));};if($0c&&$0c.height){ep.part.height=$0c.height;};var $w=$3v.left;var $x=$3w.left;if($w===$x&&($3v.cut||$3w.cut)){return null;};ep.part.box=$Q.useBox($3t-$3s);var $2e=$e.eventHeight;if(e.type==="Milestone"){var $00=e.width||$2e;ep.part.end=ep.part.start;ep.part.left=$w-$00/2;ep.part.width=$00;ep.part.barLeft=0;ep.part.barWidth=$00;}else if(ep.part.box){var $3x=$3v.boxLeft;var $3y=$3w.boxRight;ep.part.left=$3x;ep.part.width=$3y-$3x;ep.part.barLeft=Math.max($w-ep.part.left,0);ep.part.barWidth=Math.max($x-$w,1);}else{ep.part.left=$w;ep.part.width=Math.max($x-$w,0);ep.part.barLeft=0;ep.part.barWidth=Math.max($x-$w-1,1);};if(typeof $e.onEventFilter==="function"&&$e.events.$9L){var $h={};$h.filter=$e.events.$9L;$h.visible=true;$h.e=ep;$e.onEventFilter($h);if(!$h.visible){return null;}};$s.events.push(ep);return ep;};this.$aE=function(a,b){if(!a||!b||!a.start||!b.start){return 0;};var $3z=a.start().ticks-b.start().ticks;if($3z!==0){return $3z;};var $3A=b.end().ticks-a.end().ticks;return $3A;};this.$aD=function(a,b){if(!a||!b){return 0;};if(!a.data||!b.data||!a.data.sort||!b.data.sort||a.data.sort.length===0||b.data.sort.length===0){return $e.$aE(a,b);};var $f=0;var i=0;while($f===0&&a.data.sort[i]&&b.data.sort[i]){if(a.data.sort[i]===b.data.sort[i]){$f=0;}else{$f=$e.$aG(a.data.sort[i],b.data.sort[i],$e.sortDirections[i]);};i++;};return $f;};this.$aG=function(a,b,$3B){var $3C=($3B!=="desc");var $3D=$3C?-1:1;var $3E=-$3D;if(a===null&&b===null){return 0;};if(b===null){return $3E;};if(a===null){return $3D;};var ar=[];ar[0]=a;ar[1]=b;ar.sort();return a===ar[0]?$3D:$3E;};this.$99=function($s,$0F,$0Z,$0G){if($e.$7K()){var $0W=DayPilot.indexOf($e.rowlist,$s);var e=$e.$96($s,$0W);var $3F=DayPilot.indexOf($0U.selected,$s)!==-1;var $0w=$3F?"deselected":"selected";var $h={};$h.row=e;$h.selected=$3F;$h.ctrl=$0F;$h.shift=$0Z;$h.meta=$0G;$h.preventDefault=function(){this.preventDefault.value=true;};if(typeof $e.onRowSelect==='function'){$e.onRowSelect($h);if($h.preventDefault.value){return;}};switch($e.rowSelectHandling){case 'PostBack':$e.rowSelectPostBack(e,$0w);break;case 'CallBack':$e.rowSelectCallBack(e,$0w);break;case 'Update':$0U.select($s,$0F,$0Z,$0G);break;};if(typeof $e.onRowSelected==='function'){$h.selected=DayPilot.indexOf($0U.selected,$s)!==-1;$e.onRowSelected($h);}}else{$0U.select($s,$0F,$0Z);var $0W=DayPilot.indexOf($e.rowlist,$s);var e=$e.$96($s,$0W);var $3F=DayPilot.indexOf($0U.selected,$s)!==-1;var $0w=$3F?"deselected":"selected";switch($e.rowSelectHandling){case 'PostBack':$e.rowSelectPostBack(e,$0w);break;case 'CallBack':$e.rowSelectCallBack(e,$0w);break;case 'JavaScript':$e.onRowSelect(e,$0w);break;}}};this.rowSelectPostBack=function(r,$0w,$m){var $0x={};$0x.resource=r;$0x.change=$0w;this.$8g('RowSelect',$0x,$m);};this.rowSelectCallBack=function(r,$0w,$m){var $0x={};$0x.resource=r;$0x.change=$0w;this.$8h('RowSelect',$0x,$m);};this.rows={};this.rows.selection={};var $3G=this.rows.selection;$3G.get=function(){var $B=[];DayPilot.list($0U.selected).each(function($D){$B.push($e.$96($D));});return $B;};$3G.clear=function(){$0U.clearSelection();};this.rows.all=function(){var $B=[];for(var i=0;i<$e.rowlist.length;i++){var r=$e.$96($e.rowlist[i]);$B.push(r);};return $24($B);};this.rows.each=function(f){$e.rows.all().each(f);};this.rows.filter=function($3H){$e.rows.$9L=$3H;$e.$8B({"immediateEvents":true});};this.rows.find=function(id,$u){var $0E=$e.rows.all();for(var i=0;i<$0E.length;i++){var $D=$0E[i];if($D.id===id){if(typeof $u==="string"){if($u===$D.start.toString()){return $D;}}else{return $D;}}}};this.rows.load=function($1S){DayPilot.ajax({"url":$1S,"success":function($h){var r=$h.request;var $m=eval("("+r.responseText+")");if(DayPilot.isArray($m)){$e.resources=$m;if($e.$9M){$e.update();}}}});};this.rows.expand=function($3I){var $0E=[];var $3J=$3I||1;for(var i=0;i<$e.rowlist.length;i++){var $s=$e.rowlist[i];var $3K=$3J===-1;if($s.level<$3J){$3K=true;};if($3K&&!$s.expanded&&$s.children&&$s.children.length>0){$0E.push($s.index);}};if($0E.length===0){return;};if($0E.length===1){$e.$a4($0E[0]);}else{for(var i=0;i<$0E.length;i++){var $0W=$0E[i];var $s=$e.rowlist[$0W];$s.expanded=true;};$e.$8B();}};this.rows.expandAll=function(){$e.rows.expand(-1);};this.rows.headerHide=function(){$e.$aH=true;$e.$aI();$e.$aj();};this.rows.headerShow=function(){$e.$aH=false;$e.$aI();$e.$aj();};this.rows.headerToggle=function(){if($e.$aH){$e.rows.headerShow();}else{$e.rows.headerHide();}};this.$aJ=function(){var $0X=$35.source;var $0Y=$35.target;var $T=$35.position;$0U.resetMoving();if($e.$7K()){var $h={};$h.source=$e.$96($0X);$h.target=$e.$96($0Y);$h.position=$T;$h.preventDefault=function(){this.preventDefault.value=true;};if(typeof $e.onRowMove==="function"){$e.onRowMove($h);if($h.preventDefault.value){return;}};switch($e.rowMoveHandling){case "Update":$0U.move($h);break;case "CallBack":$e.rowMoveCallBack($h.source,$h.target,$h.position);break;case "PostBack":$e.rowMovePostBack($h.source,$h.target,$h.position);break;case "Notify":$0U.move($h);$e.rowMoveNotify($h.source,$h.target,$h.position);break;};if(typeof $e.onRowMoved==="function"){$e.onRowMoved($h);}}else{var $0X=$e.$96($0X);var $0Y=$e.$96($0Y);var $T=$T;switch($e.rowMoveHandling){case "CallBack":$e.rowMoveCallBack($0X,$0Y,$T);break;case "PostBack":$e.rowMovePostBack($0X,$0Y,$T);break;case "JavaScript":$e.onRowMove($0X,$0Y,$T);break;}}};this.$aK=function($0E){var $B=DayPilot.list($0E);$0U.selected=[];$B.each(function($D){var $s=$e.$7L($D);if($s){$0U.selected.push($s);}});$0U.$aL();};this.$9a={};var $0U=this.$9a;$0U.edit=function($s){var $3L=$0U.$aM($s);};$0U.createOverlay=function($s){var $00=$e.$ad();var $25=$e.$7U("_rowmove_source");var $F=DayPilot.Util.div($e.divHeader,0,$s.top,$00,$s.height);$F.className=$25;$s.moveOverlay=$F;};$0U.deleteOverlay=function($s){DayPilot.de($s.moveOverlay);$s.moveOverlay=null;};$0U.$aM=function($s){var r=$0U.$93($s);var c=r.cells[0];if(c.input){return c.input;};var $00=c.clientWidth;if($s.isNewRow){$00=$e.$7X();};var $3L=document.createElement("textarea");$3L.style.position="absolute";$3L.style.top="0px";$3L.style.left="0px";$3L.style.width=$00+"px";$3L.style.height=$s.height+"px";$3L.style.border="0px none";$3L.style.overflow="hidden";$3L.style.boxSizing="border-box";$3L.style.resize="none";var $1j=c.textDiv;$3L.style.fontFamily=DayPilot.gs($1j,'fontFamily')||DayPilot.gs($1j,'font-family');$3L.style.fontSize=DayPilot.gs($1j,'fontSize')||DayPilot.gs($1j,'font-size');$3L.value=$s.html;c.firstChild.appendChild($3L);c.input=$3L;var $3M=function(){try{c.input.parentNode.removeChild(c.input);}catch(e){$c();};c.input=null;};$3L.focus();$3L.onblur=function(){$3L.onblur=null;var $0T=$3L.value;var $0W=DayPilot.indexOf($e.rowlist,$s);$3M();if(!$3L.canceled){$e.$95($s,$0T);}};$3L.onkeydown=function(e){var $3N=(window.event)?event.keyCode:e.keyCode;if($3N===27){$3L.canceled=true;$3M();};if($3N===13){$3L.onblur();return false;};return true;};if($3L.setSelectionRange){$3L.setSelectionRange(0,9999);}else{$3L.select();};return $3L;};$0U.selected=[];$0U.select=function($s,$0F,$0Z,$0G){var $3F=DayPilot.indexOf($0U.selected,$s)!==-1;if($0F||$0G){if($3F){$0U.unselect($s);DayPilot.rfa($0U.selected,$s);return;}}else{$3F=false;$0U.clearSelection();};$0U.$aN($s);if(!$3F){$0U.selected.push($s);}};$0U.$aL=function(){for(var i=0;i<$0U.selected.length;i++){var $s=$0U.selected[i];$0U.$aN($s);}};$0U.$aN=function($s){var y=DayPilot.indexOf($e.rowlist,$s);if(y===-1){var $3O=$e.$7L($s.id).index;if($3O){y=$3O.index;}else{return;}};var cl=$e.$7U("_cell_selected");var $v=[];for(var i=0;i<$e.itline.length;i++){var c={};c.x=i;c.y=y;$v.push(c);};$e.cells.findXy($v).addClass(cl);var cl=$e.$7U("_rowheader_selected");var $2R=$e.divHeader;for(var y=0;y<$2R.rows.length;y++){var r=$2R.rows[y];if(r&&r.cells[0]&&r.cells[0].row===$s){for(var x=0;x<r.cells.length;x++){var c=r.cells[x];var $3P=c.firstChild;DayPilot.Util.addClass($3P,cl);}}}};$0U.$aO=function(id){for(var i=0;i<$0U.selected.length;i++){var $s=$0U.selected[i];if($s.id===id){return true;}};return false;};$0U.$9n=function(){var $B=[];if(!$0U.selected){return $B;};for(var i=0;i<$0U.selected.length;i++){var $s=$0U.selected[i];var $0W=DayPilot.indexOf($e.rowlist,$s);var r=$e.$96($s,$0W);$B.push(r.toJSON());};return $B;};$0U.unselect=function($s){var cl=$e.$7U("_cell_selected");var y=DayPilot.indexOf($e.rowlist,$s);var $v=[];for(var i=0;i<$e.itline.length;i++){var c={};c.x=i;c.y=y;$v.push(c);};$e.cells.findXy($v).removeClass(cl);var cl=$e.$7U("_rowheader_selected");var $2R=$e.divHeader;var r=$0U.$93($s);if(r){for(var x=0;x<r.cells.length;x++){var c=r.cells[x];var $3P=c.firstChild;DayPilot.Util.removeClass($3P,cl);}}};$0U.clearSelection=function(){for(var j=0;j<$0U.selected.length;j++){var $s=$0U.selected[j];$0U.unselect($s);};$0U.selected=[];};$0U.$93=function($s){var $2R=$e.divHeader;for(var y=0;y<$2R.rows.length;y++){var r=$2R.rows[y];if(r&&r.cells[0]&&r.cells[0].row===$s){return r;}};return null;};$0U.selectById=function(id){var $s=$e.$7L(id);if($s){$0U.select($s);}};$0U.startMoving=function($s){var $35=DayPilot.Global.rowmoving;$35.row=$s;$35.cursor=$e.divResScroll.style.cursor;$e.divResScroll.style.cursor="move";$0U.createOverlay($s);};$0U.resetMoving=function(){$e.divResScroll.style.cursor=$35.cursor;DayPilot.de($35.div);$0U.deleteOverlay($35.row);DayPilot.Global.rowmoving=$35={};};$0U.move=function($h){var $0X=$h.source.$.row.resource;var $0Y=$h.target.$.row.resource;var $T=$h.position;if($T==="forbidden"){return;};var $3Q=$3R.findParentArray($0X);if(!$3Q){throw "Cannot find source node parent";};var $3S=DayPilot.indexOf($3Q,$0X);$3Q.splice($3S,1);var $3T=$3R.findParentArray($0Y);if(!$3T){throw "Cannot find target node parent";};var $3U=DayPilot.indexOf($3T,$0Y);switch($T){case "before":$3T.splice($3U,0,$0X);break;case "after":$3T.splice($3U+1,0,$0X);break;case "child":if(!$0Y.children){$0Y.children=[];$0Y.expanded=true;};$0Y.children.push($0X);break;};$e.update();};var $3R={};$3R.findParentArray=function($18){return $3R.findInArray($e.resources,$18);};$3R.findInArray=function($3V,$18){if(DayPilot.indexOf($3V,$18)!==-1){return $3V;};for(var i=0;i<$3V.length;i++){var r=$3V[i];if(r.children&&r.children.length>0){var parent=$3R.findInArray(r.children,$18);if(parent){return parent;}}};return null;};this.$7q=function(){this.rowlist=[];var $1a=this.resources;var $3W=this.$83();if(!$3W){if(this.viewType==="Gantt"){$1a=this.$aP();}else if(this.viewType==="Days"){$1a=this.$aQ();}};var $0W={};$0W.i=0;this.$aR($1a,$0W,0,null,this.treeEnabled,false);var $3X=$e.rowCreateHandling!=="Disabled";if($3X){this.$aS();};this.$aT();};this.$aS=function(){var r={};r.id="NEW";r.isNewRow=true;r.html="";r.loaded=true;r.start=this.startDate;r.children=[];r.height=$e.eventHeight;r.marginBottom=0;r.marginTop=0;r.getHeight=function(){return $e.eventHeight+$e.rowMarginBottom+$e.rowMarginTop;};r.putIntoLine=function(){};r.resetEvents=function(){};this.rowlist.push(r);};this.$aT=function(){var $B=[];for(var i=0;i<$e.rowlist.length;i++){var $s=$e.rowlist[i];var id=$s.id;if($0U.$aO(id)){$B.push($s);}};$0U.selected=$B;};this.$aP=function(){var $B=[];if(this.$7b&&this.resources){for(var i=0;i<this.resources.length;i++){$B.push(this.resources[i]);}};if(!this.events.list){return;};for(var i=0;i<this.events.list.length;i++){var e=this.events.list[i];var r={};r.id=e.id;r.name=e.text;$B.push(r);};return $B;};this.$aQ=function(){var $B=[];var $3Y=this.$9C.locale();for(var i=0;i<this.days;i++){var d=this.startDate.addDays(i);var r={};r.name=d.toString($3Y.datePattern,$3Y);r.start=d;$B.push(r);};return $B;};this.$a7=function(){if(this.itline&&this.itline.length>0){return this.itline[0].start;};return this.startDate;};this.$az=function(){if(this.itline&&this.itline.length>0){return this.itline[this.itline.length-1].end;};return this.startDate.addDays(this.days);};this.$aR=function($1a,$0W,$3J,parent,$3Z,$40){if(!$1a){return;};for(var i=0;i<$1a.length;i++){if(!$1a[i]){continue;};var $41={};$41.level=$3J;$41.hidden=$40;$41.index=$0W.i;var $18=this.$aU($1a[i],$41);var $s={};$s.backColor=$18.backColor;$s.cssClass=$18.cssClass;$s.expanded=$18.expanded;$s.name=$18.name;$s.html=$18.html?$18.html:$s.name;$s.eventHeight=typeof $18.eventHeight!=='undefined'?$18.eventHeight:$e.$9C.eventHeight();$s.minHeight=typeof $18.minHeight!=='undefined'?$18.minHeight:$e.rowMinHeight;$s.marginBottom=typeof $18.marginBottom!=='undefined'?$18.marginBottom:$e.rowMarginBottom;$s.marginTop=typeof $18.marginTop!=='undefined'?$18.marginTop:$e.rowMarginTop;$s.loaded=!$18.dynamicChildren;$s.id=$18.id||$18.value;$s.toolTip=$18.toolTip;$s.children=[];$s.columns=[];$s.start=$18.start?new DayPilot.Date($18.start):this.$a7();$s.isParent=$18.isParent;$s.contextMenu=$18.contextMenu?eval($18.contextMenu):this.contextMenuResource;$s.areas=$18.areas;$s.moveDisabled=$18.moveDisabled;$s.task=$18.task;$s.height=$s.eventHeight;$s.hidden=$40;$s.level=$3J;$s.index=$0W.i;$s.resource=$1a[i];$s.lines=[];$s.blocks=[];$s.isRow=true;$s.getHeight=function(){var $U=0;if($e.groupConcurrentEvents){for(var i=0;i<this.blocks.length;i++){var $3r=this.blocks[i];$U=Math.max($U,$3r.getHeight());}}else{if(this.lines.length>0){var $0j=this.lines.length-1;var $08=this.lines[$0j];var $42=$08.height||this.eventHeight;var top=$08.top||0;$U=top+$42;}};if($U===0){$U=this.eventHeight;};return($U>this.minHeight)?$U:this.minHeight;};$s.resetEvents=function(){var r=this;r.events=[];r.events.forRange=function($u,end){var $f=[];for(var i=0;i<r.events.length;i++){var ev=r.events[i];if(DayPilot.Util.overlaps(ev.start,ev.end,$u,end)){$f.push(ev);}};return $f;};};$s.calculateUtilization=function(){var r=this;var $43=r.sections=getSections();for(var i=0;i<$43.length;i++){var $H=$43[i];$H.events=[];for(var x=0;x<r.events.length;x++){var e=r.events[x];if(DayPilot.Util.overlaps($H.start,$H.end,e.start(),e.end())){$H.events.push(e);}};$H.sum=function(name){var $44=0;for(var i=0;i<this.events.length;i++){var e=this.events[i];var $45=e.data[name];if(typeof $45==='number'){$44+=$45;}};return $44;}};function getPoints(){var $46=[];for(var i=0;i<r.events.length;i++){var e=r.events[i];if(!DayPilot.contains($46,e.start().toString())){$46.push(e.start().toString());};if(!DayPilot.contains($46,e.end().toString())){$46.push(e.end().toString());}};$46.sort();return $46;};function getSections(){var $46=getPoints();var $43=[];var $H={"start":r.data.start};for(var i=0;i<$46.length;i++){$H.end=new DayPilot.Date($46[i]);$43.push($H);$H={"start":new DayPilot.Date($46[i])};};$H.end=r.data.end;$43.push($H);$43.forRange=function($u,end){var $B=[];for(var i=0;i<this.length;i++){var $H=this[i];if(DayPilot.Util.overlaps($u,end,$H.start,$H.end)){$B.push($H);}};$B.maxSum=function(name){var $2F=0;for(var i=0;i<this.length;i++){var $H=this[i];var $44=$H.sum(name);if($44>$2F){$2F=$44;}};return $2F;};return $B;};return $43;}};$s.putIntoLine=function(ep){var $47=this;for(var i=0;i<this.lines.length;i++){var $08=this.lines[i];if($08.isFree(ep.part.left,ep.part.width)){$08.add(ep);return i;}};var $08=[];$08.height=0;$08.add=function(ep){this.push(ep);if(ep.part.height>$08.height){$08.height=ep.part.height;}};$08.isFree=function($48,$49,$4a){var end=$48+$49-1;var $2F=this.length;for(var i=0;i<$2F;i++){var e=this[i];if(!(end<e.part.left||$48>e.part.left+e.part.width-1)){if($4a&&$4a===e.data){continue;};return false;}};return true;};$08.add(ep);this.lines.push($08);return this.lines.length-1;};$s.putIntoBlock=function(ep){for(var i=0;i<this.blocks.length;i++){var $3r=this.blocks[i];if(DayPilot.indexOf($3r.events,ep)!==-1){return;};if($3r.overlapsWith(ep.part.left,ep.part.width)){$3r.events.push(ep);ep.part.block=$3r;$3r.min=Math.min($3r.min,ep.part.left);$3r.max=Math.max($3r.max,ep.part.left+ep.part.width);return i;}};var $3r={};$3r.expanded=false;$3r.row=this;$3r.events=[];$3r.lines=[];$3r.putIntoLine=function(ep){var $4b=this;for(var i=0;i<this.lines.length;i++){var $08=this.lines[i];if($08.isFree(ep.part.left,ep.part.width)){$08.add(ep);return i;}};var $08=[];$08.height=0;$08.add=function(ep){this.push(ep);if(ep.part.height>$08.height){$08.height=ep.part.height;}};$08.isFree=function($u,$00){var end=$u+$00-1;var $2F=this.length;for(var i=0;i<$2F;i++){var e=this[i];if(!(end<e.part.left||$u>e.part.left+e.part.width-1)){return false;}};return true;};$08.add(ep);this.lines.push($08);};$3r.overlapsWith=function($u,$00){var end=$u+$00-1;if(!(end<this.min||$u>this.max-1)){return true;};return false;};$3r.getHeight=function(){if(!this.expanded){return $e.eventHeight;};if(this.lines.length>0){var $0j=this.lines.length-1;var $08=this.lines[$0j];var $42=$08.height||$e.eventHeight;var top=$08.top||0;return top+$42;}};$3r.events.push(ep);ep.part.block=$3r;$3r.min=ep.part.left;$3r.max=ep.part.left+ep.part.width;this.blocks.push($3r);};this.rowlist.push($s);if(typeof $e.onRowFilter==="function"&&$e.rows.$9L){var $h={};$h.visible=!$40;$h.row=$e.$96($s);$h.filter=$e.rows.$9L;$e.onRowFilter($h);if(!$h.visible){$s.hidden=true;}};if(parent!==null){parent.children.push($0W.i);};if($18.columns){for(var j=0;j<$18.columns.length;j++){$s.columns.push($18.columns[j]);}};$0W.i++;if($3Z&&$18.children&&$18.children.length){var $4c=$s.hidden||!$s.expanded;this.$aR($18.children,$0W,$3J+1,$s,true,$4c);}}};this.$aq=function($s){if($s.isNewRow){return{"row":{"cssClass":$e.$7U("_row_new"),"moveDisabled":true,"html":""}};};var $h={};$h.row=this.$96($s);DayPilot.Util.copyProps($s,$h.row,['html','backColor','cssClass','toolTip','contextMenu','moveDisabled']);$h.row.columns=DayPilot.Util.createArrayCopy($s.columns,['html']);$h.row.areas=DayPilot.Util.createArrayCopy($s.areas);if(typeof $h.row.columns==='undefined'&&$e.rowHeaderColumns&&$e.rowHeaderColumns.length>0){r.columns=[];for(var i=0;i<$e.rowHeaderColumns.length;i++){r.columns.push({});}};if(typeof this.onBeforeRowHeaderRender==="function"){this.onBeforeRowHeaderRender($h);};return $h;};this.$aU=function($18,$41){var r=this.$aV($18,$41);if(typeof this.onBeforeResHeaderRender==='function'){var $h={};$h.resource=r;this.onBeforeResHeaderRender($h);};return r;};this.$aV=function($18,$41){var r={};for(var name in $41){r[name]=$41[name];};for(var name in $18){r[name]=$18[name];};if(typeof $18.html==='undefined'){r.html=$18.name;};if(typeof r.columns==='undefined'&&$e.rowHeaderColumns&&$e.rowHeaderColumns.length>0){r.columns=[];for(var i=0;i<$e.rowHeaderColumns.length;i++){r.columns.push({});}};return r;};this.$aW=function(){this.$aX();this.nav.top.dp=this;this.nav.top.innerHTML="";if(!this.cssOnly){this.nav.top.style.border="1px solid "+this.borderColor;}else{DayPilot.Util.addClass(this.nav.top,this.$7U("_main"));};if(DayPilot.browser.ie9){DayPilot.Util.addClass(this.nav.top,this.$7U("_browser_ie9"));};if(DayPilot.browser.ie8){DayPilot.Util.addClass(this.nav.top,this.$7U("_browser_ie8"));};this.nav.top.style.MozUserSelect='none';this.nav.top.style.KhtmlUserSelect='none';this.nav.top.style.webkitUserSelect='none';if(this.width){this.nav.top.style.width=this.width;};if(this.heightSpec==="Parent100Pct"){this.nav.top.style.height="100%";};this.nav.top.style.lineHeight="1.2";this.nav.top.style.position="relative";this.nav.top.onmousemove=this.$aY;this.nav.top.ontouchstart=$0q.onMainTouchStart;this.nav.top.ontouchmove=$0q.onMainTouchMove;this.nav.top.ontouchend=$0q.onMainTouchEnd;if(this.hideUntilInit&&this.backendUrl){this.nav.top.style.visibility='hidden';};var $4d=this.$7X();var $4e=this.$9C.layout();if($4e==='DivBased'){var $w=document.createElement("div");$w.style.position="absolute";$w.style.left="0px";$w.style.width=($4d)+"px";$w.appendChild(this.$aZ());var $4f=document.createElement("div");$4f.style.height="1px";$4f.className=this.$7U("_divider_horizontal");if(!this.cssOnly){$4f.style.backgroundColor=this.borderColor;};$w.appendChild($4f);this.nav.dh1=$4f;$w.appendChild(this.$b0());this.nav.left=$w;var $4g=document.createElement("div");$4g.style.position="absolute";$4g.style.left=($4d)+"px";$4g.style.width=$Q.splitterWidth()+"px";$4g.style.height=(this.$7W()+this.$7Z())+"px";$4g.className=this.$7U("_divider")+" "+this.$7U("_splitter");$4g.setAttribute("unselectable","on");if(!this.cssOnly){$4g.style.backgroundColor=this.borderColor;};this.nav.divider=$4g;if(this.rowHeaderScrolling){this.$b1();};var $x=document.createElement("div");$x.style.marginLeft=($4d+$Q.splitterWidth())+"px";$x.style.marginRight='1px';$x.style.position='relative';$x.appendChild(this.$b2());this.nav.right=$x;var $4h=document.createElement("div");$4h.style.height="1px";$4h.style.position="absolute";$4h.style.top=this.$7W()+"px";$4h.style.width="100%";$4h.className=this.$7U("_divider_horizontal");if(!this.cssOnly){$4h.style.backgroundColor=this.borderColor;};$x.appendChild($4h);this.nav.dh2=$4h;$x.appendChild(this.$b3());var $4i=document.createElement("div");$4i.style.clear='left';this.nav.top.appendChild($w);this.nav.top.appendChild($4g);this.nav.top.appendChild($x);this.nav.top.appendChild($4i);}else{var $2R=document.createElement("table");$2R.cellPadding=0;$2R.cellSpacing=0;$2R.border=0;$2R.style.position='absolute';if(!this.cssOnly){$2R.style.backgroundColor=this.hourNameBackColor;};var $4j=$2R.insertRow(-1);var $4k=$4j.insertCell(-1);$4k.appendChild(this.$aZ());var $4l=$4j.insertCell(-1);$4l.appendChild(this.$b2());var $4m=$2R.insertRow(-1);var $4n=$4m.insertCell(-1);$4n.appendChild(this.$b0());var $4o=$4m.insertCell(-1);$4o.appendChild(this.$b3());this.nav.top.appendChild($2R);};this.$7n=document.createElement("div");this.$7n.style.display="none";this.nav.top.appendChild(this.$7n);if(this.$9m()){var $4p=document.createElement("input");$4p.type="hidden";$4p.id=this.id+"_state";$4p.name=this.id+"_state";this.nav.state=$4p;this.nav.top.appendChild($4p);};var $2P=5;var loading=document.createElement("div");loading.style.position='absolute';loading.style.left=(this.$7X()+$Q.splitterWidth()+5)+"px";loading.style.top=(this.$7W()+5)+"px";loading.style.display='none';if(!this.cssOnly){loading.style.backgroundColor=this.loadingLabelBackColor;loading.style.fontSize=this.loadingLabelFontSize;loading.style.fontFamily=this.loadingLabelFontFamily;loading.style.color=this.loadingLabelFontColor;loading.style.padding='2px';};loading.innerHTML=this.loadingLabelText;DayPilot.Util.addClass(loading,this.$7U("_loading"));this.nav.loading=loading;this.nav.top.appendChild(loading);this.$b4();};this.$aY=function(ev){if($35.row){var $1l=DayPilot.mo3($e.divHeader,ev);var ri=$e.$9t($1l.y);var $s=$e.rowlist[ri.i];if($s.isNewRow){return;};var $4q=$1l.y-ri.top;var $4r=ri.bottom-ri.top;var $4s=$4r/3;var $4t=$4s*2;var $1r=$4r/2;var $T="before";var $4u=$s.children&&$s.children.length>0;var $4v=(function(){var i=ri.i;var $4w=$s.level;while(i>=0){var r=$e.rowlist[i];i--;if($4w<=r.level){continue;};if(r===$35.row){return true;};if(r.level===0){return false;};$4w=r.level;};return false;})();var $4x=true;if($4v||ri.i===$35.row.index){$T="forbidden";}else if($4x){if($4u){if($4q<$1r){$T="before";}else{$T="child";}}else{if($4q<$4s){$T="before";}else if($4q<$4t){$T="child";}else{$T="after";}}}else{if($4u){$T="before";}else{if($4q<$1r){$T="before";}else{$T="after";}}};if($35.row.moveDisabled){$T="forbidden";};$35.calendar=$e;$35.source=$35.row;$35.target=$e.rowlist[ri.i];$35.position=$T;var $4y=(function(){if(!$35.last){return true;};if($35.last.target!==$35.target){return true;};if($35.last.position!==$35.position){return true;};return false;})();if($4y){if(typeof $e.onRowMoving==='function'){var $h={};$h.source=$e.$96($35.source);$h.target=$e.$96($35.target);$h.position=$T;$e.onRowMoving($h);$35.position=$h.position;}}else if($35.last){$35.position=$35.last.position;};$35.last={};$35.last.target=$35.target;$35.last.position=$35.position;(function drawRowPosition(){if($35.div){DayPilot.de($35.div);};var top=ri.top;var $0n=$35.position;var ro=$e.rowlist[ri.i];var $3J=ro.level;var $w=$3J*$e.treeIndent;switch($0n){case "before":top=ri.top;break;case "child":top=ri.top+$1r;break;case "after":top=ri.bottom;break;case "forbidden":top=ri.top+$1r;break;};var $00=$e.$ad()-$w;var $T=document.createElement("div");$T.style.position="absolute";$T.style.left=$w+"px";$T.style.width=$00+"px";$T.style.top=top+"px";$T.className=$e.$7U("_rowmove_position_"+$0n);$35.div=$T;$e.divResScroll.appendChild($T);})();}else if(DayPilotScheduler.splitting){var $00=DayPilot.mo3($e.nav.top,ev).x;var $2F=$e.$ad();var $2Y=Math.min($2F,$00-1);$e.rowHeaderWidth=$2Y;$e.$aH=false;$e.$aI();}};this.$7y=function(){var $U=this.$7W();this.nav.corner.style.height=($U)+"px";this.divTimeScroll.style.height=$U+"px";this.divNorth.style.height=$U+"px";if(this.nav.dh1&&this.nav.dh2){this.nav.dh1.style.top=$U+"px";this.nav.dh2.style.top=$U+"px";};this.nav.loading.style.top=($U+5)+"px";this.nav.scroll.style.top=($U+1)+"px";};this.$7X=function(){if(this.$aH){return 0;};var $4z=this.rowHeaderScrolling;if($4z){return this.rowHeaderWidth;};return this.$ad();};this.$b1=function(){var $F=this.nav.divider;$F.style.cursor="col-resize";$F.setAttribute("unselectable","on");$F.onmousedown=function(ev){var $4A=DayPilotScheduler.splitting={};$4A.cursor=$e.nav.top.style.cursor;$4A.cleanup=function(){$e.nav.top.style.cursor=$4A.cursor;if(typeof $e.onRowHeaderResized==="function"){var $h={};$e.onRowHeaderResized($h);}};$e.nav.top.style.cursor="col-resize";return false;};};this.$aI=function(){var $4B=$Q.splitterWidth();var $00=this.$7X();this.nav.corner.style.width=$00+"px";this.divCorner.style.width=$00+"px";this.divResScroll.style.width=$00+"px";this.nav.left.style.width=($00)+"px";this.nav.divider.style.left=($00)+"px";this.nav.right.style.marginLeft=($00+$4B)+"px";if(this.nav.message){this.nav.message.style.left=($00+$4B)+"px";};if(this.nav.loading){this.nav.loading.style.left=($00+$4B+5)+"px";};if(this.nav.hideIcon){var hi=this.nav.hideIcon;var $4C=$e.$7U("_header_icon_show");var $4D=$e.$7U("_header_icon_hide");hi.style.left=($00+$4B-1)+"px";if($e.$aH){DayPilot.Util.removeClass(hi,$4D);DayPilot.Util.addClass(hi,$4C);}else{DayPilot.Util.removeClass(hi,$4C);DayPilot.Util.addClass(hi,$4D);}}};this.$b5=function(){this.$ac();var $W=this.$ad();var $4E=function($y,$00,$w){if(!$y||!$y.style){return;};var $F=$y.firstChild;if($e.$ak){$y.style.width=$00+"px";$F.style.width=$00+"px";if(typeof $w==="number"){$y.style.left=$w+"px";}}else{$F.style.width=$00+"px";}};var $2R=this.divHeader;$2R.style.width=$W+"px";var $0S=$e.$ae();for(var i=$0S.start;i<$0S.end;i++){var $s=$2R.rows[i];if(!$s){continue;};var $y=$s.cells[0];if($y.colSpan>1){var $y=$s.cells[0];$4E($y,$W);}else{if(this.rowHeaderCols){var $w=0;for(var j=0;j<$s.cells.length;j++){var $00=this.rowHeaderCols[j];var $y=$s.cells[j];$4E($y,$00,$w);$w+=$00;}}else{var $00=this.rowHeaderWidth;var $y=$s.cells[0];$4E($y,$00);}}};if($e.nav.resScrollSpace){$e.nav.resScrollSpace.style.width=$W+"px";};this.$b6();};this.$8L=function(){this.$aI();this.$b5();};this.$b7=function(){var $F=$e.nav.corner;var $1v=this.rowHeaderColumns;var scroll=document.createElement("div");scroll.style.position="absolute";scroll.style.bottom="0px";scroll.style.left="0px";scroll.style.width="100%";scroll.style.height=$Q.headerHeight()+"px";scroll.style.overflow="hidden";$e.nav.columnScroll=scroll;var $s=document.createElement("div");$s.style.position="absolute";$s.style.bottom="0px";$s.style.left="0px";$s.style.width="5000px";$s.style.height=$Q.headerHeight()+"px";$s.style.overflow="hidden";$s.className=this.$7U("_columnheader");scroll.appendChild($s);var $I=document.createElement("div");$I.style.position="absolute";$I.style.top="0px";$I.style.bottom="0px";$I.style.left="0px";$I.style.right="0px";$I.className=this.$7U("_columnheader_inner");$s.appendChild($I);var $4F=new DayPilot.Splitter($I);$4F.widths=DayPilot.Util.propArray($1v,"width");$4F.height=$Q.headerHeight();$4F.css.title=this.$7U("_columnheader_cell");$4F.css.titleInner=this.$7U("_columnheader_cell_inner");$4F.css.splitter=this.$7U("_columnheader_splitter");$4F.titles=DayPilot.Util.propArray($1v,"title");$4F.updating=function($h){DayPilot.Util.updatePropsFromArray($e.rowHeaderColumns,"width",this.widths);$e.$8L();if($e.cellWidthSpec==="Auto"){}};$4F.updated=function($4G){if(typeof $e.onRowHeaderColumnResized==="function"){var $h={};$h.column=$e.rowHeaderColumns[$4G.index];$e.onRowHeaderColumnResized($h);};$e.$aj();};$4F.color='#000000';$4F.opacity=30;$4F.init();$F.appendChild(scroll);this.$ai=$4F;};this.$8K=function(){var $F=this.nav.corner;$F.innerHTML='';$F.className=this.cssOnly?this.$7U('_corner'):this.$7U('corner');if(!this.cssOnly){$F.style.backgroundColor=this.hourNameBackColor;$F.style.fontFamily=this.hourFontFamily;$F.style.fontSize=this.hourFontSize;$F.style.cursor='default';};var $I=document.createElement("div");$I.style.position="absolute";$I.style.top="0px";$I.style.left="0px";$I.style.right="0px";$I.style.bottom="0px";if(this.cssOnly){$I.className=this.$7U('_corner_inner');};this.divCorner=$I;$I.innerHTML='&nbsp;';if(this.rowHeaderColumns&&this.rowHeaderColumns.length>0){var $4H=document.createElement("div");$4H.style.position="absolute";$4H.style.top="0px";$4H.style.left="0px";$4H.style.right="0px";$4H.style.bottom=($Q.headerHeight()+1)+"px";$F.appendChild($4H);var $4g=document.createElement("div");$4g.style.position="absolute";$4g.style.left="0px";$4g.style.right="0px";$4g.style.height="1px";$4g.style.bottom=($Q.headerHeight())+"px";$4g.className=this.$7U("_divider");$F.appendChild($4g);$4H.appendChild($I);this.$b7();}else{$F.appendChild($I);};var $4I=document.createElement("div");$4I.style.position='absolute';$4I.style.padding='2px';$4I.style.top='0px';$4I.style.left='1px';$4I.style.backgroundColor="#FF6600";$4I.style.color="white";$4I.innerHTML="\u0044\u0045\u004D\u004F";if(this.numberFormat)$F.appendChild($4I);};this.$b4=function(){if(!this.rowHeaderHideIconEnabled){return;};var $4J=3;var $w=this.$7X()+$Q.splitterWidth()-1;var $00=10;var $U=20;var top=this.$7W()+$4J;var $F=DayPilot.Util.div(this.nav.top,$w,top,$00,$U);$F.style.cursor="pointer";$F.className=$e.$7U("_header_icon");DayPilot.Util.addClass($F,$e.$7U("_header_icon_hide"));$F.onclick=function(){$e.rows.headerToggle();};this.nav.hideIcon=$F;};this.$aZ=function(){var $4d=this.$7X();var $F=document.createElement("div");$e.nav.corner=$F;$F.style.width=$4d+"px";$F.style.height=(this.$7W())+"px";$F.style.overflow='hidden';$F.style.position='relative';$F.setAttribute("unselectable","on");$F.onmousemove=function(){$e.$al();};$F.oncontextmenu=function(){return false;};this.$8K();return $F;};this.$7W=function(){if(this.timeHeader){var $4K=this.timeHeader.length;return $4K*$Q.headerHeight();};return 2*$Q.headerHeight();};this.$b0=function(){var $F=document.createElement("div");if(!this.cssOnly){$F.style.backgroundColor=this.hourNameBackColor;};$F.style.width=(this.$7X())+"px";$F.style.height=this.$7Z()+"px";$F.style.overflow='hidden';$F.style.position='relative';$F.className=$e.$7U("_rowheader_scroll");$F.onmousemove=function(){$e.$al();};$F.onscroll=function(){if($e.nav.columnScroll){$e.nav.columnScroll.scrollLeft=$F.scrollLeft;};$e.nav.scroll.scrollTop=$F.scrollTop;};$F.oncontextmenu=function(){return false;};$F.onmouseenter=function(){if($e.rowHeaderScrolling){$F.style.overflowX="auto";}};$F.onmouseleave=function(){if($e.rowHeaderScrolling){$F.style.overflowX="hidden";}};this.divResScroll=$F;this.$80=$F;return $F;};this.$b8=function($F){if($Q.layout()==='TableBased'){var $00=parseInt(this.width,10);var $4L=(this.width.indexOf("%")!==-1);var $4M=/MSIE/i.test(navigator.userAgent);var $4d=this.$ad();if($4L){if(this.nav.top&&this.nav.top.offsetWidth>0){$F.style.width=(this.nav.top.offsetWidth-6-$4d)+"px";}}else{$F.style.width=($00-$4d)+"px";}}};this.$9z=function(){if($e.$9C.layout()==='TableBased'){$e.$b8($e.nav.scroll);$e.$b8($e.divTimeScroll);};$e.$7z();$e.$aj();$e.$7f.drawArea=null;$e.$7M();};this.$aj=function(){if(!$e.initialized){return;};if($e.cellWidthSpec!=='Auto'){return;};$e.debug.message("cell width recalc in _resize");$e.$7o();$e.$7p();$e.$7u();$e.$7A();$e.$7D();$e.$7C();$e.$7E();$e.$7B();$e.$7s();$e.$7F();};this.$7o=function(){if(this.cellWidthSpec!=='Auto'){return;};var $W=this.nav.top.clientWidth;var $4N=this.$7X();var $0J=$W-$4N;var $y=$0J/this.$7V();this.cellWidth=Math.floor($y);$e.debug.message("AutoCellWidth: "+this.cellWidth);};this.$82=function(){var $W=this.nav.top.clientWidth;var $4N=this.$7X();var $4O=2;var $U=this.$7Z();var innerHeight=this.$b9();var $4P=0;if(innerHeight>$U){$4P=DayPilot.swa();};var $0J=$W-$4N-$4O-$4P;this.debug.message("scrollableWidth: "+$0J);return $0J;};this.$b2=function(){var $F=document.createElement("div");$F.style.overflow='hidden';if(!this.cssOnly){$F.style.backgroundColor=this.hourNameBackColor;};$F.style.position='absolute';$F.style.display='block';$F.style.top="0px";$F.style.width="100%";$F.style.height=this.$7W()+"px";$F.style.overflow="hidden";$F.onmousemove=function(){$e.$al();if($e.cellBubble){$e.cellBubble.delayedHide();}};this.$b8($F);this.divTimeScroll=$F;var $I=document.createElement("div");$I.style.width=(this.$7V()*this.cellWidth+5000)+"px";this.divNorth=$I;$F.appendChild($I);return $F;};this.$7Z=function(){var $U=0;if(this.heightSpec==='Fixed'||this.heightSpec==="Parent100Pct"){return this.height?this.height:0;}else{$U=this.$b9();};if(this.heightSpec==='Max'&&$U>this.height){return this.height;};return $U;};this.$b9=function(){var $U;if(this.$7e){var $4Q=DayPilot.sh($e.nav.scroll);if($4Q===0){$U=this.$7e;}else{$U=this.$7e+$4Q;}}else{$U=this.rowlist.length*this.$9C.eventHeight();};return $U;};this.$al=function(){this.$b6();this.$ba();this.$bb();};this.$b3=function(){var $F=document.createElement("div");$F.style.overflow="auto";$F.style.overflowX="auto";$F.style.overflowY="auto";$F.style.position="absolute";$F.style.height=(this.$7Z())+"px";$F.style.top=(this.$7W()+1)+"px";$F.style.width="100%";if(!this.cssOnly){$F.style.backgroundColor=this.emptyBackColor;};$F.className=this.$7U("_scrollable");$F.oncontextmenu=function(){return false;};this.$b8($F);this.nav.scroll=$F;this.$9y=document.createElement("div");this.$9y.style.MozUserSelect="none";this.$9y.style.KhtmlUserSelect="none";this.$9y.style.webkitUserSelect="none";this.$9y.daypilotMainD=true;this.$9y.calendar=this;if($a){this.$9y.style.webkitTransform="translateZ(0px)";};this.$9y.style.position='absolute';var $4R=this.$bc();if($4R>0&&!isNaN($4R)){this.$9y.style.width=($4R)+"px";console.log("setting grid width: "+$4R);};this.$9y.setAttribute("unselectable","on");this.$9y.onmousedown=this.$bd;this.$9y.onmousemove=this.$be;this.$9y.oncontextmenu=this.$bf;this.$9y.ondblclick=this.$bg;this.$9y.className=this.$7U("_matrix");this.divStretch=document.createElement("div");this.divStretch.style.position='absolute';this.divStretch.style.height='1px';this.$9y.appendChild(this.divStretch);this.divCells=document.createElement("div");this.divCells.style.position='absolute';this.divCells.oncontextmenu=this.$bf;this.$9y.appendChild(this.divCells);this.divLines=document.createElement("div");this.divLines.style.position='absolute';this.divLines.oncontextmenu=this.$bf;this.$9y.appendChild(this.divLines);this.divBreaks=document.createElement("div");this.divBreaks.style.position='absolute';this.divBreaks.oncontextmenu=this.$bf;this.$9y.appendChild(this.divBreaks);this.divSeparators=document.createElement("div");this.divSeparators.style.position='absolute';this.divSeparators.oncontextmenu=this.$bf;this.$9y.appendChild(this.divSeparators);this.divLinksBelow=document.createElement("div");this.divLinksBelow.style.position="absolute";this.$9y.appendChild(this.divLinksBelow);this.divCrosshair=document.createElement("div");this.divCrosshair.style.position='absolute';this.divCrosshair.ondblclick=this.$bg;this.$9y.appendChild(this.divCrosshair);this.divRange=document.createElement("div");this.divRange.style.position='absolute';this.divRange.oncontextmenu=this.$bf;this.$9y.appendChild(this.divRange);this.divEvents=document.createElement("div");this.divEvents.style.position='absolute';this.$9y.appendChild(this.divEvents);this.divSeparatorsAbove=document.createElement("div");this.divSeparatorsAbove.style.position='absolute';this.divSeparatorsAbove.oncontextmenu=this.$bf;this.$9y.appendChild(this.divSeparatorsAbove);this.divLinksAbove=document.createElement("div");this.divLinksAbove.style.position="absolute";this.$9y.appendChild(this.divLinksAbove);this.divLinkShadow=document.createElement("div");this.divLinkShadow.style.position="absolute";this.$9y.appendChild(this.divLinkShadow);this.divLinkpoints=document.createElement("div");this.divLinkpoints.style.position="absolute";this.$9y.appendChild(this.divLinkpoints);this.divHover=document.createElement("div");this.divHover.style.position='absolute';this.$9y.appendChild(this.divHover);$F.appendChild(this.$9y);return $F;};this.$bh={};var $4S=this.$bh;$4S.create=function(){if($e.nav.overlay){return;};var $F=document.createElement('div');$F.style.position="absolute";$F.style.left="0px";$F.style.right="0px";$F.style.top="0px";$F.style.bottom="0px";$F.className=$e.$7U("_block");$e.nav.top.appendChild($F);$e.nav.overlay=$F;};$4S.show=function(){$4S.create();$e.nav.overlay.style.display='';};$4S.hide=function(){if($e.nav.overlay){$e.nav.overlay.style.display='none';}};this.$9i=function(){if($e.loadingTimeout){window.clearTimeout($e.loadingTimeout);};$e.loadingTimeout=window.setTimeout(function(){if($e.loadingLabelVisible){$e.nav.loading.innerHTML=$e.loadingLabelText;$e.nav.loading.style.display='';};if($e.blockOnCallBack){$4S.show();}},100);};this.$7i=function($4T){if(this.loadingTimeout){window.clearTimeout(this.loadingTimeout);};if($4T){this.nav.loading.innerHTML=$4T;window.setTimeout(function(){$e.$7i();},1000);}else{this.nav.loading.style.display='none';if(this.blockOnCallBack){$4S.hide();}}};this.$bi=function(){this.startDate=new DayPilot.Date(this.startDate).getDatePart();};this.$bj=function($4U){var $F=document.createElement("div");$F.style.position="absolute";$F.style.top="-2000px";$F.style.left="-2000px";$F.className=this.$7U($4U);document.body.appendChild($F);var $U=$F.offsetHeight;var $00=$F.offsetWidth;document.body.removeChild($F);var $f={};$f.height=$U;$f.width=$00;return $f;};this.$7j=function($4V){if($4V){this.autoRefreshEnabled=true;};if(!this.autoRefreshEnabled){return;};if(this.autoRefreshCount>=this.autoRefreshMaxCount){return;};$e.debug.message("autorefresh started");this.$9h();var $4W=this.autoRefreshInterval;if(!$4W||$4W<10){throw "The minimum autoRefreshInterval is 10 seconds";};this.autoRefreshTimeout=window.setTimeout(function(){$e.$bk();},this.autoRefreshInterval*1000);};this.$9h=function(){if(this.autoRefreshTimeout){window.clearTimeout(this.autoRefreshTimeout);}};this.$bk=function(){if(!DayPilotScheduler.resizing&&!DayPilotScheduler.moving&&!DayPilotScheduler.drag&&!DayPilotScheduler.range){var $4X=false;if(typeof this.onAutoRefresh==='function'){var $h={};$h.i=this.autoRefreshCount;$h.preventDefault=function(){this.preventDefault.value=true;};$e.onAutoRefresh($h);if($h.preventDefault.value){$4X=true;}};if(!$4X&&this.$83()){this.commandCallBack(this.autoRefreshCommand);};this.autoRefreshCount++;};if(this.autoRefreshCount<this.autoRefreshMaxCount){this.autoRefreshTimeout=window.setTimeout(function(){$e.$bk();},this.autoRefreshInterval*1000);}};this.$bl=function(){if(!DayPilotScheduler.globalHandlers){DayPilotScheduler.globalHandlers=true;DayPilot.re(document,'mousemove',DayPilotScheduler.gMouseMove);DayPilot.re(document,'mouseup',DayPilotScheduler.gMouseUp);DayPilot.re(document,'touchmove',DayPilotScheduler.gTouchMove);DayPilot.re(document,'touchend',DayPilotScheduler.gTouchEnd);};DayPilot.re(window,'resize',this.$9z);};this.$bm=function(){this.nav.scroll.root=this;this.nav.scroll.onscroll=this.$8M;$e.$bn=this.nav.scroll.scrollLeft;$e.$bo=this.nav.scroll.scrollTop;$e.$bp=this.divNorth.clientWidth;};this.$7I=function(){if(!this.nav.state){return;};var $4Y={};$4Y.scrollX=this.nav.scroll.scrollLeft;$4Y.scrollY=this.nav.scroll.scrollTop;if(this.syncResourceTree){$4Y.tree=this.$9r();};this.nav.state.value=DayPilot.he(DayPilot.JSON.stringify($4Y));};this.$7E=function(){if(!this.separators){return;};for(var i=0;i<this.separators.length;i++){this.$bq(i);}};this.$br={};this.$br.step=300;this.$br.delay=10;this.$br.mode="display";this.$br.layers=true;this.$aF=function($s){var $4Z=true;var $50=this.$7a?10:0;var $3q=0;for(var j=0;j<$s.lines.length;j++){var $08=$s.lines[j];for(var k=0;k<$08.length;k++){var e=$08[k];if(!e.part.top||$4Z){e.part.line=j;if(!e.part.height){e.part.height=$s.eventHeight;};e.part.top=$3q+$s.marginTop;e.part.detachedBarTop=e.part.top-$50;e.part.right=e.part.left+e.part.width;e.part.fullTop=this.rowlist[e.part.dayIndex].top+e.part.top;e.part.fullBottom=e.part.fullTop+e.part.height;}};$3q+=($08.height||$s.eventHeight)*this.eventStackingLineHeight/100;}};this.$7F=function($0N){var $51=this.$br.step;var $52=this.$br.layers;if($52){$e.divEvents=document.createElement("div");$e.divEvents.style.position='absolute';$e.$9y.insertBefore(this.divEvents,this.divSeparatorsAbove);};if(this.$br.mode==='display'){this.divEvents.style.display='none';}else if(this.$br.mode==='visibility'){this.divEvents.style.visibility='hidden';};var $53=this.dynamicEventRendering==='Progressive';var $t=this.$7N();var top=$t.pixels.top;var $R=$t.pixels.bottom;for(var i=0;i<this.rowlist.length;i++){var $s=this.rowlist[i];var $54=$s.top-this.dynamicEventRenderingMargin;var $55=$54+$s.height+2*this.dynamicEventRenderingMargin;if($53&&($R<=$54||top>=$55)){continue;};this.$aF($s);for(var j=0;j<$s.lines.length;j++){var $08=$s.lines[j];for(var k=0;k<$08.length;k++){var e=$08[k];var $56=this.$bs(e);if($0N&&$56){$51--;if($51<=0){this.divEvents.style.visibility='';this.divEvents.style.display='';window.setTimeout(function(){$e.$7F($0N);},$e.$br.delay);return;}}}}};this.divEvents.style.display='';this.$7Q();$0K.load();this.$7i();};this.$8Q=function($57){var $s=this.rowlist[$57];this.divEvents=document.createElement("div");this.divEvents.style.position='absolute';this.divEvents.style.display='none';this.$9y.insertBefore(this.divEvents,this.divSeparatorsAbove);var $50=this.$7a?10:0;this.$aF($s);for(var j=0;j<$s.lines.length;j++){var $08=$s.lines[j];for(var k=0;k<$08.length;k++){var e=$08[k];this.$bs(e);}};this.divEvents.style.display='';};this.$7B=function(){if(this.elements.events){var length=this.elements.events.length;for(var i=0;i<length;i++){var $F=this.elements.events[i];this.$bt($F);}};this.elements.events=[];};this.$8P=function($57){if(this.elements.events){var length=this.elements.events.length;var $58=[];for(var i=0;i<length;i++){var $F=this.elements.events[i];if($F.row===$57){this.$bt($F);$58.push(i);}};for(var i=$58.length-1;i>=0;i--){this.elements.events.splice($58[i],1);}}};this.$bt=function($F){$F.onclick=null;$F.oncontextmenu=null;$F.onmouseover=null;$F.onmouseout=null;$F.onmousemove=null;$F.onmousedown=null;$F.ondblclick=null;if($F.event){if(!$F.isBar){$F.event.rendered=null;};$F.event=null;};if($F.related){DayPilot.de($F.related);};if($F.parentNode){$F.parentNode.removeChild($F);}};this.$bu=function($F){if($F.event){$F.event.rendered=false;};$F.onclick=null;$F.onmousedown=null;$F.event=null;if($F.parentNode){$F.parentNode.removeChild($F);}};this.$bv=function($59){if(!$59){$59=0;};if(this.dynamicEventRendering!=='Progressive'){return;};this.divEvents.style.display='none';var $5a=[];var $5b=0;var length=this.elements.events.length;for(var i=length-1;i>=0;i--){var $F=this.elements.events[i];if(this.$bw($F.event)){if($59>0){$59--;$5a.unshift($F);}else{this.$bt($F);$5b++;}}else{$5a.unshift($F);}};this.elements.events=$5a;this.divEvents.style.display='';};this.$bx=function($59){var $5a=[];var $5b=0;var $t=this.$7N();var length=this.elements.cells.length;for(var i=length-1;i>=0;i--){var $F=this.elements.cells[i];var $5c=($t.xStart<$F.coords.x&&$F.coords.x<=$t.xEnd)&&($t.yStart<$F.coords.y&&$F.coords.y<=$t.yEnd);if(!$5c){if($59>0){$59--;$5a.unshift($F);}else{this.$9T($F);$5b++;}}else{$5a.unshift($F);}}};this.$9T=function($F){if(!$F){return;};var x=$F.coords.x;var y=$F.coords.y;var $0W=DayPilot.indexOf($e.elements.cells,$F);$e.elements.cells.splice($0W,1);if($F.parentNode){$F.parentNode.removeChild($F);};$e.$7f.cells[x+"_"+y]=null;};this.$7C=function(){if(this.elements.separators){for(var i=0;i<this.elements.separators.length;i++){var $F=this.elements.separators[i];DayPilot.de($F);}};this.elements.separators=[];};this.$by=function(){var $53=this.dynamicEventRendering==='Progressive';if(!this.nav.scroll){return false;};var top=this.nav.scroll.scrollTop;var $R=top+this.nav.scroll.clientHeight;for(var i=0;i<this.rowlist.length;i++){var $s=this.rowlist[i];var $54=$s.top;var $55=$s.top+$s.height;if($53&&($R<=$54||top>=$55)){continue;};for(var j=0;j<$s.lines.length;j++){var $08=$s.lines[j];for(var k=0;k<$08.length;k++){var e=$08[k];if(this.$bz(e)){return true;}}}};return false;};this.$bz=function($m){if($m.rendered){return false;};var $53=this.dynamicEventRendering==='Progressive';var $w=this.nav.scroll.scrollLeft;var $x=$w+this.nav.scroll.clientWidth;var $5d=$m.Left;var $5e=$m.Left+$m.Width;if($53&&($x<=$5d||$w>=$5e)){return false;};return true;};this.$bw=function(ev){if(!ev.rendered){return true;};var $t=this.$7N();var top=$t.pixels.top;var $R=$t.pixels.bottom;var $w=$t.pixels.left-this.dynamicEventRenderingMargin;var $x=$t.pixels.right+this.dynamicEventRenderingMargin;var $5d=ev.part.left;var $5e=ev.part.right;var $5f=ev.part.fullTop;var $5g=ev.part.fullBottom;if($x<=$5d||$w>=$5e){return true;};if($R<=$5f||top>=$5g){return true;};return false;};this.$bA=function($3r){if($3r.rendered){return false;};var $w=$3r.min;var $00=$3r.max-$3r.min;var $U=$e.eventHeight;var top=$3r.row.top;var $F=document.createElement("div");$F.style.position='absolute';$F.style.left=$w+'px';$F.style.top=top+'px';$F.style.width=$00+'px';$F.style.height=$U+'px';$F.className=$e.$7U("_event_group");$F.style.cursor="pointer";var $h={};$h.group={};$h.group.count=$3r.events.length;$h.group.html="[+] "+$3r.events.length+" events";if(typeof $e.onBeforeGroupRender==="function"){$e.onBeforeGroupRender($h);};var $I=document.createElement("div");$I.innerHTML=$h.group.html;$F.appendChild($I);$F.onmousedown=function(ev){var ev=ev||window.event;ev.cancelBubble=true;};$F.onclick=function(ev){var $3r=$F.event;$3r.expanded=true;$e.$bu($F);var $5h=DayPilot.indexOf($e.elements.events,$F);if($5h!==-1){$e.elements.events.splice($5h,1);};$e.$8x();$e.$8y($3r.part.dayIndex);$e.$7z();var ev=ev||window.event;ev.cancelBubble=true;};$3r.part={};$3r.part.left=$w;$3r.part.width=$00;$3r.part.dayIndex=DayPilot.indexOf($e.rowlist,$3r.row);$3r.part.top=0;$3r.client={};$3r.client.html=function(){return $h.group.html;};$F.event=$3r;this.elements.events.push($F);this.divEvents.appendChild($F);$3r.rendered=true;return true;};this.$bs=function($m){if($m.rendered){return false;};if($e.groupConcurrentEvents){var $3r=$m.part.block;if($3r.events.length>1&&!$3r.expanded){return $e.$bA($3r);}};var $53=this.dynamicEventRendering==='Progressive';var $t=this.$7N();var $w=$t.pixels.left-this.dynamicEventRenderingMargin;var $x=$t.pixels.right+this.dynamicEventRenderingMargin;var $5d=$m.part.left;var $5e=$m.part.left+$m.part.width;if($53&&($x<=$5d||$w>=$5e)){return false;};var $57=$m.part.dayIndex;var $5i=!this.cssOnly&&this.eventBorderVisible;var $00=$m.part.width;var $U=$m.part.height;if($5i){$00-=2;$U-=2;};var $0c=$m.cache||$m.data;$00=Math.max(0,$00);$U=Math.max(0,$U);var $s=this.rowlist[$57];if($s.hidden){return false;};var $54=$s.top;var $F=document.createElement("div");var $5j=this.$7a;$F.related=[];if($5j){var $5k=document.createElement("div");$5k.style.position='absolute';$5k.style.left=($m.part.left+$m.part.barLeft)+'px';$5k.style.top=($54+$m.part.detachedBarTop)+'px';$5k.style.width=$m.part.barWidth+'px';$5k.style.height=5+'px';$5k.style.backgroundColor="red";$5k.type="detachedBar";$F.related.push($5k);this.divEvents.appendChild($5k);};if($m.data.htmlLeft){var $2P=5;var $5l=document.createElement("div");$5l.style.position='absolute';$5l.style.right=-($m.part.left-$2P)+'px';$5l.style.top=($54+$m.part.top)+'px';$5l.style.height=$e.eventHeight+'px';$5l.style.boxSizing="border-box";$5l.innerHTML=$m.data.htmlLeft;$5l.className=$e.$7U("_event_left");$5l.type="divLeft";$F.related.push($5l);this.divEvents.appendChild($5l);};if($m.data.htmlRight){var $2P=5;var $5m=document.createElement("div");$5m.style.position='absolute';$5m.style.left=($m.part.left+$m.part.width+$2P)+'px';$5m.style.top=($54+$m.part.top)+'px';$5m.style.height=$e.eventHeight+'px';$5m.style.boxSizing="border-box";$5m.innerHTML=$m.data.htmlRight;$5m.className=$e.$7U("_event_right");$5m.type="divRight";$F.related.push($5m);this.divEvents.appendChild($5m);};var top=$54+$m.part.top;$F.style.position='absolute';$F.style.left=$m.part.left+'px';$F.style.top=($54+$m.part.top)+'px';$F.style.width=$00+'px';$F.style.height=$U+'px';if(!this.cssOnly){if($e.eventBorderVisible){$F.style.border='1px solid '+($0c.borderColor||this.eventBorderColor);};$F.style.backgroundColor=$m.client.backColor();$F.style.fontSize=this.eventFontSize;$F.style.cursor='default';$F.style.fontFamily=this.eventFontFamily;$F.style.color=$0c.fontColor||this.eventFontColor;if($0c.backImage&&!this.durationBarVisible){$F.style.backgroundImage="url("+$0c.backImage+")";if($0c.backRepeat){$F.style.backgroundRepeat=$0c.backRepeat;}};if(this.$9C.rounded()){$F.style.MozBorderRadius="5px";$F.style.webkitBorderRadius="5px";$F.style.borderRadius="5px";}};$F.style.whiteSpace='nowrap';$F.style.overflow='hidden';$F.className=this.cssOnly?this.$7U("_event"):this.$7U("event");if($m.data.type==="Milestone"){DayPilot.Util.addClass($F,$e.$7U("_task_milestone"));};if($m.data.type==="Group"){DayPilot.Util.addClass($F,$e.$7U("_task_parent"));DayPilot.Util.addClass($F,$e.$7U("_task_group"));};if($0c.cssClass){DayPilot.Util.addClass($F,$0c.cssClass);};var $5n=true;if($5n){DayPilot.Util.addClass($F,this.$7U("_event_line"+$m.part.line));};$F.setAttribute("unselectable","on");if(this.showToolTip&&!this.bubble){$F.title=$m.client.toolTip();};$F.onmousemove=this.$bB;$F.onmouseout=this.$bC;$F.onmousedown=this.$bD;$F.ontouchstart=$0q.onEventTouchStart;$F.ontouchmove=$0q.onEventTouchMove;$F.ontouchend=$0q.onEventTouchEnd;if($m.client.clickEnabled()){$F.onclick=this.$8e;};if($m.client.doubleClickEnabled()){$F.ondblclick=this.$8p;};$F.oncontextmenu=this.$8o;var $5o=[];var $5p=0;if(this.cssOnly){var $I=document.createElement("div");$I.setAttribute("unselectable","on");$I.className=$e.$7U("_event_inner");$I.innerHTML=$m.client.innerHTML();if($0c.backColor){$I.style.background=$0c.backColor;if(DayPilot.browser.ie9||DayPilot.browser.ielt9){$I.style.filter='';}};if($0c.fontColor){$I.style.color=$0c.fontColor;};if($0c.borderColor){$I.style.borderColor=$0c.borderColor;};if($0c.backImage){$I.style.backgroundImage="url("+$0c.backImage+")";if($0c.backRepeat){$I.style.backgroundRepeat=$0c.backRepeat;}};$F.appendChild($I);var $5q=$m.start().getTime()===$m.part.start.getTime();var $5r=$m.end().getTime()===$m.part.end.getTime();if(!$5q){DayPilot.Util.addClass($F,this.$7U("_event_continueleft"));};if(!$5r){DayPilot.Util.addClass($F,this.$7U("_event_continueright"));};if($m.client.barVisible()&&$00>0){var $5s=100*$m.part.barLeft/($00);var $5t=Math.ceil(100*$m.part.barWidth/($00));if(this.durationBarMode==="PercentComplete"){$5s=0;$5t=$0c.complete||0;};var $5k=document.createElement("div");$5k.setAttribute("unselectable","on");$5k.className=this.$7U("_event_bar");$5k.style.position="absolute";if($0c.barBackColor){$5k.style.backgroundColor=$0c.barBackColor;};var $5u=document.createElement("div");$5u.setAttribute("unselectable","on");$5u.className=this.$7U("_event_bar_inner");$5u.style.left=$5s+"%";if(0<$5t&&$5t<=1){$5u.style.width="1px";}else{$5u.style.width=$5t+"%";};if($0c.barColor){$5u.style.backgroundColor=$0c.barColor;};if($0c.barImageUrl){$5u.style.backgroundImage="url("+$0c.barImageUrl+")";};$5k.appendChild($5u);$F.appendChild($5k);}}else{if($m.client.barVisible()){$5p=$e.durationBarHeight;$5o.push("<div unselectable='on' style='left:0px;background-color:white;width:");$5o.push($m.part.barLeft);$5o.push("px;height:2px;font-size:1px;position:absolute'></div>");$5o.push("<div unselectable='on' style='left:");$5o.push($m.part.barLeft+$m.part.barWidth);$5o.push("px;background-color:white;width:");$5o.push($00-($m.part.barLeft+$m.part.barWidth));$5o.push("px;height:2px;font-size:1px;position:absolute'></div>");if(this.durationBarMode==="Duration"){$5o.push("<div unselectable='on' style='width:");$5o.push($m.part.barWidth);$5o.push("px;margin-left:");$5o.push($m.part.barLeft);$5o.push("px;height:");}else{$5o.push("<div unselectable='on' style='width:");$5o.push($0c.complete);$5o.push("%;margin-left:0px;height:");};$5o.push($5p-1);$5o.push("px;background-color:");$5o.push($m.client.barColor());if($0c.barImageUrl){$5o.push(";background-image:url(");$5o.push($0c.barImageUrl);$5o.push(")");};$5o.push(";font-size:1px;position:relative'></div>");$5o.push("<div unselectable='on' style='width:");$5o.push($00);$5o.push("px;height:1px;background-color:");$5o.push(($0c.borderColor||this.eventBorderColor));$5o.push(";font-size:1px;overflow:hidden;position:relative'></div>");};$5o.push("<div unselectable='on' style='padding-left:1px;width:");$5o.push($00-1);$5o.push("px;height:");$5o.push($U-$5p);$5o.push("px;");if($e.rtl){$5o.push("direction:rtl;");};if($0c.backImage&&this.durationBarVisible){$5o.push("background-image:url(");$5o.push($0c.backImage);$5o.push(");");if($0c.backRepeat){$5o.push("background-repeat:");$5o.push($0c.backRepeat);$5o.push(";");}};$5o.push("'>");$5o.push($m.client.innerHTML());$5o.push("</div>");$F.innerHTML=$5o.join('');};$F.row=$57;if($0c.areas){for(var i=0;i<$0c.areas.length;i++){var $t=$0c.areas[i];var v=$t.v||"Visible";if(v!=="Visible"){continue;};var a=DayPilot.Areas.createArea($F,$m,$t);$F.appendChild(a);}};this.elements.events.push($F);this.divEvents.appendChild($F);$m.rendered=true;$F.event=$m;if($e.multiselect.$8C($F.event)){$e.multiselect.add($F.event,true);$e.multiselect.$8B($F);};if($e.$7K()){if(typeof $e.onAfterEventRender==='function'){var $h={};$h.e=$F.event;$h.div=$F;$e.onAfterEventRender($h);}}else{if($e.afterEventRender){$e.afterEventRender($F.event,$F);}};return true;};this.$7K=function(){return $e.api===2;};this.$8R=function(){for(var i=0;i<this.elements.events.length;i++){var $F=this.elements.events[i];var event=$F.event;var $57=event.part.dayIndex;var $s=this.rowlist[$57];var $54=$s.top;var top=$54+event.part.top;$F.style.top=top+'px';if(DayPilot.isArray($F.related)){for(var j=0;j<$F.related.length;j++){var $5v=$F.related[j];if($5v.type==="divLeft"||$5v.type==="divRight"){$5v.style.top=top+'px';}}}}};this.$9I=function(e){if(!e){return null;};for(var i=0;i<$e.elements.events.length;i++){var $F=$e.elements.events[i];if($F.event===e||$F.event.data===e.data){return $F;}};return null;};this.$bC=function(ev){var $F=this;DayPilot.Areas.hideAreas($F,ev);if($e.cssOnly){DayPilot.Util.removeClass($F,$e.$7U("_event_hover"));};$e.$bE($F);if(!$1s.source){$0K.hideLinkpointsWithDelay();};if($e.bubble&&$e.eventHoverHandling==='Bubble'){$e.bubble.hideOnMouseOut();}};this.$bF=function($F){if(typeof this.onEventMouseOver==="function"){var $h={};$h.div=$F;$h.e=$F.event;this.onEventMouseOver($h);}};this.$bE=function($F){if(typeof this.onEventMouseOut==="function"){var $h={};$h.div=$F;$h.e=$F.event;this.onEventMouseOut($h);}};this.$bB=function(ev){ev=ev||window.event;if($e.cellBubble){$e.cellBubble.delayedHide();};var $F=this;while($F&&!$F.event){$F=$F.parentNode;};$e.$bG($F,ev);if(!$F.active){var $34=[];if($e.eventDeleteHandling!=="Disabled"){var top=$e.durationBarVisible?$e.durationBarHeight:0;$34.push({"action":"JavaScript","v":"Hover","w":17,"h":17,"top":top+2,"right":2,"css":$e.$7U("_event_delete"),"js":function(e){$e.$8l(e);}});};var $B=$F.event.cache?$F.event.cache.areas:$F.event.data.areas;if($B&&$B.length>0){$34=$34.concat($B);};DayPilot.Areas.showAreas($F,$F.event,null,$34);if($e.cssOnly){DayPilot.Util.addClass($F,$e.$7U("_event_hover"));};$e.$bF($F);};if($e.linkCreateHandling!=="Disabled"&&!$1s.source){$0K.clearHideTimeout();$0K.hideLinkpoints();if(!DayPilotScheduler.moving&&!DayPilotScheduler.resizing){$0K.showLinkpoint($F);}};if(ev.srcElement){ev.srcElement.insideEvent=true;}else{ev.insideEvent=true;}};this.$bH={};var $0r=this.$bH;this.$bD=function(ev){$e.$al();if(typeof DayPilot.Bubble!=='undefined'){DayPilot.Bubble.hideActive();};ev=ev||window.event;var $5w=DayPilot.Util.mouseButton(ev);if($5w.left){if(this.style.cursor==='w-resize'||this.style.cursor==='e-resize'){DayPilotScheduler.resizing=this;DayPilotScheduler.originalMouse=DayPilot.mc(ev);document.body.style.cursor=this.style.cursor;$0K.hideLinkpoints();}else if(this.style.cursor==='move'){DayPilotScheduler.moving=this;DayPilotScheduler.originalMouse=DayPilot.mc(ev);DayPilotScheduler.moveOffsetX=DayPilot.mo3(this,ev).x;DayPilotScheduler.moveDragStart=$e.getDate($e.coords.x,true);document.body.style.cursor='move';$0K.hideLinkpoints();}else if($e.moveBy==='Full'&&this.event.client.moveEnabled()){$0r.start=true;$0r.moving=this;$0r.originalMouse=DayPilot.mc(ev);$0r.moveOffsetX=DayPilot.mo3(this,ev).x;$0r.moveDragStart=$e.getDate($e.coords.x,true);$0K.hideLinkpoints();}};ev.cancelBubble=true;return false;};this.$bI={};var $0q=$e.$bI;$0q.active=false;$0q.start=false;$0q.timeouts=[];$0q.onEventTouchStart=function(ev){if($0q.active||$0q.start){return;};$0q.clearTimeouts();$0q.start=true;$0q.active=false;var $F=this;var $5x=500;$0q.timeouts.push(window.setTimeout(function(){$0q.active=true;$0q.start=false;$e.coords=$0q.relativeCoords(ev);$0q.startMoving($F,ev);ev.preventDefault();},$5x));ev.stopPropagation();};$0q.onEventTouchMove=function(ev){$0q.clearTimeouts();$0q.start=false;};$0q.onEventTouchEnd=function(ev){$0q.clearTimeouts();if($0q.start){$e.$8i(this,ev);};window.setTimeout(function(){$0q.start=false;$0q.active=false;},500);};$0q.onMainTouchStart=function(ev){if($0q.active||$0q.start){return;};$0q.clearTimeouts();$0q.start=true;$0q.active=false;var $5x=500;$0q.timeouts.push(window.setTimeout(function(){$0q.active=true;$0q.start=false;ev.preventDefault();$e.coords=$0q.relativeCoords(ev);$0q.range=$e.$bJ();},$5x));};$0q.onMainTouchMove=function(ev){$0q.clearTimeouts();$0q.start=false;if($0q.active){ev.preventDefault();$e.coords=$0q.relativeCoords(ev);if(DayPilotScheduler.moving){$0q.updateMoving();return;};if($0q.range){var $0S=$0q.range;$0S.end={x:Math.floor($e.coords.x/$e.cellWidth)};$e.$8X($0S);}}};$0q.onMainTouchEnd=function(ev){$0q.clearTimeouts();if($0q.active){if(DayPilotScheduler.moving){ev.preventDefault();var e=DayPilotScheduler.moving.event;var $0z=DayPilotScheduler.movingShadow.start;var $0A=DayPilotScheduler.movingShadow.end;var $0B=($e.viewType!=='Days')?DayPilotScheduler.movingShadow.row.id:null;var external=DayPilotScheduler.drag?true:false;DayPilot.de(DayPilotScheduler.movingShadow);$e.$ab();DayPilotScheduler.movingShadow.calendar=null;document.body.style.cursor='';DayPilotScheduler.moving=null;DayPilotScheduler.movingShadow=null;$e.$8S(e,$0z,$0A,$0B,external);};if($0q.range){var $5y=$e.$bK($0q.range);$0q.range=null;$e.$8W($5y.start,$5y.end,$5y.resource);}};window.setTimeout(function(){$0q.start=false;$0q.active=false;},500);};$0q.clearTimeouts=function(){for(var i=0;i<$0q.timeouts.length;i++){clearTimeout($0q.timeouts[i]);};$0q.timeouts=[];};$0q.relativeCoords=function(ev){var $5z=$e.$9y;var x=ev.touches[0].pageX;var y=ev.touches[0].pageY;var $5A=DayPilot.abs($5z);var $1l={x:x-$5A.x,y:y-$5A.y,toString:function(){return "x: "+this.x+", y:"+this.y;}};return $1l;};$0q.startMoving=function($F,ev){var $1l={x:ev.touches[0].pageX,y:ev.touches[0].pageY};DayPilotScheduler.moving=$F;DayPilotScheduler.originalMouse=$1l;var $5B=DayPilot.abs($F);DayPilotScheduler.moveOffsetX=$1l.x-$5B.x;DayPilotScheduler.moveDragStart=$e.getDate($e.coords.x,true);DayPilotScheduler.movingShadow=$e.$9D($F,$e.shadow);$e.$a5();};$0q.updateMoving=function(){if(DayPilotScheduler.movingShadow&&DayPilotScheduler.movingShadow.calendar!==$e){DayPilotScheduler.movingShadow.calendar=null;DayPilot.de(DayPilotScheduler.movingShadow);DayPilotScheduler.movingShadow=null;};if(!DayPilotScheduler.movingShadow){var mv=DayPilotScheduler.moving;DayPilotScheduler.movingShadow=$e.$9D(mv,$e.shadow);};DayPilotScheduler.moving.target=$e;$e.$a5();};this.$bG=function($F,ev){var $5C=this.eventResizeMargin;var $5D=this.eventMoveMargin;var $1j=$F;if(typeof(DayPilotScheduler)==='undefined'){return;};var $0i=DayPilot.mo3($F,ev);if(!$0i){return;};$e.eventOffset=$0i;if(DayPilotScheduler.resizing){return;};var $5E=$1j.event.part.start.toString()===$1j.event.start().toString();var $5F=$1j.event.part.end.toString()===$1j.event.end().toString();if($e.moveBy==='Top'&&$0i.y<=$5D&&$1j.event.client.moveEnabled()&&$e.eventMoveHandling!=='Disabled'){if($5E){$F.style.cursor='move';}else{$F.style.cursor='not-allowed';}}else if(($e.moveBy==='Top'||$e.moveBy==='Full')&&$0i.x<=$5C&&$1j.event.client.resizeEnabled()&&$e.eventResizeHandling!=='Disabled'){if($5E){$F.style.cursor="w-resize";$F.dpBorder='left';}else{$F.style.cursor='not-allowed';}}else if($e.moveBy==='Left'&&$0i.x<=$5D&&$1j.event.client.moveEnabled()&&$e.eventMoveHandling!=='Disabled'){if($5E){$F.style.cursor="move";}else{$F.style.cursor='not-allowed';}}else if($F.offsetWidth-$0i.x<=$5C&&$1j.event.client.resizeEnabled()&&$e.eventResizeHandling!=='Disabled'){if($5F){$F.style.cursor="e-resize";$F.dpBorder='right';}else{$F.style.cursor='not-allowed';}}else if(!DayPilotScheduler.resizing&&!DayPilotScheduler.moving){if($1j.event.client.clickEnabled()&&$e.eventClickHandling!=='Disabled'){$F.style.cursor='pointer';}else{$F.style.cursor='default';}};if(typeof(DayPilotBubble)!=='undefined'&&$e.bubble&&$e.eventHoverHandling==='Bubble'){if($F.style.cursor==='default'||$F.style.cursor==='pointer'){var $5G=this.$bL&&$0i.x===this.$bL.x&&$0i.y===this.$bL.y;if(!$5G){this.$bL=$0i;$e.bubble.showEvent($F.event);}}else{}}};this.$7V=function(){if(this.viewType!=='Days'){return this.itline.length;}else{return Math.floor(24*60/this.cellDuration);}};this.$bK=function($0S){var $0S=$0S||DayPilotScheduler.range||DayPilotScheduler.rangeHold;if(!$0S){return null;};var $s=$e.rowlist[$0S.start.y];if(!$s){return null;};var $0R=$s.id;var $5H=$0S.end.x>$0S.start.x?$0S.start.x:$0S.end.x;var $5I=($0S.end.x>$0S.start.x?$0S.end.x:$0S.start.x);var $2s=$s.start.getTime()-this.$a7().getTime();var $u=this.itline[$5H].start.addTime($2s);var end=this.itline[$5I].end.addTime($2s);return new DayPilot.Selection($u,end,$0R,$e);};this.$bM=function($1j){var $5J=$1j.parentNode;var $5K=document.createElement('textarea');$5K.style.position='absolute';$5K.style.width=(($1j.offsetWidth<100)?100:($1j.offsetWidth-2))+'px';$5K.style.height=($1j.offsetHeight-2)+'px';$5K.style.fontFamily=DayPilot.gs($1j,'fontFamily')||DayPilot.gs($1j,'font-family');$5K.style.fontSize=DayPilot.gs($1j,'fontSize')||DayPilot.gs($1j,'font-size');$5K.style.left=$1j.offsetLeft+'px';$5K.style.top=$1j.offsetTop+'px';$5K.style.border='1px solid black';$5K.style.padding='0px';$5K.style.marginTop='0px';$5K.style.backgroundColor='white';$5K.value=DayPilot.tr($1j.event.text());$5K.event=$1j.event;$5J.appendChild($5K);return $5K;};this.$8j=function($1j){if(DayPilotScheduler.editing){DayPilotScheduler.editing.blur();return;};var $5K=this.$bM($1j);DayPilotScheduler.editing=$5K;$5K.onblur=function(){var $5L=$1j.event.text();var $0T=$5K.value;DayPilotScheduler.editing=null;if($5K.parentNode){$5K.parentNode.removeChild($5K);};if($5L===$0T){return;};$1j.style.display='none';$e.$9e($1j.event,$0T);};$5K.onkeypress=function(e){var $3N=(window.event)?event.keyCode:e.keyCode;if($3N===13){this.onblur();return false;}else if($3N===27){$5K.parentNode.removeChild($5K);DayPilotScheduler.editing=false;};return true;};$5K.select();$5K.focus();};this.$ar=function(ev){var td=this;if(typeof(DayPilotBubble)!=='undefined'){if($e.cellBubble){$e.cellBubble.hideOnMouseOut();};if($e.resourceBubble){var $18={};$18.calendar=$e;$18.id=td.row.id;$18.toJSON=function(){var $15={};$15.id=this.id;return $15;};$e.resourceBubble.showResource($18);}}};this.$as=function(ev){var td=this;if(typeof(DayPilotBubble)!=='undefined'&&$e.resourceBubble){$e.resourceBubble.hideOnMouseOut();};var $F=td.firstChild;DayPilot.Areas.hideAreas($F,ev);$F.data=null;};this.$at=function(ev){if($35.row){$0U.cancelClick=true;setTimeout(function(){$0U.cancelClick=false;},100);}};this.$7u=function(){this.$bN();return;};this.$bN=function(){if(!this.timeHeader){$e.debug.message("drawTimeHeader: timeHeader not available");return;};this.$7f.timeHeader={};var $4N=document.createElement("div");$4N.style.position="relative";this.nav.timeHeader=$4N;for(var y=0;y<this.timeHeader.length;y++){var $s=this.timeHeader[y];for(var x=0;x<$s.length;x++){this.$bO(x,y);}};var $5M=this.divNorth;DayPilot.puc($5M);$5M.innerHTML='';$5M.appendChild($4N);var $4R=this.$bc();$5M.style.width=(this.$bc()+5000)+"px";var $5N=this.divCorner;if(!this.cssOnly){$5N.style.backgroundColor=this.cornerBackColor;};if(this.cornerHtml){$5N.innerHTML=this.cornerHtml;}else{$5N.innerHTML='';};var $4R=this.$bc();if($4R>0){this.divStretch.style.width=(this.$bc())+"px";}};this.$89=function(h,$5O){var $L=null;var $3Y=this.$9C.locale();var $5O=$5O||this.cellGroupBy;var $1t=h.start;var to=h.end;var $3Y=this.$9C.locale();switch($5O){case 'Hour':$L=($e.$9C.timeFormat()==='Clock12Hours')?$1t.toString("h tt",$3Y):$1t.toString("H",$3Y);break;case 'Day':$L=$1t.toString($3Y.datePattern);break;case 'Week':$L=$Q.weekStarts()===1?$1t.weekNumberISO():$1t.weekNumber();break;case 'Month':$L=$1t.toString("MMMM yyyy",$3Y);break;case 'Year':$L=$1t.toString("yyyy");break;case 'None':$L='';break;case 'Cell':if(this.scale==='Manual'||this.scale==='CellDuration'){var $0p=(h.end.ticks-h.start.ticks)/60000;$L=this.$bP($1t,$0p);}else{$L=this.$89(h,this.scale);};break;default:throw 'Invalid cellGroupBy value';};return $L;};this.$bP=function($u,$0p){var $3Y=this.$9C.locale();var $0p=$0p||this.cellDuration;if($0p<60){return $u.toString("mm");}else if($0p<1440){return $e.$9C.timeFormat()==='Clock12Hours'?$u.toString("h tt",$3Y):$u.toString("H",$3Y);}else if($0p<10080){return $u.toString("d");}else if($0p===10080){return $Q.weekStarts()===1?$u.weekNumberISO():$u.weekNumber();}else{return $u.toString("MMMM yyyy",$3Y);}};this.$86=function($1t){var $5P=this.scale;switch($5P){case "Cell":throw "Invalid scale: Cell";case "Manual":throw "Internal error (addScaleSize in Manual mode)";case "Minute":return $1t.addMinutes(1);case "CellDuration":return $1t.addMinutes(this.cellDuration);default:return this.$88($1t,$5P);}};this.$88=function($1t,$5O){var to;var $5Q=this.viewType!=='Days'?this.days:1;var $5R=this.startDate.addDays($5Q);var $5O=$5O||this.cellGroupBy;var $09=60;switch($5O){case 'Hour':to=$1t.addHours(1);break;case 'Day':to=$1t.addDays(1);break;case 'Week':to=$1t.addDays(1);while(to.dayOfWeek()!==$Q.weekStarts()){to=to.addDays(1);};break;case 'Month':to=$1t.addMonths(1);to=to.firstDayOfMonth();var $5S=(DayPilot.Date.diff(to.d,$1t.d)/(1000.0*60))%$09===0;while(!$5S){to=to.addHours(1);$5S=(DayPilot.Date.diff(to.d,$1t.d)/(1000.0*60))%$09===0;};break;case 'Year':to=$1t.addYears(1);to=to.firstDayOfYear();var $5S=(DayPilot.Date.diff(to.d,$1t.d)/(1000.0*60))%$09===0;while(!$5S){to=to.addHours(1);$5S=(DayPilot.Date.diff(to.d,$1t.d)/(1000.0*60))%$09===0;};break;case 'None':to=$5R;break;case 'Cell':var $y=this.$8d($1t);if($y.current){to=$y.current.end;}else{if($y.past){to=$y.previous.end;}else{to=$y.next.start;}};break;default:throw 'Invalid cellGroupBy value';};if(to.getTime()>$5R.getTime()){to=$5R;};return to;};this.$bO=function(x,y){var $4N=this.nav.timeHeader;var p=this.timeHeader[y][x];var $5T=y<this.timeHeader.length-1;var top=y*$Q.headerHeight();var $w=p.left;var $00=p.width;var $U=$Q.headerHeight();var $y=document.createElement("div");$y.style.position="absolute";$y.style.top=top+"px";$y.style.left=$w+"px";$y.style.width=$00+"px";$y.style.height=$U+"px";if(p.toolTip){$y.title=p.toolTip;};$y.setAttribute("unselectable","on");$y.style.KhtmlUserSelect='none';$y.style.MozUserSelect='none';$y.style.webkitUserSelect='none';$y.oncontextmenu=function(){return false;};$y.cell={};$y.cell.start=p.start;$y.cell.end=p.end;$y.cell.level=y;$y.cell.th=p;$y.onclick=this.$ay;$y.style.overflow='hidden';if(!this.cssOnly){var $5U=y===this.timeHeader.length-1;$y.style.textAlign="center";$y.style.backgroundColor=(typeof $y.backColor==='undefined')?$e.hourNameBackColor:$y.backColor;$y.style.fontFamily=this.hourFontFamily;$y.style.fontSize=this.hourFontSize;$y.style.color=this.headerFontColor;$y.style.cursor='default';$y.style.border='0px none';if(!$5U){$y.style.height=($U-1)+"px";$y.style.borderBottom="1px solid "+this.borderColor;};$y.style.width=($00-1)+"px";$y.style.borderRight="1px solid "+this.hourNameBorderColor;$y.style.whiteSpace='nowrap';$y.className=this.$7U('timeheadergroup');};var $I=document.createElement("div");$I.setAttribute("unselectable","on");$I.innerHTML=p.innerHTML;if(p.backColor){$I.style.background=p.backColor;};if(this.cssOnly){var cl=this.$7U("_timeheadercol");var $5V=this.$7U("_timeheadercol_inner");if($5T){cl=this.$7U("_timeheadergroup");$5V=this.$7U("_timeheadergroup_inner");};DayPilot.Util.addClass($y,cl);DayPilot.Util.addClass($I,$5V);};$y.appendChild($I);this.$7f.timeHeader[x+"_"+y]=$y;$4N.appendChild($y);};this.$8x=function(){for(var i=0;i<this.rowlist.length;i++){var $s=this.rowlist[i];var $5a=$s.getHeight()+$s.marginBottom+$s.marginTop;if($s.height!==$5a||typeof $e.onBeforeCellRender==="function"){this.$8O=true;};$s.height=$5a;}};this.$7x=function(){var $4N=this.divHeader;if(!$4N){return false;};var $1R=this.rowlist.length;var $1g=this.rowHeaderCols?this.rowHeaderCols.length:1;var j=0;for(var i=0;i<$1R;i++){var $s=this.rowlist[i];if($s.hidden){continue;};var $0W=this.$ak?i:j;if(!$4N.rows[$0W]){continue;};for(var c=0;c<$4N.rows[$0W].cells.length;c++){var $5W=$4N.rows[$0W].cells[c];if(this.$ak){$5W.style.top=$s.top+"px";};var $5X=$s.height;if($5W&&$5W.firstChild&&parseInt($5W.firstChild.style.height,10)!==$5X){$5W.firstChild.style.height=$5X+"px";}};j++;};if(this.$ak){if($e.nav.resScrollSpace){$e.nav.resScrollSpace.style.top=$e.$7e+"px";}}};this.$bq=function($0W){var s=this.separators[$0W];s.location=s.location||s.Location;s.color=s.color||s.Color;s.layer=s.layer||s.Layer;s.width=s.width||s.Width;s.opacity=s.opacity||s.Opacity;var $0o=new DayPilot.Date(s.location);var $1A=s.color;var $00=s.width?s.width:1;var $1D=s.layer?s.layer==='AboveEvents':false;var $P=s.opacity?s.opacity:100;if($0o.getTime()<this.startDate.getTime()){return;};if($0o.getTime()>=this.startDate.addDays(this.days).getTime()){return;};var $r=this.getPixels($0o);if($r.cut){return;};if($r.left<0){return;};if($r.left>this.$7V()*this.cellWidth){return;};var $08=document.createElement("div");$08.style.width=$00+'px';$08.style.height=$e.$7e+'px';$08.style.position='absolute';$08.style.left=($r.left-1)+'px';$08.style.top='0px';$08.style.backgroundColor=$1A;$08.style.opacity=$P/100;$08.style.filter="alpha(opacity="+$P+")";if($1D){this.divSeparatorsAbove.appendChild($08);}else{this.divSeparators.appendChild($08);};this.elements.separators.push($08);};this.$bg=function(ev){if($e.timeRangeDoubleClickHandling==='Disabled'){return false;};if(DayPilotScheduler.timeRangeTimeout){clearTimeout(DayPilotScheduler.timeRangeTimeout);DayPilotScheduler.timeRangeTimeout=null;};var $0S={};if(!$e.coords){var $5z=$e.$9y;$e.coords=DayPilot.mo3($5z,ev);};ev=ev||window.event;if($e.$bQ($e.coords)){var $5y=$e.$bK(DayPilotScheduler.rangeHold);$e.$8Y($5y.start,$5y.end,$5y.resource);}else{DayPilotScheduler.range=$e.$bJ();if(DayPilotScheduler.range){var $5y=$e.$bK(DayPilotScheduler.range);$e.$8Y($5y.start,$5y.end,$5y.resource);}};DayPilotScheduler.rangeHold=DayPilotScheduler.range;DayPilotScheduler.range=null;};this.$bd=function(ev){if($0q.start){return;};if(DayPilotScheduler.timeRangeTimeout&&false){clearTimeout(DayPilotScheduler.timeRangeTimeout);DayPilotScheduler.timeRangeTimeout=null;};$e.$b6();$e.$ba();if(!$e.coords){var $5z=$e.$9y;$e.coords=DayPilot.mo3($5z,ev);};ev=ev||window.event;var $5w=DayPilot.Util.mouseButton(ev);if($5w.middle||($5w.right&&$e.$bQ($e.coords))){return false;};if($e.timeRangeSelectedHandling==='Disabled'){return false;};var i=$e.$9t($e.coords.y).i;var $s=$e.rowlist[i];if($s.isNewRow){return false;};DayPilotScheduler.range=$e.$bJ();return false;};this.$bJ=function(){var $0S={};var cx=this.$8b($e.coords.x).x;$0S.start={y:$e.$9t($e.coords.y).i,x:cx};$0S.end={x:cx};if(this.$a0($e.$9t($e.coords.y).i)){return null;};$0S.calendar=$e;$e.$8X($0S);return $0S;};this.$bR=function(){$e.$a6();var $1m=DayPilotScheduler.resizingShadow;var ev=DayPilotScheduler.resizing;(function(){var $0j=$e.$bS;if($0j&&$0j.start.getTime()===$1m.start.getTime()&&$0j.end.getTime()===$1m.end.getTime()){return;};var $h={};$h.start=$1m.start;$h.end=$1m.end;$h.e=ev;$h.left={};$h.left.html=$h.start.toString($e.eventResizingStartEndFormat);$h.left.enabled=$e.eventResizingStartEndEnabled;$h.right={};$h.right.html=$h.end.toString($e.eventResizingStartEndFormat);$h.right.enabled=$e.eventResizingStartEndEnabled;$e.$bS=$h;if(typeof $e.onEventResizing==='function'){$e.onEventResizing($h);};$e.$aa(DayPilotScheduler.resizingShadow,$h);})();};this.$be=function(ev){if($0q.active){return;};DayPilotScheduler.activeCalendar=$e;ev=ev||window.event;var $5Y=DayPilot.mc(ev);$e.coords=DayPilot.mo3($e.$9y,ev);ev.insideMainD=true;if(window.event){window.event.srcElement.inside=true;};if($0r.start){if($0r.originalMouse.x!==$5Y.x||$0r.originalMouse.y!==$5Y.y){DayPilot.Util.copyProps($0r,DayPilotScheduler);document.body.style.cursor='move';$0r={};}};if(DayPilotScheduler.resizing&&DayPilotScheduler.resizing.event.calendar===$e){if(!DayPilotScheduler.resizingShadow){DayPilotScheduler.resizingShadow=$e.$9D(DayPilotScheduler.resizing,$e.shadow);};var $5Z=DayPilotScheduler.resizing.event.calendar.cellWidth;var $2X=DayPilotScheduler.resizing.event.part.width;var $60=DayPilotScheduler.resizing.event.part.left;var $61=0;var $62=($5Y.x-DayPilotScheduler.originalMouse.x);var $63,$2Y;if(DayPilotScheduler.resizing.dpBorder==='right'){$63=$60;if($e.snapToGrid){var $0m=$e.$8b($2X+$60+$62).cell;var $64=$0m.left+$0m.width;$2Y=$64-$60;if($2Y<$5Z){$2Y=$5Z;}}else{$2Y=$2X+$62;};var $2F=$e.$bc();if($60+$2Y>$2F){$2Y=$2F-$60;};DayPilotScheduler.resizingShadow.style.width=($2Y)+'px';}else if(DayPilotScheduler.resizing.dpBorder==='left'){if($e.snapToGrid){if($62>=$2X){$62=$2X;};$63=Math.floor((($60+$62)+0)/$5Z)*$5Z;if($63<$61){$63=$61;}}else{$63=$60+$62;};$2Y=$2X-($63-$60);var $x=$60+$2X;var $65=$5Z;if(!$e.snapToGrid){$65=1;}else if($e.useEventBoxes==="Never"){if($2X<$5Z){$65=$2X;}else{$65=1;}};if($2Y<$65){$2Y=$65;$63=$x-$2Y;};DayPilotScheduler.resizingShadow.style.left=$63+'px';DayPilotScheduler.resizingShadow.style.width=($2Y)+'px';};(function checkOverlap(){var ev=DayPilotScheduler.resizing.event;var $s=$e.rowlist[ev.part.dayIndex];var $1m=DayPilotScheduler.resizingShadow;var $w=$63;var $00=$2Y;$e.$a8(DayPilotScheduler.resizingShadow,$s,$w,$00,ev.data);})();$e.$bR();}else if(DayPilotScheduler.moving&&(DayPilotScheduler.moving.event.calendar===$e||DayPilotScheduler.moving.event.calendar.dragOutAllowed)){if(DayPilotScheduler.movingShadow&&DayPilotScheduler.movingShadow.calendar!==$e){DayPilotScheduler.movingShadow.calendar=null;DayPilot.de(DayPilotScheduler.movingShadow);DayPilotScheduler.movingShadow=null;};if(!DayPilotScheduler.movingShadow){var mv=DayPilotScheduler.moving;DayPilotScheduler.movingShadow=$e.$9D(mv,$e.shadow);};$e.$a3();DayPilotScheduler.moving.target=$e;$e.$a5();}else if(DayPilotScheduler.range&&DayPilotScheduler.range.calendar===$e){var $0S=DayPilotScheduler.range;$0S.end={x:$e.$8b($e.coords.x).x};$e.$8X($0S);}else if($1s.source){var $02=$1s.source;$0K.drawShadow($02.coords,$e.coords);}else if($e.crosshairType!=='Disabled'){$e.$bT();};$e.$bU();var $66=ev.insideEvent;if(window.event){$66=window.event.srcElement.insideEvent;};if($e.cellBubble&&$e.coords&&$e.rowlist&&$e.rowlist.length>0&&!$66){var x=Math.floor($e.coords.x/$e.cellWidth);var y=$e.$9t($e.coords.y).i;if(0<=y&&y<$e.rowlist.length&&0<=x&&x<$e.itline.length){var $y={};$y.calendar=$e;$y.start=$e.itline[x].start;$y.end=$e.itline[x].end;$y.resource=$e.rowlist[y].id;$y.toJSON=function(){var $15={};$15.start=this.start;$15.end=this.end;$15.resource=this.resource;return $15;};$e.cellBubble.showCell($y);}};if(DayPilotScheduler.drag){$e.$b6();if(DayPilotScheduler.gShadow){document.body.removeChild(DayPilotScheduler.gShadow);};DayPilotScheduler.gShadow=null;if(!DayPilotScheduler.movingShadow&&$e.coords&&$e.rowlist.length>0){if(!DayPilotScheduler.moving){DayPilotScheduler.moving={};var event=DayPilotScheduler.drag.event;if(!event){var $67=$e.itline[0].start;$e.debug.message("external start:"+$67);var ev={'id':DayPilotScheduler.drag.id,'start':$67,'end':$67.addSeconds(DayPilotScheduler.drag.duration),'text':DayPilotScheduler.drag.text};event=new DayPilot.Event(ev);event.calendar=$e;};DayPilotScheduler.moving.event=event;};DayPilotScheduler.movingShadow=$e.$9D(DayPilotScheduler.moving,DayPilotScheduler.drag.shadowType);};ev.cancelBubble=true;};if($e.autoScroll==="Always"||($e.autoScroll==="Drag"&&(DayPilotScheduler.moving||DayPilotScheduler.resizing||DayPilotScheduler.range))){var $68=$e.nav.scroll;var $1l={x:$e.coords.x,y:$e.coords.y};$1l.x-=$68.scrollLeft;$1l.y-=$68.scrollTop;var $00=$68.clientWidth;var $U=$68.clientHeight;var $2B=20;var $w=$1l.x<$2B;var $x=$00-$1l.x<$2B;var top=$1l.y<$2B;var $R=$U-$1l.y<$2B;var x=0;var y=0;if($w){x=-5;};if($x){x=5;};if(top){y=-5;};if($R){y=5;};if(x||y){$e.$bV(x,y);}else{$e.$ba();}}};this.$bW=function(){var x,y;if($e.coords&&$e.rowlist&&$e.rowlist.length>0){x=$e.$8b($e.coords.x).x;y=$e.$9t($e.coords.y).i;if(y>=$e.rowlist.length){return;}}else{return;};var $s=this.$9J(y);var $0m=this.itline[x];var $y={};$y.x=x;$y.y=y;$y.start=$0m.start;$y.end=$0m.end;$y.resource=$s?$s.data.id:null;};this.$bU=function(){var $y=this.$bW();if(this.hover.cell){if(this.hover.cell.x===$y.x&&this.hover.cell.y===$y.y){return;};this.$bb();};this.hover.cell=$y;if(typeof this.onCellMouseOver==='function'){var $h={};$h.cell=$y;this.onCellMouseOver($h);}};this.$bb=function(){if(typeof this.onCellMouseOut==='function'){var $h={};$h.cell=this.hover.cell;this.onCellMouseOut($h);};this.hover.cell=null;};this.hover={};this.$bT=function(){var $y=this.$bW();if(this.hover.cell){if(this.hover.cell.x===$y.x&&this.hover.cell.y===$y.y){return;}};this.$bX();};this.$b6=function(){this.divCrosshair.innerHTML='';this.crosshairVertical=null;this.crosshairHorizontal=null;if(this.crosshairTop&&this.crosshairTop.parentNode){this.crosshairTop.parentNode.removeChild(this.crosshairTop);this.crosshairTop=null;};if(this.crosshairLeft){for(var i=0;i<this.crosshairLeft.length;i++){var ch=this.crosshairLeft[i];if(ch.parentNode){ch.parentNode.removeChild(ch);}};this.crosshairLeft=null;};this.$7d=-1;this.$7c=-1;};this.$bX=function(){var x,y;if($e.coords&&$e.rowlist&&$e.rowlist.length>0){x=$e.$8b($e.coords.x).x;y=$e.$9t($e.coords.y).i;if(y>=$e.rowlist.length){return;}}else{return;};var $A=this.crosshairType;var $s=$e.rowlist[y];if($A==='Full'){var $0m=this.itline[x];var $w=$0m.left;var $08=this.crosshairVertical;if(!$08){var $08=document.createElement("div");$08.style.height=$e.$7e+'px';$08.style.position='absolute';$08.style.top='0px';$08.style.backgroundColor=this.crosshairColor;$08.style.opacity=this.crosshairOpacity/100;$08.style.filter="alpha(opacity="+this.crosshairOpacity+")";this.crosshairVertical=$08;this.divCrosshair.appendChild($08);};$08.style.left=$w+'px';$08.style.width=$0m.width+'px';var top=$s.top;var $U=$s.height;var $00=this.$bc();var $08=this.crosshairHorizontal;if(!$08){var $08=document.createElement("div");$08.style.width=$00+'px';$08.style.height=$U+'px';$08.style.position='absolute';$08.style.top=top+'px';$08.style.left='0px';$08.style.backgroundColor=this.crosshairColor;$08.style.opacity=this.crosshairOpacity/100;$08.style.filter="alpha(opacity="+this.crosshairOpacity+")";this.crosshairHorizontal=$08;this.divCrosshair.appendChild($08);};$08.style.top=top+'px';$08.style.height=$U+'px';};var $69=this.$bY(this.coords.x);if($69&&this.$7d!==$69.x){if(this.crosshairTop&&this.crosshairTop.parentNode){this.crosshairTop.parentNode.removeChild(this.crosshairTop);this.crosshairTop=null;};var $08=document.createElement("div");$08.style.width=$69.cell.width+"px";$08.style.height=$Q.headerHeight()+"px";$08.style.left='0px';$08.style.top='0px';$08.style.position='absolute';$08.style.backgroundColor=this.crosshairColor;$08.style.opacity=this.crosshairOpacity/100;$08.style.filter="alpha(opacity="+this.crosshairOpacity+")";this.crosshairTop=$08;var $5M=this.divNorth;var $6a=this.timeHeader?this.timeHeader.length-1:1;if(this.nav.timeHeader){this.$7f.timeHeader[$69.x+"_"+$6a].appendChild($08);}else{if($5M.firstChild.rows[$6a].cells[x]){$5M.firstChild.rows[$6a].cells[x].firstChild.appendChild($08);}}};if(this.$7c!==y){if(this.crosshairLeft){for(var i=0;i<this.crosshairLeft.length;i++){var ch=this.crosshairLeft[i];if(ch.parentNode){ch.parentNode.removeChild(ch);}};this.crosshairLeft=null;};var $1g=this.rowHeaderCols?this.rowHeaderCols.length:1;this.crosshairLeft=[];if(this.divHeader.rows[y]){for(var i=0;i<this.divHeader.rows[y].cells.length;i++){var $00=$e.$7X();var $08=document.createElement("div");$08.style.width=$00+"px";$08.style.height=$s.height+"px";$08.style.left='0px';$08.style.top='0px';$08.style.position='absolute';$08.style.backgroundColor=this.crosshairColor;$08.style.opacity=this.crosshairOpacity/100;$08.style.filter="alpha(opacity="+this.crosshairOpacity+")";this.crosshairLeft.push($08);this.divHeader.rows[y].cells[i].firstChild.appendChild($08);}}};if($69){this.$7d=$69.x;};this.$7c=y;};this.$bY=function($r){var $0j=this.timeHeader[this.timeHeader.length-1];for(var i=0;i<$0j.length;i++){var $y=$0j[i];if($r>=$y.left&&$r<$y.left+$y.width){var $f={};$f.cell=$y;$f.x=i;return $f;}};return null;};this.$bf=function(ev){ev=ev||window.event;if($e.timeRangeSelectedHandling==='Disabled'){return false;};if(!$e.$bQ($e.coords)){$e.$bZ(ev);};if($e.contextMenuSelection){var $6b=$e.$bK(DayPilotScheduler.rangeHold);$e.contextMenuSelection.show($6b);};ev.cancelBubble=true;if(!$e.allowDefaultContextMenu){return false;}};this.$bQ=function($1l){var $0S=DayPilotScheduler.rangeHold;if(!$0S||!$0S.start||!$0S.end){return false;};var $s=this.$9J($0S.start.y);var $6c=$0S.start.x<$0S.end.x;var $6d=($6c?$0S.start.x:$0S.end.x)*this.cellWidth;var $6e=($6c?$0S.end.x:$0S.start.x)*this.cellWidth+this.cellWidth;var $6f=$s.top;var $6g=$s.bottom;if($1l.x>=$6d&&$1l.x<=$6e&&$1l.y>=$6f&&$1l.y<=$6g){return true;};return false;};this.$8X=function($0S){var $0S=$0S||DayPilotScheduler.range;var $5H=$0S.end.x>$0S.start.x?$0S.start.x:$0S.end.x;var $5I=($0S.end.x>$0S.start.x?$0S.end.x:$0S.start.x);this.$c0($5H,$5I,$0S.start.y);};this.$c0=function($5H,$5I,y){var $u=this.itline[$5H];var end=this.itline[$5I];var $w=$u.left;var $x=end.left+end.width;var $00=$x-$w;var $y=this.elements.range2;if(!$y){$y=document.createElement("div");$y.style.position='absolute';$y.setAttribute("unselectable","on");if(this.cssOnly){$y.className=this.$7U("_shadow");var $I=document.createElement("div");$I.className=this.$7U("_shadow_inner");$y.appendChild($I);}else{$y.style.backgroundColor=$e.cellSelectColor;};this.divRange.appendChild($y);};$y.style.left=($u.left)+"px";$y.style.top=this.rowlist[y].top+"px";$y.style.width=$00+"px";$y.style.height=(this.rowlist[y].height-1)+"px";this.elements.range2=$y;(function checkOverlap(){var $s=$e.rowlist[y];var $1m=$y;var $w=$u.left;$e.$a8($y,$s,$w,$00,null);})();(function(){var $0j=$e.$c1;if($0j&&$0j.start.getTime()===$u.start.getTime()&&$0j.end.getTime()===end.end.getTime()&&$0j.resource===$e.rowlist[y].id){return;};var $h={};$h.start=$u.start;$h.end=end.end;$h.resource=$e.rowlist[y].id;$h.left={};$h.left.html=$h.start.toString($e.timeRangeSelectingStartEndFormat);$h.left.enabled=$e.timeRangeSelectingStartEndEnabled;$h.right={};$h.right.html=$h.end.toString($e.timeRangeSelectingStartEndFormat);$h.right.enabled=$e.timeRangeSelectingStartEndEnabled;$e.$c1=$h;if(typeof $e.onTimeRangeSelecting==='function'){$e.onTimeRangeSelecting($h);};$e.$aa($y,$h);})();};this.$bZ=function(ev){if($e.timeRangeSelectedHandling==='Disabled'){return false;};ev=ev||window.event;var $5w=DayPilot.Util.mouseButton(ev);if(DayPilotScheduler.range){return;};if(DayPilotScheduler.rangeHold&&$e.$bQ($e.coords)&&($5w.right||$5w.middle)){return;};if($e.$a0($e.$9t($e.coords.y).i)){return;};var $0S={};var cx=$e.$8b($e.coords.x).x;$0S.start={y:$e.$9t($e.coords.y).i,x:cx};$0S.end={x:cx};$e.$8X($0S);var $5y=$e.$bK($0S);$e.$8W($5y.start,$5y.end,$5y.resource);DayPilotScheduler.rangeHold=$0S;};this.timeouts={};this.timeouts.drawEvents=null;this.timeouts.drawCells=null;this.timeouts.click=null;this.$8M=function(ev){$e.$7m();if($e.dynamicLoading){$e.$c2();return;};var $6h=$e.nav.scroll;$e.$bn=$6h.scrollLeft;$e.$bo=$6h.scrollTop;$e.$bp=$6h.clientWidth;$e.divTimeScroll.scrollLeft=$e.$bn;$e.divResScroll.scrollTop=$e.$bo;if($e.timeouts.drawEvents){clearTimeout($e.timeouts.drawEvents);$e.timeouts.drawEvents=null;};if($e.scrollDelayEvents>0){$e.timeouts.drawEvents=setTimeout($e.$c3(),$e.scrollDelayEvents);}else{var f=$e.$c3();f();};if($e.timeouts.drawCells){clearTimeout($e.timeouts.drawCells);$e.timeouts.drawCells=null;};if($e.scrollDelayCells>0){$e.timeouts.drawCells=setTimeout($e.$c4(),$e.scrollDelayCells);}else{var f=$e.$c4();f();};if($e.timeouts.updateFloats){clearTimeout($e.timeouts.updateFloats);$e.timeouts.updateFloats=null;};if($e.scrollDelayFloats>0){$e.timeouts.updateFloats=setTimeout(function(){$e.$7J();},$e.scrollDelayFloats);}else{$e.$7J();};$e.onScrollCalled=true;};this.$c5=function(){return function(){$e.$7I();$e.$7D();$e.refreshTimeout=window.setTimeout($e.$c3(),200);};};this.$c4=function(){return function(){$e.$7I();$e.$7D();};};this.$c3=function(){var $0N=true;var $6i=$e.dynamicEventRenderingCacheSweeping;var $6j=$e.dynamicEventRenderingCacheSize;return function(){if($e.$by()){$e.$9i();window.setTimeout(function(){if($6i)$e.$bv($6j);window.setTimeout(function(){$e.$7F($0N);},50);},50);}else{$e.$7Q();}};};this.$7m=function(){this.$7f.eventHeight=null;this.$7f.drawArea=null;};this.show=function(){$e.nav.top.style.display='';this.$9z();$e.$8M();};this.hide=function(){$e.nav.top.style.display='none';};this.$c2=function(){var $6h=$e.nav.scroll;$e.$bn=$6h.scrollLeft;$e.$bo=$6h.scrollTop;$e.$bp=$6h.clientWidth;$e.divTimeScroll.scrollLeft=$e.$bn;$e.divResScroll.scrollTop=$e.$bo;if($e.refreshTimeout){window.clearTimeout($e.refreshTimeout);};var $M=$e.scrollDelayDynamic;$e.refreshTimeout=window.setTimeout($e.$c6($6h.scrollLeft,$6h.scrollTop),$M);$e.$7J();};this.$c7=function(e){var $6k=e.id;for(var j=0;j<this.events.list.length;j++){var ex=this.events.list[j];var $6l=ex.id;if($6l===$6k){var $f={};$f.ex=ex;$f.index=j;$f.modified=!$e.$c8(e,ex);return $f;}};return null;};this.$c8=function($3P,$6m){for(var name in $3P){if(typeof $3P[name]==='object'){continue;};if($3P[name]!==$6m[name]){return false;}};for(var name in $6m){if(typeof $6m[name]==='object'){continue;};if($3P[name]!==$6m[name]){return false;}};return true;};this.$7G=function($3h,$6n){var $3e=[];for(var i=0;i<$3h.length;i++){var e=$3h[i];var $0f=$e.$c7(e);var $1u=$0f&&$0f.modified;var $3g=!$0f;if($1u){this.events.list[$0f.index]=e;var $0E=$e.events.$8u($0f.ex);$3e=$3e.concat($0E);}else if($3g){this.events.list.push(e);};if($1u||$3g){$3e=$3e.concat($e.events.$8v(e));}};$e.$8w($3e);$e.$8x();$e.$7v();$e.$7z();var $6o=false;if($6o){$e.$8y($3e,false,$6n);}else{$e.$7A();$e.$7x();$e.$7D();$e.$8R();var f=$e.$c3();f();}};this.$c6=function(scrollX,scrollY){if(!$e.$83()){return function(){if(typeof $e.onScroll==='function'){$e.$7D();var $1u=function($C){var $6n=function(){if($e.$7K()){if(typeof $e.onAfterRender==='function'){var $h={};$h.isCallBack=false;$h.isScroll=true;$h.data=null;$e.onAfterRender($h);}}};$e.$7G($C,$6n);};var $t=$e.$9o(scrollX,scrollY);var $0S=$e.$9p($t);var $18=$e.$9q($t);var $h={};$h.viewport={};$h.viewport.start=$0S.start;$h.viewport.end=$0S.end;$h.viewport.resources=$18;$h.async=false;$h.events=[];$h.loaded=function(){if(this.async){$1u(this.events);}};$e.onScroll($h);if(!$h.async){$1u($h.events);}}};}else{return function(){$e.scrollX=scrollX;$e.scrollY=scrollY;$e.$8h('Scroll');};}};this.$c9=function(){var $t=this.$7N();var $6p=$t.xStart;var $6q=$t.xEnd-$t.xStart;var $6r=$t.yStart;var $6s=$t.yEnd-$t.yStart;if(!this.cellProperties){this.cellProperties={};};for(var i=0;i<$6q;i++){var x=$6p+i;for(var j=0;j<$6s;j++){var y=$6r+j;if(!this.rowlist[y].hidden){this.$9U(x,y);}};this.$ca(x);};var $6t=this.$ae();for(var y=$6t.start;y<$6t.end;y++){if(!this.rowlist[y].hidden){this.$cb(y);}}};this.$7D=function(){if($e.progressiveRowRendering){this.$ao();};if(this.rowlist!==null&&this.rowlist.length>0){var $6u=this.cellSweeping;if($6u){var $6j=this.cellSweepingCacheSize;this.$bx($6j);};this.$c9();this.$cc();$0U.$aL();};var $00=this.$bc();this.$9y.style.height=this.$7e+"px";this.$9y.style.width=$00+"px";if($e.cellWidthSpec==="Auto"){$e.nav.scroll.style.overflowX="hidden";$e.nav.scroll.scrollLeft=0;}else{$e.nav.scroll.style.overflowX="auto";};this.$8O=false;};this.$cc=function(){var $t=this.$7N();for(var x=$t.xStart;x<$t.xEnd;x++){var $6v=(x<this.itline.length-1)?this.itline[x+1].breakBefore:false;if($6v){this.$cd(x);}}};this.$cd=function(x){var $0W="x"+x;if(this.$7f.breaks[$0W]){return;};var $w=this.itline[x+1].left-1;var $U=this.$7e;var $08=document.createElement("div");$08.style.left=$w+"px";$08.style.top="0px";$08.style.width="1px";$08.style.height=$U+"px";$08.style.fontSize='1px';$08.style.lineHeight='1px';$08.style.overflow='hidden';$08.style.position='absolute';$08.setAttribute("unselectable","on");if(this.cssOnly){$08.className=this.$7U("_matrix_vertical_break");}else{$08.style.backgroundColor=this.timeBreakColor;};this.divBreaks.appendChild($08);this.elements.breaks.push($08);this.$7f.breaks[$0W]=$08;};this.$7N=function(){if($e.$7f.drawArea){return $e.$7f.drawArea;};if(!this.nav.scroll){return null;};var $6w=30;var $6x=$e.$bo;var $t={};var $6y=Math.floor($e.$bn/this.cellWidth);var $6z=Math.ceil($e.$bp/this.cellWidth)+1;var $2O=this.$7V();var $u=$6y-$6w;var end=$u+2*$6w+$6z;end=Math.min(end,$2O);$u=Math.max($u,0);var $6r=this.$9t($6x).i;var $6A=this.$9t($6x+this.nav.scroll.offsetHeight).i;if($6A<this.rowlist.length){$6A++;};var $6s=$6A-$6r;$t.xStart=$u;$t.xEnd=end;$t.yStart=$6r;$t.yEnd=$6A;$t.pixels={};$t.pixels.left=this.nav.scroll.scrollLeft;$t.pixels.right=this.nav.scroll.scrollLeft+this.nav.scroll.clientWidth;$t.pixels.top=this.nav.scroll.scrollTop;$t.pixels.bottom=this.nav.scroll.scrollTop+this.nav.scroll.clientHeight;$t.pixels.width=this.nav.scroll.scrollWidth;$e.$7f.drawArea=$t;return $t;};this.$bc=function(){var $f=0;if(this.viewType==="Days"){$f=24*60/this.cellDuration*this.cellWidth;}else{var $0j=this.itline[this.itline.length-1];if(!$0j){$f=0;}else{$f=$0j.left+$0j.width;}};if($f<0||isNaN($f)){$f=0;};return $f;};this.$cb=function(y){var $0W="y"+y;if(this.$7f.linesHorizontal[y]){$e.debug.message("skiping horiz line: "+y);return;};var top=this.rowlist[y].top+this.rowlist[y].height-1;var $00=this.$bc();var $08=document.createElement("div");$08.style.left="0px";$08.style.top=top+"px";$08.style.width=$00+"px";$08.style.height="1px";$08.style.fontSize='1px';$08.style.lineHeight='1px';$08.style.overflow='hidden';$08.style.position='absolute';if(!this.cssOnly){$08.style.backgroundColor=this.cellBorderColor;};$08.setAttribute("unselectable","on");if(this.cssOnly){$08.className=this.$7U("_matrix_horizontal_line");};this.divLines.appendChild($08);this.$7f.linesHorizontal[$0W]=$08;};this.$ca=function(x){var $0m=this.itline[x];if(!$0m){return;};var $0W="x"+x;if(this.$7f.linesVertical[$0W]){return;};var $w=$0m.left+$0m.width-1;var $08=document.createElement("div");$08.style.left=$w+"px";$08.style.top="0px";$08.style.width="1px";$08.style.height=$e.$7e+"px";$08.style.fontSize='1px';$08.style.lineHeight='1px';$08.style.overflow='hidden';$08.style.position='absolute';if(!this.cssOnly){$08.style.backgroundColor=this.cellBorderColor;};$08.setAttribute("unselectable","on");if(this.cssOnly){$08.className=this.$7U("_matrix_vertical_line");};this.divLines.appendChild($08);this.elements.linesVertical.push($08);this.$7f.linesVertical[$0W]=$08;};this.$ce=function(x){var $0W="x"+x;var $U=this.$7e;if(this.$7f.cells[$0W]){return;};var $1A=this.$cf(x,0);var $6v=(x<this.itline.length-1)?this.itline[x+1].breakBefore:false;var $y=document.createElement("div");$y.style.left=(x*this.cellWidth)+"px";$y.style.top="0px";$y.style.width=(this.cellWidth)+"px";$y.style.height=$U+"px";$y.style.position='absolute';$y.style.backgroundColor=$1A;$y.setAttribute("unselectable","on");$y.className=this.cssOnly?this.$7U('_cellcolumn'):this.$7U('cellbackground');$y.onclick=this.$bZ;this.divCells.appendChild($y);this.elements.cells.push($y);this.$7f.cells[$0W]='1';};this.$a4=function($0W){var $s=this.rowlist[$0W];var $6B=!$s.expanded;this.rowlist[$0W].expanded=$6B;var $0E=this.$cg($0W,$s.expanded);if(!$6B){for(var i=0;i<$0E.length;i++){var ri=$0E[i];this.$8P(ri);}};this.$7v();this.$7t();this.$7z();this.$7m();if($6B){for(var i=0;i<$0E.length;i++){var ri=$0E[i];this.$8Q(ri);};this.$7Q();};this.$8R();$0K.load();this.$7A();this.$7D();this.$7I();var r=this.$96($s,$0W);if($6B){this.$9d(r);}else{this.$9c(r);};this.$7m();};this.$ax=function(i){var $0x={};$0x.index=i;if(typeof this.onLoadNode==='function'){var $h={};var $0R=this.rowlist[i].resource;$h.resource=$0R;$h.async=false;$h.loaded=function(){if(this.async){$0R.dynamicChildren=false;$0R.expanded=true;$e.update();}};this.onLoadNode($h);if(!$h.async){$0R.dynamicChildren=false;$0R.expanded=true;this.update();}}else{this.$8h('LoadNode',$0x);}};this.$cg=function(i,$6C){var $s=this.rowlist[i];var $4y=[];if($s.children===null||$s.children.length===0){return $4y;};for(var k=0;k<$s.children.length;k++){var $0W=$s.children[k];this.rowlist[$0W].hidden=$6C?!$s.expanded:true;if($6C===!this.rowlist[$0W].hidden){$4y.push($0W);};var $6D=this.$cg($0W,$6C);if($6D.length>0){$4y=$4y.concat($6D);}};return $4y;};this.$bV=function($6E,$6F){this.$ba();this.$ch($6E,$6F);};this.$ci=function($51){if(!$51){return false;};var $W=this.nav.scroll.scrollWidth;var $u=this.nav.scroll.scrollLeft;var $00=this.nav.scroll.clientWidth;var $x=$u+$00;if($51<0&&$u<=0){return false;};if($51>0&&$x>=$W){return false;};this.nav.scroll.scrollLeft+=$51;return true;};this.$cj=function($51){if(!$51){return false;};var $W=this.nav.scroll.scrollHeight;var $u=this.nav.scroll.scrollTop;var $U=this.nav.scroll.clientHeight;var $R=$u+$U;if($51<0&&$u<=0){return false;};if($51>0&&$R>=$W){return false;};this.nav.scroll.scrollTop+=$51;return true;};this.$ch=function($6E,$6F){var $6G=this.$ci($6E)||this.$cj($6F);if(!$6G){return;};var $6H=function($6E,$6F){return function(){$e.$ch($6E,$6F);};};this.scrolling=window.setTimeout($6H($6E,$6F),100);};this.$ba=function(){if(this.scrolling){window.clearTimeout(this.scrolling);this.scrolling=null;}};this.$7v=function(){var top=0;for(var i=0;i<this.rowlist.length;i++){var $s=this.rowlist[i];if(!$s.hidden){$s.top=top;top+=$s.height;}};this.$7e=top;};this.$7A=function(){this.elements.cells=[];this.elements.linesVertical=[];this.elements.breaks=[];this.$7f.cells=[];this.$7f.linesVertical=[];this.$7f.linesHorizontal=[];this.$7f.breaks=[];this.divCells.innerHTML='';this.divLines.innerHTML='';this.divBreaks.innerHTML='';};this.$ck=0;this.$9U=function(x,y){if(!this.$9M){return;};var $0m=this.itline[x];if(!$0m){return;};var $0W=x+'_'+y;if(this.$7f.cells[$0W]){return;};var p=this.$9V(x,y);if(typeof this.onBeforeCellRender==='function'){var $s=$e.rowlist[y];var $0R=$s.id;var $2s=$s.start.getTime()-this.$a7().getTime();var $u=$0m.start.addTime($2s);var end=$0m.end.addTime($2s);var $y=p;$y.resource=$0R;$y.start=$u;$y.end=end;$y.utilization=function(name){if(!$s.sections){$s.calculateUtilization();};return $s.sections.forRange($u,end).maxSum(name);};$y.events=function(){return $s.events.forRange($u,end);};var $h={};$h.cell=$y;this.onBeforeCellRender($h);};if(!this.drawBlankCells){var $6I=false;if(this.cssOnly&&this.$a1(y)){$6I=false;}else if(!this.$cl(p,['html','cssClass','backColor','backImage','backRepeat'])){$6I=true;};if($6I){return;}};var $y=document.createElement("div");$y.style.left=($0m.left)+"px";$y.style.top=this.rowlist[y].top+"px";$y.style.width=($0m.width)+"px";$y.style.height=(this.rowlist[y].height)+"px";$y.style.position='absolute';if(p&&p.backColor){$y.style.backgroundColor=p.backColor;};$y.setAttribute("unselectable","on");$y.className=this.cssOnly?this.$7U('_cell'):this.$7U('cellbackground');$y.coords={};$y.coords.x=x;$y.coords.y=y;if(this.cssOnly&&this.$a1(y)){DayPilot.Util.addClass($y,this.$7U("_cellparent"));};if(p){if(p.cssClass){if(this.cssOnly){DayPilot.Util.addClass($y,p.cssClass);}else{DayPilot.Util.addClass($y,$e.$7U(p.cssClass));}};if(p.html){$y.innerHTML=p.html;};if(p.backImage){$y.style.backgroundImage="url(\"" + p.backImage + "\")";};if(p.backRepeat){$y.style.backgroundRepeat=p.backRepeat;};if(p.business){DayPilot.Util.addClass($y,$e.$7U("_cell_business"));}};$y.onclick=this.$bZ;this.divCells.appendChild($y);this.elements.cells.push($y);this.$7f.cells[$0W]=$y;this.$ck+=1;};this.$cl=function($1j,$1v){if($1v){for(var i=0;i<$1v.length;i++){if($1j[$1v[i]]){return true;}}}else{for(var name in $1j){if($1j[name]){return true;}}};return false;};this.$cm=function(x,y){var $0m=this.itline[x];var $y=document.createElement("div");$y.style.left=($0m.left)+"px";$y.style.top=this.rowlist[y].top+"px";$y.style.width=($0m.width-1)+"px";$y.style.height=(this.rowlist[y].height-1)+"px";$y.style.position='absolute';$y.style.backgroundColor=$e.cellSelectColor;$y.setAttribute("unselectable","on");this.divRange.appendChild($y);this.elements.range.push($y);};this.clearSelection=function(){this.$7H();};this.cleanSelection=this.clearSelection;this.$7H=function(){this.divRange.innerHTML='<div style="position:absolute; left:0px; top:0px; width:0px; height:0px;"></div>';this.elements.range=[];this.elements.range2=null;this.$ab();DayPilotScheduler.rangeHold=null;};this.$9C={};var $Q=this.$9C;$Q.locale=function(){return DayPilot.Locale.find($e.locale);};$Q.timeFormat=function(){if($e.timeFormat!=='Auto'){return $e.timeFormat;};return $Q.locale().timeFormat;};$Q.weekStarts=function(){if($e.weekStarts==='Auto'){var $3Y=$Q.locale();if($3Y){return $3Y.weekStarts;}else{return 0;}}else{return $e.weekStarts;}};$Q.rounded=function(){return $e.eventCorners==='Rounded';};$Q.layout=function(){var $6J=/MSIE 6/i.test(navigator.userAgent);if($e.layout==='Auto'){if($6J){return 'TableBased';}else{return 'DivBased';}};return $e.layout;};$Q.notifyType=function(){var $A;if($e.notifyCommit==='Immediate'){$A="Notify";}else if($e.notifyCommit==='Queue'){$A="Queue";}else{throw "Invalid notifyCommit value: "+$e.notifyCommit;};return $A;};$Q.isResourcesView=function(){return $e.viewType!=='Days';};$Q.useBox=function($6K){if($e.useEventBoxes==='Always'){return true;};if($e.useEventBoxes==='Never'){return false;};return $6K<$e.cellDuration*60*1000;};$Q.eventHeight=function(){if($e.$7f.eventHeight){return $e.$7f.eventHeight;};var $U=$e.$bj("_event_height").height;if(!$U){$U=$e.eventHeight;};$e.$7f.eventHeight=$U;return $U;};$Q.headerHeight=function(){if($e.$7f.headerHeight){return $e.$7f.headerHeight;};var $U=$e.$bj("_header_height").height;if(!$U){$U=$e.headerHeight;};$e.$7f.headerHeight=$U;return $U;};$Q.splitterWidth=function(){if($e.rowHeaderScrolling){return $e.rowHeaderSplitterWidth;};return 1;};this.$cf=function(x,y){var $0W=x+'_'+y;if(this.cellProperties&&this.cellProperties[$0W]){return this.cellProperties[$0W].backColor;};return null;};this.$9V=function(x,y){var $0W=x+'_'+y;if(!this.cellProperties){this.cellProperties={};};if(this.cellProperties[$0W]){return this.cellProperties[$0W];};if(this.$79){this.cellProperties[$0W]=$e.$cn(x,y);};if(!this.cellProperties[$0W]){var $s=$e.rowlist[y];var $0R=$s.id;var $2s=$s.start.getTime()-$e.$a7().getTime();var $0m=$e.itline[x];var $u=$0m.start.addTime($2s);var end=$0m.end.addTime($2s);var $6L={};$6L.start=$u;$6L.end=end;$6L.resource=$0R;var $y={};$y.business=$e.isBusiness($6L);if(!this.cssOnly){$y.backColor=$y.business?this.cellBackColor:this.cellBackColorNonBusiness;};this.cellProperties[$0W]=$y;};return this.cellProperties[$0W];};this.$co=function($0X,x,y){var $0W=x+'_'+y;this.cellProperties[$0W]={};DayPilot.Util.copyProps($0X,this.cellProperties[$0W],['html','cssClass','backColor','backImage','backRepeat','business']);return this.cellProperties[$0W];};this.$cn=function(x,y){if(!this.cellConfig){return null;};var $6M=this.cellConfig;var $y=this.cellProperties[x+"_"+y];if(!$y&&$6M.vertical){$y=this.cellProperties[x+"_0"];};if(!$y&&$6M.horizontal){$y=this.cellProperties["0_"+y];};if(!$y&&$6M["default"]){$y=$6M["default"];};var $6N={};return DayPilot.Util.copyProps($y,$6N,['html','cssClass','backColor','backImage','backRepeat','business']);return $6N;};this.$7r=function(){if(this.$79){return;};if(!this.cellConfig){return;};var $6M=this.cellConfig;if($6M.vertical){for(var x=0;x<$6M.x;x++){var $6O=this.cellProperties[x+"_0"];if(!$6O){continue;};for(var y=1;y<$6M.y;y++){this.$co($6O,x,y);}}};if($6M.horizontal){for(var y=0;y<$6M.y;y++){var $6O=this.cellProperties["0_"+y];if(!$6O){continue;};for(var x=1;x<$6M.x;x++){this.$co($6O,x,y);}}};if($6M["default"]){var $6O=$6M["default"];for(var y=0;y<$6M.y;y++){for(var x=0;x<$6M.x;x++){if(!this.cellProperties[x+"_"+y]){this.$co($6O,x,y);}}}}};this.isBusiness=function($y){var $u=$y.start;var end=$y.end;var $09=(end.getTime()-$u.getTime())/(1000*60);if($09<=1440){if($y.start.dayOfWeek()===0||$y.start.dayOfWeek()===6){return false;}};if($09<720){if($y.start.getHours()<this.businessBeginsHour||$y.start.getHours()>=this.businessEndsHour){return false;}else{return true;}};return true;};this.$7w=function(){if(this.nav.top.style.visibility==='hidden'){this.nav.top.style.visibility='visible';}};this.$ah=function(){var el=$e.nav.top;return el.offsetWidth>0&&el.offsetHeight>0;};this.$cp=function(){var $5c=$e.$ah;if(!$5c()){$e.debug.message("Not visible during init, starting visibilityInterval");$e.$cq=setInterval(function(){if($5c()){$e.debug.message("Made visible, calling .show()");$e.show();$e.$ag();clearInterval($e.$cq);}},100);}};this.$cr=function($r){if(this.heightSpec!=="Parent100Pct"){this.heightSpec="Fixed";};this.height=$r-(this.$7W()+2);this.$7z();};this.setHeight=this.$cr;this.$7L=function(id){for(var i=0;i<this.rowlist.length;i++){if(this.rowlist[i].id===id){return this.rowlist[i];}};return null;};this.$aX=function(){if(this.id&&this.id.tagName){this.nav.top=this.id;}else if(typeof this.id==="string"){this.nav.top=document.getElementById(this.id);if(!this.nav.top){throw "DayPilot.Scheduler: The placeholder element not found: '"+id+"'.";}}else{throw "DayPilot.Scheduler() constructor requires the target element or its ID as a parameter";}};this.$cs=function(){this.$bi();this.$7q();this.$9z();this.$bl();this.$9x();DayPilotScheduler.register(this);this.$7k(this.afterRenderData,false);this.$bm();this.$cp();this.$7j();this.$8h('Init');};this.init=function(){this.$ct();};this.$ct=function(){this.$aX();if(this.nav.top.dp){return;};this.$aW();var $6P=this.$9K();if($6P){this.$cs();this.$9M=true;this.$7m();return;};this.$bl();this.$9x();DayPilotScheduler.register(this);this.$bm();this.$8B();if($e.scrollToDate){$e.scrollTo($e.scrollToDate);}else{$e.setScroll($e.scrollX,$e.scrollY);};var $6Q=function(){if($e.scrollY){$e.setScroll($e.scrollX,$e.scrollY);}};window.setTimeout($6Q,200);if(this.messageHTML){window.setTimeout(function(){$e.message($e.messageHTML);},100);};this.$cp();this.$7j();this.$9M=true;this.$7m();this.$7k(this.afterRenderData,false);this.debug.message("Init complete.");this.$cu();};this.$cv=function(){this.$aX();if(this.nav.top.dp){return;};var $6P=this.$9K();if($6P){this.$cs();this.$9M=true;this.$7m();return;};this.$bi();this.$aW();this.$9i();this.$7q();this.$7s();this.$7v();this.$7t();this.$7p();this.$7r();this.$7u();this.$7z();this.$7E();this.$aK(this.selectedRows);this.$bl();this.$9x();DayPilotScheduler.register(this);this.$bm();this.$7i();if($e.scrollToDate){$e.scrollTo($e.scrollToDate);}else{$e.setScroll($e.scrollX,$e.scrollY);};if(!$e.onScrollCalled){$e.$8M();};var $6Q=function(){if($e.scrollY){$e.setScroll($e.scrollX,$e.scrollY);}};window.setTimeout($6Q,200);if(this.messageHTML){var $6R=function($4T){return function(){$e.message($4T);};};window.setTimeout($6R(this.messageHTML),100);};this.$cp();this.$7j();this.$9M=true;this.$7m();this.$7k(this.afterRenderData,false);this.debug.message("Init complete.");this.$cu();};this.$cw=function(){this.$aX();if(this.nav.top.dp){return;};var $6P=this.$9K();if($6P){this.$cs();this.$9M=true;this.$7m();return;};this.$bi();this.$7p();this.$7q();this.$7r();this.$aW();this.$7o();this.$7u();this.$9i();this.$7s();this.$7v();this.$7t();this.$7z();this.$7E();this.$aK(this.selectedRows);this.$9z();this.$7w();this.$bl();this.$9x();DayPilotScheduler.register(this);this.$bm();this.$7i();if($e.scrollToDate){$e.scrollTo($e.scrollToDate);}else{$e.setScroll($e.scrollX,$e.scrollY);};if(!$e.onScrollCalled){$e.$8M();};var $6Q=function(){if($e.scrollY){$e.setScroll($e.scrollX,$e.scrollY);}};window.setTimeout($6Q,200);if(this.messageHTML){var $6R=function($4T){return function(){$e.message($4T);};};window.setTimeout($6R(this.messageHTML),100);};this.$cp();this.$7j();this.$9M=true;this.$7m();this.$7k(this.afterRenderData,false);this.debug.message("Init complete.");this.$cu();};this.$cx=null;this.$cy=function($d){var $6S={"events":{"preInit":function(){var $C=this.data;if(!$C){return;};if(DayPilot.isArray($C.list)){$e.events.list=$C.list;}else{$e.events.list=$C;}},"postInit":function(){}},"scrollTo":{"preInit":function(){},"postInit":function(){if(this.data){$e.scrollTo(this.data);}}}};this.$cx=$6S;for(var name in $d){if($6S[name]){var $D=$6S[name];$D.data=$d[name];if($D.preInit){$D.preInit();}}else{$e[name]=$d[name];}}};this.$cu=function(){var $6S=this.$cx;for(var name in $6S){var $D=$6S[name];if($D.postInit){$D.postInit();}}};this.temp={};this.temp.getPosition=function(){var x=Math.floor($e.coords.x/$e.cellWidth);var y=$e.$9t($e.coords.y).i;if(y<$e.rowlist.length){var $y={};$y.start=$e.itline[x].start;$y.end=$e.itline[x].end;$y.resource=$e.rowlist[y].id;return $y;}else{return null;}};this.internal={};this.internal.initialized=function(){return $e.$9M;};this.internal.invokeEvent=this.$8r;this.internal.eventMenuClick=this.$8V;this.internal.timeRangeMenuClick=this.$8Z;this.internal.resourceHeaderMenuClick=this.$91;this.internal.linkMenuClick=this.$90;this.internal.bubbleCallBack=this.$8T;this.internal.findEventDiv=this.$9I;this.internal.rowtools=this.$9a;this.internal.getNodeChildren=this.$9v;this.internal.callback=function(){$e.$8h.apply($e,arguments);};this.internal.createRowObject=this.$96;this.Init=this.init;this.$cy($d);};DayPilot.Row=function($s,$e){if(!$s){throw "Now row object supplied when creating DayPilot.Row";};if(!$e){throw "No parent control supplied when creating DayPilot.Row";};var $0W=DayPilot.indexOf($e.rowlist,$s);var r=this;r.isRow=true;r.menuType='resource';r.start=$s.start;r.name=$s.name;r.value=$s.id;r.id=$s.id;r.index=$0W;r.calendar=$e;r.$cz=$s;r.$={};r.$.row=$s;r.toJSON=function($3m){var $15={};$15.start=this.start;$15.name=this.name;$15.value=this.value;$15.id=this.id;$15.index=this.index;return $15;};r.events={};r.events.all=function(){var $B=[];for(var i=0;i<r.$cz.events.length;i++){$B.push(r.$cz.events[i]);};return DayPilot.list($B);};r.events.totalDuration=function(){var $0b=0;r.events.all().each(function($D){$0b+=$D.part.end.getTime()-$D.part.start.getTime();});return new DayPilot.TimeSpan($0b);};r.groups={};r.groups.collapseAll=function(){for(var i=0;i<r.$cz.blocks.length;i++){var $3r=r.$cz.blocks[i];var $6T=new $6U($3r);$6T.$cA();};$e.$8x();$e.$8y(r.index);$e.$7z();};r.groups.expandAll=function(){for(var i=0;i<r.$cz.blocks.length;i++){var $3r=r.$cz.blocks[i];var $6T=new $6U($3r);$6T.$cB();};$e.$8x();$e.$8y(r.index);$e.$7z();};r.groups.expanded=function(){var $B=[];for(var i=0;i<r.$cz.blocks.length;i++){var $3r=r.$cz.blocks[i];if($3r.expanded&&$3r.lines.length>$e.groupConcurrentEventsLimit){$B.push(new $6U($3r));}};return DayPilot.list($B);};r.groups.collapsed=function(){var $B=[];for(var i=0;i<r.$cz.blocks.length;i++){var $3r=r.$cz.blocks[i];if(!$3r.expanded){$B.push(new $6U($3r));}};return DayPilot.list($B);};r.groups.all=function(){var $B=[];for(var i=0;i<r.$cz.blocks.length;i++){var $3r=r.$cz.blocks[i];$B.push(new $6U($3r));};return DayPilot.list($B);};r.events.collapseGroups=r.groups.collapseAll;r.events.expandGroups=r.groups.expandAll;r.column=function(i){return new $6V(r,i);};r.toggle=function(){$e.$a4(r.index);};var $6U=function($3r){var $6W=function($3r){for(var i=0;i<$e.elements.events.length;i++){var $F=$e.elements.events[i];if($F.event===$3r){return $F;}};return null;};this.$cB=function(){$3r.expanded=true;var $F=$6W($3r);if($F){$e.$bu($F);var $5h=DayPilot.indexOf($e.elements.events,$F);if($5h!==-1){$e.elements.events.splice($5h,1);}}};this.expand=function(){this.$cB();$e.$8x();$e.$8y($3r.row.index);$e.$7z();};this.$cA=function(){if($3r.lines.length>$e.groupConcurrentEventsLimit){$3r.expanded=false;}};this.collapse=function(){this.$cA();$e.$8x();$e.$8y($3r.row.index);$e.$7z();};};var $6V=function($s,i){this.html=function($L){var $2R=$s.calendar.divHeader;var $y=$2R.rows[$s.index].cells[i];var $0V=$y.textDiv;$0V.innerHTML=$L;};};};DayPilotScheduler.moving=null;DayPilotScheduler.originalMouse=null;DayPilotScheduler.resizing=null;DayPilotScheduler.globalHandlers=false;DayPilotScheduler.timeRangeTimeout=null;DayPilotScheduler.selectedCells=null;DayPilotScheduler.dragStart=function(element,$0p,id,$0V,$A){DayPilot.us(element);var $6X=DayPilotScheduler.drag={};$6X.element=element;$6X.duration=$0p;$6X.text=$0V;$6X.id=id;$6X.shadowType=$A?$A:'Fill';return false;};DayPilot.Scheduler.makeDraggable=function($d){var element=$d.element;var $6Y=$d.keepElement?null:element;DayPilot.us(element);DayPilot.re(element,"mousedown",function(ev){DayPilotScheduler.dragStart($6Y,$d.duration,$d.id,$d.text);var element=(ev.target||ev.srcElement);if(element.tagName){var $6Z=element.tagName.toLowerCase();if($6Z==="textarea"||$6Z==="select"||$6Z==="input"){return false;}};ev.preventDefault&&ev.preventDefault();return false;});element.ontouchstart=function(ev){var $5x=0;window.setTimeout(function(){var $6X=DayPilotScheduler.drag={};$6X.element=$6Y;$6X.id=$d.id;$6X.text=$d.text||"";$6X.duration=$d.duration||60;$6X.shadowType="Fill";DayPilotScheduler.gTouchMove(ev);ev.preventDefault();},$5x);ev.preventDefault();};};DayPilotScheduler.dragStop=function(){if(DayPilotScheduler.gShadow){document.body.removeChild(DayPilotScheduler.gShadow);DayPilotScheduler.gShadow=null;};DayPilotScheduler.drag=null;};DayPilotScheduler.register=function($e){if(!DayPilotScheduler.registered){DayPilotScheduler.registered=[];};for(var i=0;i<DayPilotScheduler.registered.length;i++){if(DayPilotScheduler.registered[i]===$e){return;}};DayPilotScheduler.registered.push($e);};DayPilotScheduler.unregister=function($e){var a=DayPilotScheduler.registered;if(a){var i=DayPilot.indexOf(a,$e);if(i!==-1){a.splice(i,1);};if(a.length===0){a=null;}};if(!a){DayPilot.ue(document,'mousemove',DayPilotScheduler.gMouseMove);DayPilot.ue(document,'mouseup',DayPilotScheduler.gMouseUp);DayPilot.ue(document,'touchmove',DayPilotScheduler.gTouchMove);DayPilot.ue(document,'touchend',DayPilotScheduler.gTouchEnd);DayPilotScheduler.globalHandlers=false;}};DayPilotScheduler.gTouchMove=function(ev){if(DayPilotScheduler.drag){ev.preventDefault();var x=ev.touches[0].pageX;var y=ev.touches[0].pageY;var $5Y={};$5Y.x=x;$5Y.y=y;var $e=(function(){var $70=ev.touches[0].clientX;var $71=ev.touches[0].clientY;var el=document.elementFromPoint($70,$71);while(el&&el.parentNode){el=el.parentNode;if(el.daypilotMainD){return el.calendar;}};return false;})();if($e){if(DayPilotScheduler.gShadow){document.body.removeChild(DayPilotScheduler.gShadow);};DayPilotScheduler.gShadow=null;$e.coords=$e.$bI.relativeCoords(ev);if(!DayPilotScheduler.movingShadow&&$e.rowlist.length>0){if(!DayPilotScheduler.moving){DayPilotScheduler.moving={};var event=DayPilotScheduler.drag.event;if(!event){var $67=$e.itline[0].start;$e.debug.message("external start/touch:"+$67);var ev={'id':DayPilotScheduler.drag.id,'start':$67,'end':$67.addSeconds(DayPilotScheduler.drag.duration),'text':DayPilotScheduler.drag.text};event=new DayPilot.Event(ev);event.calendar=$e;};DayPilotScheduler.moving.event=event;};DayPilotScheduler.movingShadow=$e.$9D(DayPilotScheduler.moving,DayPilotScheduler.drag.shadowType);};if(DayPilotScheduler.moving){$e.$bI.updateMoving();}}else{DayPilot.de(DayPilotScheduler.movingShadow);DayPilotScheduler.moving=null;DayPilotScheduler.movingShadow=null;if(!DayPilotScheduler.gShadow){DayPilotScheduler.gShadow=DayPilotScheduler.createGShadow(DayPilotScheduler.drag.shadowType);};var $1m=DayPilotScheduler.gShadow;$1m.style.left=$5Y.x+'px';$1m.style.top=$5Y.y+'px';}}};DayPilotScheduler.gTouchEnd=function(ev){DayPilotScheduler.gMouseUp(ev);};DayPilotScheduler.gMouseMove=function(ev){if(typeof(DayPilotScheduler)==='undefined'){return;};ev=ev||window.event;if(ev.insideMainD){return;}else if(ev.srcElement){if(ev.srcElement.inside){return;}};var $5Y=DayPilot.mc(ev);if(DayPilotScheduler.drag){document.body.style.cursor='move';if(!DayPilotScheduler.gShadow){DayPilotScheduler.gShadow=DayPilotScheduler.createGShadow(DayPilotScheduler.drag.shadowType);};var $1m=DayPilotScheduler.gShadow;$1m.style.left=$5Y.x+'px';$1m.style.top=$5Y.y+'px';DayPilotScheduler.moving=null;if(DayPilotScheduler.movingShadow){DayPilotScheduler.movingShadow.calendar=null;DayPilot.de(DayPilotScheduler.movingShadow);DayPilotScheduler.movingShadow=null;}}else if(DayPilotScheduler.moving&&DayPilotScheduler.moving.event.calendar.dragOutAllowed&&!DayPilotScheduler.drag){var $72=DayPilotScheduler.moving.event.calendar;var ev=DayPilotScheduler.moving.event;DayPilotScheduler.moving.target=null;document.body.style.cursor='move';if(!DayPilotScheduler.gShadow){DayPilotScheduler.gShadow=DayPilotScheduler.createGShadow($72.shadow);};var $1m=DayPilotScheduler.gShadow;$1m.style.left=$5Y.x+'px';$1m.style.top=$5Y.y+'px';DayPilotScheduler.drag={};var $6X=DayPilotScheduler.drag;$6X.element=null;$6X.duration=(ev.end().getTime()-ev.start().getTime())/1000;$6X.text=ev.text();$6X.id=ev.value();$6X.shadowType=$72.shadow;$6X.event=ev;DayPilot.de(DayPilotScheduler.movingShadow);DayPilotScheduler.movingShadow.calendar=null;DayPilotScheduler.movingShadow=null;};for(var i=0;i<DayPilotScheduler.registered.length;i++){if(DayPilotScheduler.registered[i].$al){DayPilotScheduler.registered[i].$al();}}};DayPilotScheduler.gUnload=function(ev){if(!DayPilotScheduler.registered){return;};for(var i=0;i<DayPilotScheduler.registered.length;i++){var c=DayPilotScheduler.registered[i];DayPilotScheduler.unregister(c);}};DayPilotScheduler.gMouseUp=function(ev){if(DayPilotScheduler.resizing){if(!DayPilotScheduler.resizingShadow){document.body.style.cursor='';DayPilotScheduler.resizing=null;return;};var e=DayPilotScheduler.resizing.event;var $e=e.calendar;$e.$a6();var $0z=DayPilotScheduler.resizingShadow.start;var $0A=DayPilotScheduler.resizingShadow.end;var $2J=DayPilotScheduler.resizingShadow.overlapping;DayPilot.de(DayPilotScheduler.resizingShadow);DayPilotScheduler.resizing=null;DayPilotScheduler.resizingShadow=null;$e.$ab();document.body.style.cursor='';if($2J){return;};$e.$8s(e,$0z,$0A);}else if(DayPilotScheduler.moving){if(!DayPilotScheduler.movingShadow){document.body.style.cursor='';DayPilotScheduler.moving=null;return;};var e=DayPilotScheduler.moving.event;var $e=DayPilotScheduler.moving.target;if(!$e){DayPilot.de(DayPilotScheduler.movingShadow);DayPilotScheduler.movingShadow.calendar=null;document.body.style.cursor='';DayPilotScheduler.moving=null;return;};var $0z=DayPilotScheduler.movingShadow.start;var $0A=DayPilotScheduler.movingShadow.end;var $0B=($e.viewType!=='Days')?DayPilotScheduler.movingShadow.row.id:null;var external=DayPilotScheduler.drag?true:false;var $08=DayPilotScheduler.movingShadow.line;var $2J=DayPilotScheduler.movingShadow.overlapping;DayPilot.de(DayPilotScheduler.movingShadow);$e.$ab();if(DayPilotScheduler.drag){if(!$e.todo){$e.todo={};};$e.todo.del=DayPilotScheduler.drag.element;DayPilotScheduler.drag=null;};DayPilotScheduler.movingShadow.calendar=null;document.body.style.cursor='';DayPilotScheduler.moving=null;DayPilotScheduler.movingShadow=null;if($2J){return;};var ev=ev||window.event;$e.$8S(e,$0z,$0A,$0B,external,ev,$08);}else if(DayPilotScheduler.range){ev=ev||window.event;var $5w=DayPilot.Util.mouseButton(ev);var $0S=DayPilotScheduler.range;var $e=$0S.calendar;if(DayPilotScheduler.timeRangeTimeout){clearTimeout(DayPilotScheduler.timeRangeTimeout);DayPilotScheduler.timeRangeTimeout=null;$e.$bg(ev);return;};DayPilotScheduler.rangeHold=$0S;DayPilotScheduler.range=null;var $6H=function($5y){return function(){DayPilotScheduler.timeRangeTimeout=null;var $1m=$e.elements.range2;if($1m.overlapping){$e.clearSelection();return;};$e.$8W($5y.start,$5y.end,$5y.resource);if($e.timeRangeSelectedHandling!=="Hold"&&$e.timeRangeSelectedHandling!=="HoldForever"){$c();}else{DayPilotScheduler.rangeHold=$0S;}};};var $5y=$e.$bK($0S);if(!$5w.left){DayPilotScheduler.timeRangeTimeout=null;return;};if($e.timeRangeDoubleClickHandling==='Disabled'){$6H($5y)();var ev=ev||window.event;ev.cancelBubble=true;return false;}else{DayPilotScheduler.timeRangeTimeout=setTimeout($6H($5y),$e.doubleClickTimeout);}}else if($35.row){var $e=$35.calendar;if($e){$e.$aJ();}}else if($1s.source){var $e=$1s.calendar;$e.$9E.clearShadow();$e.$9E.hideLinkpoints();$1s.source=null;$1s.calendar=null;}else if(DayPilotScheduler.splitting){var $4A=DayPilotScheduler.splitting;$4A.cleanup();DayPilotScheduler.splitting=null;};if(DayPilotScheduler.drag){DayPilotScheduler.drag=null;document.body.style.cursor='';};if(DayPilotScheduler.gShadow){document.body.removeChild(DayPilotScheduler.gShadow);DayPilotScheduler.gShadow=null;};DayPilotScheduler.moveOffsetX=null;DayPilotScheduler.moveDragStart=null;};DayPilotScheduler.createGShadow=function($A){var $1m=document.createElement('div');$1m.setAttribute('unselectable','on');$1m.style.position='absolute';$1m.style.width='100px';$1m.style.height='20px';$1m.style.border='2px dotted #666666';$1m.style.zIndex=101;$1m.style.pointerEvents="none";if($A==='Fill'){$1m.style.backgroundColor="#aaaaaa";$1m.style.opacity=0.5;$1m.style.filter="alpha(opacity=50)";$1m.style.border='2px solid #aaaaaa';};document.body.appendChild($1m);return $1m;};var $35={};DayPilot.Global.rowmoving=$35;var $1s={};DayPilot.Global.linking=$1s;DayPilot.SchedulerVisible.dragStart=DayPilotScheduler.dragStart;DayPilot.SchedulerVisible.dragStop=DayPilotScheduler.dragStop;DayPilot.SchedulerVisible.Scheduler=DayPilotScheduler.Scheduler;DayPilot.SchedulerVisible.globalHandlers=DayPilotScheduler.globalHandlers;if(typeof jQuery!=='undefined'){(function($){$.fn.daypilotScheduler=function($d){var $3P=null;var j=this.each(function(){if(this.daypilot){return;};var $73=new DayPilot.Scheduler(this.id,$d);$73.init();this.daypilot=$73;if(!$3P){$3P=$73;}});if(this.length===1){return $3P;}else{return j;}};})(jQuery);};(function registerAngularModule(){var $74=DayPilot.am();if(!$74){return;};$74.directive("daypilotScheduler",function(){return{"restrict":"E","template":"<div id='{{id}};'></div>","compile":function compile(element,$75){element.replaceWith(this["template"].replace("{{id}};",$75["id"]));return function link($76,element,$75){var $e=new DayPilot.Scheduler(element[0]);$e.$9R.scope=$76;$e.init();var $77=$75["id"];if($77){$76[$77]=$e;};var $78=$76["$watch"];$78.call($76,$75["daypilotConfig"],function($45){for(var name in $45){$e[name]=$45[name];};$e.update();},true);$78.call($76,$75["daypilotEvents"],function($45){$e.events.list=$45;$e.$8B({"eventsOnly":true});},true);};}};});})();if(typeof Sys!=='undefined'&&Sys.Application&&Sys.Application.notifyScriptLoaded){Sys.Application.notifyScriptLoaded();}})();

