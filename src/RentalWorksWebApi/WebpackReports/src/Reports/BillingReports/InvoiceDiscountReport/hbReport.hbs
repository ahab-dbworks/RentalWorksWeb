<!--Invoice Discount Report-->
<div data-section="header" class="rpt-flexrow">
  <div class="rpt-flexcolumn">
    <span class="rpt-header-left">{{System}}</span>
  </div>
  <div class="rpt-flexcolumn">
    <span class="rpt-title">{{Report}}</span>
    <span class="rpt-header-center">Invoice From: {{FromDate}} To: {{ToDate}}</span>
  </div>
  <div class="rpt-flexcolumn">
    <span class="rpt-header-right">{{Company}}</span>
  </div>
</div>
<div data-section="table" class="rpt-flexrow" style="margin-top:40px;">
  <table>
    <thead id="columnHeader">
      <tr>
        <th data-linkedcolumn="InvoiceDate" data-valuefield="InvoiceDate" class="row1">Invoice Date</th>
        <th data-linkedcolumn="InvoiceNumber" data-valuefield="InvoiceNumber" class="row1">Invoice No.</th>
        <th data-linkedcolumn="OrderNumber" data-valuefield="OrderNumber" class="row1">Order No.</th>
        <th data-linkedcolumn="Agent" data-valuefield="Agent" class="row1">Agent</th>
        <th data-linkedcolumn="Deal" data-valuefield="Deal" class="row1">Deal</th>
        <th data-linkedcolumn="DealNumber" data-valuefield="DealNumber" class="row1">Deal No.</th>
        <th data-linkedcolumn="InvoiceGrossTotal" data-valuefield="InvoiceGrossTotal" class="row1 number">Gross Total</th>
        <th data-linkedcolumn="DiscountAmountWithDaysPerWeek" data-valuefield="DiscountAmountWithDaysPerWeek" class="row1 number">Discount Amount (with D/W)</th>
        <th data-linkedcolumn="DiscountPercent" data-valuefield="DiscountPercent" class="row1 number">Discount Percent (with D/W)</th>
        <th data-linkedcolumn="TotalActual" data-valuefield="TotalActual" class="row1 number">Total Actual</th>
        <th data-linkedcolumn="DiscountLinesOfTotal" data-valuefield="DiscountLinesOfTotal" class="row1 number">Discount Lines (≥ {{DiscountPercent}}%)</th>
        <th data-linkedcolumn="DiscountReason" data-valuefield="DiscountReason" class="row1 number">Discount Reason</th>
      </tr>
    </thead>
    <tbody>
      {{#each this}}
      {{#ifEquals RowType "OfficeLocationheader"}}
      <tr data-row="header" data-rowtype="{{RowType}}">
        <td colspan="3" class="header-row">Office: {{OfficeLocation}}</td>
      </tr>
      {{/ifEquals}}
      {{#ifEquals RowType "Departmentheader"}}
      <tr data-row="header" data-rowtype="{{RowType}}">
        <td colspan="3" class="lower header-row">Department: {{Department}}</td>
      </tr>
      {{/ifEquals}}
      {{#ifEquals RowType "detail"}}
      <tr data-row="detail" data-rowtype="{{RowType}}">
        <td data-linkedcolumn="InvoiceDate" data-value="{{InvoiceDate}}"></td>
        <td data-linkedcolumn="InvoiceNumber" data-value="{{InvoiceNumber}}"></td>
        <td data-linkedcolumn="OrderNumber" data-value="{{OrderNumber}}"></td>
        <td data-linkedcolumn="Agent" data-value="{{Agent}}"></td>
        <td data-linkedcolumn="Deal" data-value="{{Deal}}"></td>
        <td data-linkedcolumn="DealNumber" data-value="{{DealNumber}}"></td>
        <td data-linkedcolumn="InvoiceGrossTotal" class="number" data-value="{{InvoiceGrossTotal}}"></td>
        <td data-linkedcolumn="DiscountAmountWithDaysPerWeek" class="number" data-value="{{DiscountAmountWithDaysPerWeek}}"></td>
        <td data-linkedcolumn="DiscountPercent" class="number" data-value="{{DiscountPercent}}"></td>
        <td data-linkedcolumn="TotalActual" class="number" data-value="{{TotalActual}}"></td>
        <td data-linkedcolumn="DiscountLinesOfTotal" class="number" data-value="{{DiscountLinesOfTotal}}"></td>
        <td data-linkedcolumn="DiscountReason" class="number" data-value="{{DiscountReason}}"></td>
      </tr>
      {{/ifEquals}}
      {{#ifEquals RowType "Departmentfooter"}}
      <tr data-row="footer" data-rowtype="{{RowType}}">
        <td colspan="6" class="total-name">{{Department}}&nbsp;</td>
        <td data-linkedcolumn="InvoiceGrossTotal" class="total-val" data-value="{{InvoiceGrossTotal}}"></td>
        <td data-linkedcolumn="DiscountAmountWithDaysPerWeek" class="total-val" data-value="{{DiscountAmountWithDaysPerWeek}}"></td>
        <td data-linkedcolumn="TotalActual" class="total-val" data-value="{{TotalActual}}"></td>
      </tr>
      {{/ifEquals}}
      {{#ifEquals RowType "OfficeLocationfooter"}}
      <tr data-row="footer" data-rowtype="{{RowType}}">
        <td colspan="6" class="total-name">{{OfficeLocation}}&nbsp;</td>
        <td data-linkedcolumn="InvoiceGrossTotal" class="total-val" data-value="{{InvoiceGrossTotal}}"></td>
        <td data-linkedcolumn="DiscountAmountWithDaysPerWeek" class="total-val" data-value="{{DiscountAmountWithDaysPerWeek}}"></td>
        <td data-linkedcolumn="TotalActual" class="total-val" data-value="{{TotalActual}}"></td>
      </tr>
      {{/ifEquals}}
      {{#ifEquals RowType "grandtotal"}}
      <tr data-row="footer" data-rowtype="{{RowType}}">
        <td colspan="6" class="total-name">Grand Total:&nbsp;</td>
        <td data-linkedcolumn="InvoiceGrossTotal" class="total-val" data-value="{{InvoiceGrossTotal}}"></td>
        <td data-linkedcolumn="DiscountAmountWithDaysPerWeek" class="total-val" data-value="{{DiscountAmountWithDaysPerWeek}}"></td>
        <td data-linkedcolumn="TotalActual" class="total-val" data-value="{{TotalActual}}"></td>
      </tr>
      {{/ifEquals}}
      {{/each}}
    </tbody>
  </table>
</div>