/*
DayPilot Pro
Copyright (c) 2005 - 2014 Annpoint s.r.o.
http://www.daypilot.org/
Use of this software is subject to license terms.
Version: 1338
*/
if(typeof DayPilot==='undefined'){var DayPilot={};};if(typeof DayPilot.Global==='undefined'){DayPilot.Global={};};if(typeof DayPilotCalendar==='undefined'){var DayPilotCalendar=DayPilot.CalendarVisible={};};(function(){if(typeof DayPilot.Calendar!=='undefined'){return;};DayPilot.Calendar=function(id,$a){this.v='1338';var $b=false;if(this instanceof DayPilot.Calendar&&!this.$3R){$b=true;this.$3R=true;};if(!$b){throw "DayPilot.Calendar() is a constructor and must be called as 'var c = new DayPilot.Calendar(id);'";};var $c=this;this.uniqueID=null;this.id=id;this.isCalendar=true;this.api=2;this.clientName=id;this.clientState={};this.$3S={};this.$3S.pixels={};this.$3S.events=[];this.elements={};this.elements.events=[];this.elements.separators=[];this.nav={};this.events={};this.hideUntilInit=true;this.$3T=true;this.allDayEventBorderColor="#000000";this.allDayEventFontFamily='Tahoma';this.allDayEventFontSize='8pt';this.allDayEventFontColor="#000000";this.allDayEventHeight=25;this.allowEventOverlap=true;this.allowMultiSelect=true;this.autoRefreshCommand='refresh';this.autoRefreshEnabled=false;this.autoRefreshInterval=60;this.autoRefreshMaxCount=20;this.borderColor="#000000";this.businessBeginsHour=9;this.businessEndsHour=18;this.cellBackColor="#FFFFD5";this.cellBackColorNonBusiness="#FFF4BC";this.cellBorderColor="#999999";this.cellHeight=20;this.cellDuration=30;this.columnMarginRight=5;this.columnWidth=200;this.columnWidthSpec="Auto";this.cornerBackColor="#ECE9D8";this.cornerHtml='';this.crosshairColor='Gray';this.crosshairOpacity=20;this.crosshairType="Header";this.cssOnly=true;this.dayBeginsHour=0;this.dayEndsHour=24;this.days=1;this.deleteImageUrl=null;this.durationBarColor='blue';this.durationBarVisible=true;this.durationBarWidth=5;this.durationBarImageUrl=null;this.eventArrangement="SideBySide";this.eventBackColor='#ffffff';this.eventBorderColor="#000000";this.eventFontFamily='Tahoma';this.eventFontSize='8pt';this.eventFontColor="#000000";this.eventSelectColor='blue';this.headerFontSize='10pt';this.headerFontFamily='Tahoma';this.headerFontColor="#000000";this.headerHeight=20;this.headerLevels=1;this.height=300;this.heightSpec='BusinessHours';this.hideFreeCells=false;this.headerDateFormat=null;this.hourHalfBorderColor="#F3E4B1";this.hourBorderColor="#EAD098";this.hourFontColor="#000000";this.hourFontFamily="Tahoma";this.hourFontSize="16pt";this.hourNameBackColor="#ECE9D8";this.hourNameBorderColor="#ACA899";this.hourWidth=45;this.initScrollPos=null;this.loadingLabelText="Loading...";this.loadingLabelVisible=true;this.loadingLabelBackColor="orange";this.loadingLabelFontColor="#ffffff";this.loadingLabelFontFamily="Tahoma";this.loadingLabelFontSize="10pt";this.locale="en-us";this.messageHideAfter=5000;this.moveBy="Full";this.notifyCommit='Immediate';this.numberFormat=null;this.roundedCorners=false;this.rtl=false;this.selectedColor="#316AC5";this.shadow='Fill';this.showToolTip=true;this.showAllDayEvents=false;this.showAllDayEventStartEnd=true;this.showEventStartEnd=false;this.showHeader=true;this.showHours=true;this.showCurrentTime=true;this.startDate=new DayPilot.Date().getDatePart();this.cssClassPrefix="calendar_default";this.timeFormat='Auto';this.timeHeaderCellDuration=60;this.useEventBoxes='Always';this.useEventSelectionBars=false;this.viewType='Days';this.eventClickHandling='Enabled';this.eventDoubleClickHandling='Enabled';this.eventRightClickHandling='ContextMenu';this.eventDeleteHandling='Disabled';this.eventEditHandling='Update';this.eventHoverHandling='Bubble';this.eventResizeHandling='Update';this.eventMoveHandling='Update';this.eventSelectHandling='Update';this.eventTapAndHoldHandling='Move';this.headerClickHandling='Enabled';this.timeRangeTapAndHoldHandling='Select';this.timeRangeSelectedHandling='Enabled';this.timeRangeDoubleClickHandling="Enabled";this.$3U=true;this.$3V=false;this.autoRefreshCount=0;this.doubleClickTimeout=300;this.members={};this.members.obsolete=["Init","cleanSelection","cssClassPrefix"];this.members.ignore=["internal","nav","debug","temp","elements","members"];this.members.noCssOnly=["allDayEventBorderColor","allDayEventFontColor","allDayEventFontFamily","allDayEventFontSize","borderColor","cellBackColor","cellBackColorNonBusiness","cellBorderColor","cornerBackColor","durationBarColor","eventBackColor","eventBorderColor","eventFontColor","eventFontFamily","eventFontSize","eventSelectColor","headerFontColor","headerFontFamily","headerFontSize","hourBorderColor","hourFontColor","hourFontFamily","hourFontSize","hourHalfBorderColor","hourNameBackColor","hourNameBorderColor","loadingLabelBackColor","loadingLabelFontColor","loadingLabelFontFamily","loadingLabelFontSize","selectedColor","useEventSelectionBars"];this.$3W={};this.$3W.ie=(navigator&&navigator.userAgent&&navigator.userAgent.indexOf("MSIE")!==-1);this.$3W.ie9=(navigator&&navigator.userAgent&&navigator.userAgent.indexOf("MSIE 9")!==-1);this.$3W.ielt9=(function(){var $d=document.createElement("div");$d.innerHTML="<!--[if lt IE 9]><i></i><![endif]-->";var $e=($d.getElementsByTagName("i").length===1);return $e;})();this.$3W.ff=(navigator&&navigator.userAgent&&navigator.userAgent.indexOf("Firefox")!==-1);this.$3W.opera105=(function(){if(/Opera[\/\s](\d+\.\d+)/.test(navigator.userAgent)){var v=new Number(RegExp.$1);return v>=10.5;};return false;})();this.$3W.webkit522=(function(){if(/AppleWebKit[\/\s](\d+\.\d+)/.test(navigator.userAgent)){var v=new Number(RegExp.$1);return v>=522;};return false;})();this.clearSelection=function(){if(!this.selectedCells){this.selectedCells=[];return;};this.$3X();this.selectedCells=[];};this.$3X=function(){if(!this.selectedCells){return;};for(var j=0;j<this.selectedCells.length;j++){var $f=this.selectedCells[j];if($f){if($f.selected){$f.removeChild($f.selected);$f.firstChild.style.display='';$f.selected=null;}}}};this.cleanSelection=this.clearSelection;this.$3Y=function($g,$h,$i){var $j={};$j.action=$g;$j.parameters=$i;$j.data=$h;$j.header=this.$3Z();var $k="JSON"+DayPilot.JSON.stringify($j);__doPostBack($c.uniqueID,$k);};this.$40=function($g,$i,$h,$l){if(!this.$41()){$c.debug.message("Callback invoked without the server-side backend specified. Callback canceled.","warning");return;};if(this.callbackTimeout){window.clearTimeout(this.callbackTimeout);};if(typeof $l==='undefined'){$l="CallBack";};this.callbackTimeout=window.setTimeout(function(){$c.$42();},100);var $j={};$j.action=$g;$j.type=$l;$j.parameters=$i;$j.data=$h;$j.header=this.$3Z();var $k="JSON"+DayPilot.JSON.stringify($j);if(this.backendUrl){DayPilot.request(this.backendUrl,this.$43,$k,this.$44);}else if(typeof WebForm_DoCallback==='function'){WebForm_DoCallback(this.uniqueID,$k,this.$45,this.clientName,this.onCallbackError,true);}};this.$41=function(){if(this.backendUrl){return true;};if(typeof WebForm_DoCallback==='function'&&this.uniqueID){return true;};return false;};this.$44=function($m){if(typeof $c.onAjaxError==='function'){var $n={};$n.request=$m;$c.onAjaxError($n);}else if(typeof $c.ajaxError==='function'){$c.ajaxError($m);}};this.dispose=function(){var c=$c;if(!c.nav.top){return;};c.$46();c.$47();if(c.nav.messageClose){c.nav.messageClose.onclick=null;};if(c.nav.hourTable)c.nav.hourTable.oncontextmenu=null;if(c.nav.hourTable)c.nav.hourTable.onmousemove=null;if(c.nav.header)c.nav.header.oncontextmenu=null;if(c.nav.corner)c.nav.corner.oncontextmenu=null;c.nav.zoom.onmousemove=null;c.nav.scroll.onscroll=null;c.nav.scroll.root=null;DayPilot.pu(c.nav.loading);c.$48();c.$49();c.nav.select=null;c.nav.cornerRight=null;c.nav.scrollable=null;c.nav.bottomLeft=null;c.nav.bottomRight=null;c.nav.allday=null;c.nav.zoom=null;c.nav.loading=null;c.nav.events=null;c.nav.header=null;c.nav.hourTable=null;c.nav.scrolltop=null;c.nav.scroll=null;c.nav.vsph=null;c.nav.main=null;c.nav.message=null;c.nav.messageClose=null;c.nav.top.removeAttribute("style");c.nav.top.removeAttribute("class");c.nav.top.innerHTML='';c.nav.top.dp=null;c.nav.top=null;DayPilot.ue(window,'resize',c.$4a);DayPilotCalendar.unregister(c);};this.$4b=function(){this.nav.top.dispose=this.dispose;};this.$43=function($o){$c.$45($o.responseText);};this.$3Z=function(){var h={};h.v=this.v;h.control="dpc";h.id=this.id;h.clientState=$c.clientState;h.columns=this.$4c();h.days=$c.days;h.startDate=$c.startDate;h.cellDuration=$c.cellDuration;h.cssOnly=$c.cssOnly;h.cssClassPrefix=$c.cssClassPrefix;h.heightSpec=$c.heightSpec;h.businessBeginsHour=$c.businessBeginsHour;h.businessEndsHour=$c.businessEndsHour;h.viewType=$c.viewType;h.dayBeginsHour=$c.dayBeginsHour;h.dayEndsHour=$c.dayEndsHour;h.headerLevels=$c.headerLevels;h.backColor=$c.cellBackColor;h.nonBusinessBackColor=$c.cellBackColorNonBusiness;h.eventHeaderVisible=$c.eventHeaderVisible;h.timeFormat=$c.timeFormat;h.timeHeaderCellDuration=$c.timeHeaderCellDuration;h.locale=$c.locale;h.showAllDayEvents=$c.showAllDayEvents;h.tagFields=$c.tagFields;h.hourNameBackColor=$c.hourNameBackColor;h.hourFontFamily=$c.hourFontFamily;h.hourFontSize=$c.hourFontSize;h.hourFontColor=$c.hourFontColor;h.selected=$c.multiselect.events();h.hashes=$c.hashes;return h;};this.$4d=function(){this.$4e();DayPilot.Areas.hideAll();};this.$4c=function(){var $p=[];$p.ignoreToJSON=true;if(!this.columns){return $p;};for(var i=0;i<this.columns.length;i++){var $q=this.columns[i];var $r=this.$4f($q);$p.push($r);};return $p;};this.$4f=function($q){var $r={};$r.Value=$q.id;$r.Name=$q.name;$r.ToolTip=$q.toolTip;$r.Date=$q.start;$r.Children=this.$4g($q.children);return $r;};this.$4g=function($s){var $t=[];$t.ignoreToJSON=true;if(!$s){return $t;};for(var i=0;i<$s.length;i++){$t.push(this.$4f($s[i]));};return $t;};this.$45=function($u,$v){var $u=eval("("+$u+")");if($u.BubbleGuid){var $w=$u.BubbleGuid;var $x=this.bubbles[$w];delete this.bubbles[$w];$c.$4h();if(typeof $u.Result.BubbleHTML!=='undefined'){$x.updateView($u.Result.BubbleHTML,$x);};return;};if($u.CallBackRedirect){document.location.href=$u.CallBackRedirect;return;};if(typeof $u.ClientState!=='undefined'){$c.clientState=$u.ClientState;};if($u.UpdateType==="None"){$c.$4h();$c.$4i($u.CallBackData,true);if($u.Message){$c.message($u.Message);};return;};if($u.VsUpdate){var $y=document.createElement("input");$y.type='hidden';$y.name=$c.id+"_vsupdate";$y.id=$y.name;$y.value=$u.VsUpdate;$c.nav.vsph.innerHTML='';$c.nav.vsph.appendChild($y);};$c.$47();$c.multiselect.clear(true);$c.multiselect.$4j=$u.SelectedEvents;if(typeof $u.TagFields!=='undefined'){$c.tagFields=$u.TagFields;};if(typeof $u.SortDirections!=='undefined'){$c.sortDirections=$u.SortDirections;};if($u.UpdateType==="Full"){$c.colors=$u.Colors;$c.palette=$u.Palette;$c.dirtyColors=$u.DirtyColors;$c.cellProperties=$u.CellProperties;$c.cellConfig=$u.CellConfig;$c.columns=$u.Columns;$c.days=$u.Days;$c.startDate=new DayPilot.Date($u.StartDate).getDatePart();$c.cellDuration=$u.CellDuration;$c.heightSpec=$u.HeightSpec?$u.HeightSpec:$c.heightSpec;$c.businessBeginsHour=$u.BusinessBeginsHour?$u.BusinessBeginsHour:$c.businessBeginsHour;$c.businessEndsHour=$u.BusinessEndsHour?$u.BusinessEndsHour:$c.businessEndsHour;$c.viewType=$u.ViewType;$c.headerLevels=$u.HeaderLevels;$c.backColor=$u.BackColor?$u.BackColor:$c.backColor;$c.nonBusinessBackColor=$u.NonBusinessBackColor?$u.NonBusinessBackColor:$c.nonBusinessBackColor;$c.eventHeaderVisible=$u.EventHeaderVisible?$u.EventHeaderVisible:$c.eventHeaderVisible;$c.timeFormat=$u.TimeFormat?$u.TimeFormat:$c.timeFormat;$c.timeHeaderCellDuration=typeof $u.TimeHeaderCellDuration!=='undefined'?$u.TimeHeaderCellDuration:$c.timeHeaderCellDuration;$c.locale=$u.Locale?$u.Locale:$c.locale;$c.dayBeginsHour=typeof $u.DayBeginsHour!=='undefined'?$u.DayBeginsHour:$c.dayBeginsHour;$c.dayEndsHour=typeof $u.DayEndsHour!=='undefined'?$u.DayEndsHour:$c.dayEndsHour;$c.cornerBackColor=$u.CornerBackColor;$c.cornerHtml=$u.CornerHTML;$c.hours=$u.Hours;$c.$4k();$c.$4l();};if($u.Hashes){for(var $z in $u.Hashes){$c.hashes[$z]=$u.Hashes[$z];}};$c.$4m($u.Events);$c.$4n();if($u.UpdateType==="Full"||$c.hideFreeCells){$c.$4o();$c.$4p();$c.$4q();$c.$4r();$c.$4s();$c.$4t();$c.$4u();$c.$4v();$c.clearSelection();};$c.$4w();$c.$4x();$c.$4y();if($c.heightSpec==="Parent100Pct"){$c.$4a();};if($c.timeRangeSelectedHandling!=="HoldForever"){$c.clearSelection();};$c.$4z();if($c.todo){if($c.todo.del){var $A=$c.todo.del;$A.parentNode.removeChild($A);$c.todo.del=null;}};$c.$4i($u.CallBackData,true);$c.$4h();$c.$4A();if($u.Message){$c.message($u.Message);}};this.$4i=function($h,$B){var $C=function($h,$D){return function(){if($c.$4B()){if(typeof $c.onAfterRender==='function'){var $n={};$n.isCallBack=$D;$n.data=$h;$c.onAfterRender($n);}}else{if($c.afterRender){$c.afterRender($h,$D);}}};};window.setTimeout($C($h,$B),0);};this.$4C=function($E,$F,$l){var $G=$c.nav.events;var $H=$G.clientWidth/$G.rows[0].cells.length;var i=Math.floor($c.coords.x/$H);if(i<0){i=0;};if($c.rtl){i=$c.$4D.length-i-1;};var $q=$G.rows[0].cells[i];var $I=0;var $J=0;var top=0;if(typeof $E.duration!=='undefined'){var $K=$E.duration;top=Math.floor((($c.coords.y-$I)+$c.cellHeight/ 2)/ $c.cellHeight)*$c.cellHeight+$I;$J=$K*$c.cellHeight/(60*$c.cellDuration);$J=Math.max($J,$c.cellHeight);}else{var e=$E.event;$J=e.part.height;top=e.part.top;};var $L=document.createElement('div');$L.setAttribute('unselectable','on');$L.style.position='absolute';$L.style.width='100%';$L.style.height=$J+'px';$L.style.left='0px';$L.style.top=top+'px';$L.style.zIndex=101;$L.exclude=true;var $M=document.createElement("div");$L.appendChild($M);if(this.cssOnly){$L.className=$c.$4E("_shadow");$M.className=this.$4E("_shadow_inner");};if(!this.cssOnly){$M.style.position="absolute";$M.style.top="0px";$M.style.bottom="0px";$M.style.left="0px";$M.style.right="0px";if($l==='Fill'){$M.style.backgroundColor="#aaaaaa";$M.style.opacity=0.5;$M.style.filter="alpha(opacity=50)";$M.style.border='2px solid #aaaaaa';}else{$M.style.border='2px dotted #666666';};if(this.roundedCorners){$M.style.MozBorderRadius="5px";$M.style.webkitBorderRadius="5px";$M.style.borderRadius="5px";}};$q.events.appendChild($L);return $L;};this.$4F=function(){return this.$4G()/(3600*1000);};this.$4H=function(){if(this.businessBeginsHour>this.businessEndsHour){return 24-this.businessBeginsHour+this.businessEndsHour;}else{return this.businessEndsHour-this.businessBeginsHour;}};this.$4I=function(){if(this.dayBeginsHour>=this.dayEndsHour){return 24-this.dayBeginsHour+this.dayEndsHour;}else{return this.dayEndsHour-this.dayBeginsHour;}};this.$4G=function($N){var $O=0;if(this.heightSpec==='BusinessHoursNoScroll'){$O=this.$4H();}else if(this.hideFreeCells&&!$N){var $P=(this.$4J-1)*this.cellDuration/this.cellHeight;var $Q=Math.ceil($P/60);var $R=this.businessBeginsHour>this.businessEndsHour?this.businessEndsHour+24:this.businessEndsHour;$O=Math.max(this.dayBeginsHour+$Q,$R)-this.$4K();}else{$O=this.$4I();};return $O*60*60*1000;};this.message=function($S,$T,$U,$V){if(!$S){return;};var $T=$T||this.messageHideAfter||2000;var $U=$U||"#ffffff";var $V=$V||"#000000";var $W=0.8;var $d;var top=this.$4L();var $X=this.showHours?this.hourWidth:0;var $Y=DayPilot.sw($c.nav.scroll);if(!this.cssOnly){top+=1;$X+=2;$Y-=2;};if($c.rtl){var $Z=$X;$X=$Y;$Y=$Z;};if(!this.nav.message){$d=document.createElement("div");$d.style.position="absolute";$d.style.left=($X)+"px";$d.style.top=(top)+"px";$d.style.right="0px";$d.style.display='none';$d.onmousemove=function(){if($d.messageTimeout&&!$d.status){clearTimeout($d.messageTimeout);}};$d.onmouseout=function(){if($c.nav.message.style.display!=='none'){$d.messageTimeout=setTimeout($c.$4M,500);}};var $M=document.createElement("div");$M.onclick=function(){$c.nav.message.style.display='none';};if(!this.cssOnly){$M.style.padding="5px";$M.style.opacity=$W;$M.style.filter="alpha(opacity="+($W*100)+")";}else{$M.className=this.$4E("_message");};$d.appendChild($M);var close=document.createElement("div");close.style.position="absolute";if(!this.cssOnly){close.style.top="5px";close.style.right=(DayPilot.sw($c.nav.scroll)+5)+"px";close.style.color=$U;close.style.lineHeight="100%";close.style.cursor="pointer";close.style.fontWeight="bold";close.innerHTML="X";}else{close.className=this.$4E("_message_close");};close.onclick=function(){$c.nav.message.style.display='none';};$d.appendChild(close);this.nav.top.insertBefore($d,this.nav.loading);this.nav.message=$d;this.nav.messageClose=close;}else{$d=$c.nav.message;this.nav.message.style.top=top+"px";};if(this.nav.cornerRight){this.nav.message.style.right=$Y+"px";}else{this.nav.message.style.right="0px";};var $00=function(){var $M=$c.nav.message.firstChild;if(!$c.cssOnly){$M.style.padding="5px";$M.style.opacity=$W;$M.style.backgroundColor=$V;$M.style.color=$U;};$M.innerHTML=$S;var end=function(){$d.messageTimeout=setTimeout($c.$4M,$T);};DayPilot.fade($c.nav.message,0.2,end);};clearTimeout($d.messageTimeout);if(this.nav.message.style.display!=='none'){DayPilot.fade($c.nav.message,-0.2,$00);}else{$00();}};this.message.show=function($S){$c.message($S);};this.message.hide=function(){$c.$4M();};this.$4M=function(){var end=function(){$c.nav.message.style.display='none';};DayPilot.fade($c.nav.message,-0.2,end);};this.$4r=function(){if(this.nav.message){this.nav.message.style.top=(this.$4L())+"px";}};this.$4N=function(){return this.$4G()/(60*1000*this.cellDuration);};this.eventClickPostBack=function(e,$h){this.$3Y('EventClick',$h,e);};this.eventClickCallBack=function(e,$h){this.$40('EventClick',e,$h);};this.$4O=function(e){var $d=this;var e=e||window.event;var $01=e.ctrlKey;if(typeof(DayPilot.Bubble)!=='undefined'){DayPilot.Bubble.hideActive();};if($c.eventDoubleClickHandling==='Disabled'){$c.$4P($d,$01);return;};if(!$c.timeouts){$c.timeouts=[];}else{for(var $02 in $c.timeouts){window.clearTimeout($c.timeouts[$02]);};$c.timeouts=[];};var $03=function($d,$01){return function(){$c.$4P($d,$01);};};$c.timeouts.push(window.setTimeout($03(this,$01),$c.doubleClickTimeout));};this.$4P=function($04,$01){var e=$04.event;if(!e.client.clickEnabled()){return;};if($c.$4B()){var $n={};$n.e=e;$n.preventDefault=function(){this.preventDefault.value=true;};if(typeof $c.onEventClick==='function'){$c.onEventClick($n);if($n.preventDefault.value){return;}};switch($c.eventClickHandling){case 'PostBack':$c.eventClickPostBack(e);break;case 'CallBack':$c.eventClickCallBack(e);break;case 'Edit':$c.$4Q($04);break;case 'Select':$c.$4R($04,e,$01);break;case 'Bubble':if($c.bubble){$c.bubble.showEvent(e);};break;case 'ContextMenu':var $05=e.client.contextMenu();if($05){$05.show(e);}else{if($c.contextMenu){$c.contextMenu.show(e);}};break;};if(typeof $c.onEventClicked==='function'){$c.onEventClicked($n);}}else{switch($c.eventClickHandling){case 'PostBack':$c.eventClickPostBack(e);break;case 'CallBack':$c.eventClickCallBack(e);break;case 'JavaScript':$c.onEventClick(e);break;case 'Edit':$c.$4Q($04);break;case 'Select':$c.$4R($04,e,$01);break;case 'Bubble':if($c.bubble){$c.bubble.showEvent(e);};break;case 'ContextMenu':var $05=e.client.contextMenu();if($05){$05.show(e);}else{if($c.contextMenu){$c.contextMenu.show(e);}};break;}}};this.eventDoubleClickPostBack=function(e,$h){this.$3Y('EventDoubleClick',$h,e);};this.eventDoubleClickCallBack=function(e,$h){this.$40('EventDoubleClick',e,$h);};this.$4S=function(ev){if(typeof(DayPilotBubble)!=='undefined'){DayPilotBubble.hideActive();};if($c.timeouts){for(var $02 in $c.timeouts){window.clearTimeout($c.timeouts[$02]);};$c.timeouts=null;};var e=this.event;var ev=ev||window.event;if($c.$4B()){var $n={};$n.e=e;$n.preventDefault=function(){this.preventDefault.value=true;};if(typeof $c.onEventDoubleClick==='function'){$c.onEventDoubleClick($n);if($n.preventDefault.value){return;}};switch($c.eventDoubleClickHandling){case 'PostBack':$c.eventDoubleClickPostBack(e);break;case 'CallBack':$c.eventDoubleClickCallBack(e);break;case 'Edit':if(!e.allday()){$c.$4Q(this);};break;case 'Select':if(!e.allday()){$c.$4R(this,e,ev.ctrlKey);};break;case 'Bubble':if($c.bubble){$c.bubble.showEvent(e);};break;};if(typeof $c.onEventDoubleClicked==='function'){$c.onEventDoubleClicked($n);}}else{switch($c.eventDoubleClickHandling){case 'PostBack':$c.eventDoubleClickPostBack(e);break;case 'CallBack':$c.eventDoubleClickCallBack(e);break;case 'JavaScript':$c.onEventDoubleClick(e);break;case 'Edit':if(!e.allday()){$c.$4Q(this);};break;case 'Select':if(!e.allday()){$c.$4R(this,e,ev.ctrlKey);};break;case 'Bubble':if($c.bubble){$c.bubble.showEvent(e);};break;}}};this.eventRightClickPostBack=function(e,$h){this.$3Y('EventRightClick',$h,e);};this.eventRightClickCallBack=function(e,$h){this.$40('EventRightClick',e,$h);};this.$4T=function(ev){var e=this.event;if(!e.client.rightClickEnabled()){return false;};if($c.$4B()){var $n={};$n.e=e;$n.preventDefault=function(){this.preventDefault.value=true;};if(typeof $c.onEventRightClick==='function'){$c.onEventRightClick($n);if($n.preventDefault.value){return;}};switch($c.eventRightClickHandling){case 'PostBack':$c.eventRightClickPostBack(e);break;case 'CallBack':$c.eventRightClickCallBack(e);break;case 'ContextMenu':var $05=e.client.contextMenu();if($05){$05.show(e);}else{if($c.contextMenu){$c.contextMenu.show(this.event);}};break;case 'Bubble':if($c.bubble){$c.bubble.showEvent(e);};break;};if(typeof $c.onEventRightClicked==='function'){$c.onEventRightClicked($n);}}else{switch($c.eventRightClickHandling){case 'PostBack':$c.eventRightClickPostBack(e);break;case 'CallBack':$c.eventRightClickCallBack(e);break;case 'JavaScript':$c.onEventRightClick(e);break;case 'ContextMenu':var $05=e.client.contextMenu();if($05){$05.show(e);}else{if($c.contextMenu){$c.contextMenu.show(this.event);}};break;case 'Bubble':if($c.bubble){$c.bubble.showEvent(e);};break;}};return false;};this.headerClickPostBack=function(c,$h){this.$3Y('HeaderClick',$h,c);};this.headerClickCallBack=function(c,$h){this.$40('HeaderClick',c,$h);};this.$4U=function($E){var $h=this.data;var c=new DayPilotCalendar.Column($h.id,$h.name,$h.start);if($c.$4B()){var $n={};$n.header={};$n.header.id=$h.id;$n.header.name=$h.name;$n.header.start=$h.start;$n.preventDefault=function(){this.preventDefault.value=true;};if(typeof $c.onHeaderClick==='function'){$c.onHeaderClick($n);if($n.preventDefault.value){return;}};switch($c.headerClickHandling){case 'PostBack':$c.headerClickPostBack(c);break;case 'CallBack':$c.headerClickCallBack(c);break;};if(typeof $c.onHeaderClicked==='function'){$c.onHeaderClicked($n);}}else{switch($c.headerClickHandling){case 'PostBack':$c.headerClickPostBack(c);break;case 'CallBack':$c.headerClickCallBack(c);break;case 'JavaScript':$c.onHeaderClick(c);break;}}};this.$4V=function(){if(typeof(DayPilotBubble)!=='undefined'&&$c.columnBubble){if($c.viewType==="Resources"){var $06={};$06.calendar=$c;$06.id=this.data.id;$06.toJSON=function(){var $07={};$07.id=this.id;return $07;};$c.columnBubble.showResource($06);}else{var $08=new DayPilot.Date(this.data.start);var end=$08.addDays(1);var $09={};$09.calendar=$c;$09.start=$08;$09.end=end;$09.toJSON=function(){var $07={};$07.start=this.start;$07.end=this.end;return $07;};$c.columnBubble.showTime($09);}};var $f=this;var $d=$f.firstChild;if(!$d.active){var $h=$f.data;var c=new DayPilotCalendar.Column($h.id,$h.name,$h.start);c.areas=$f.data.areas;DayPilot.Areas.showAreas($d,c);}};this.$4W=function(ev){if(typeof(DayPilotBubble)!=='undefined'&&$c.columnBubble){$c.columnBubble.hideOnMouseOut();};DayPilot.Areas.hideAreas(this.firstChild,ev);};this.eventDeletePostBack=function(e,$h){this.$3Y('EventDelete',$h,e);};this.eventDeleteCallBack=function(e,$h){this.$40('EventDelete',e,$h);};this.$4X=function($E){var e;if($E&&$E.isEvent){e=$E;}else{e=$E.parentNode.parentNode.event;};if($c.$4B()){var $n={};$n.e=e;$n.preventDefault=function(){this.preventDefault.value=true;};if(typeof $c.onEventDelete==='function'){$c.onEventDelete($n);if($n.preventDefault.value){return;}};switch($c.eventDeleteHandling){case 'PostBack':$c.eventDeletePostBack(e);break;case 'CallBack':$c.eventDeleteCallBack(e);break;case 'Update':$c.events.remove(e);break;};if(typeof $c.onEventDeleted==='function'){$c.onEventDeleted($n);}}else{switch($c.eventDeleteHandling){case 'PostBack':$c.eventDeletePostBack(e);break;case 'CallBack':$c.eventDeleteCallBack(e);break;case 'JavaScript':$c.onEventDelete(e);break;}}};this.eventResizePostBack=function(e,$0a,$0b,$h){if(!$0a){throw 'newStart is null';};if(!$0b){throw 'newEnd is null';};var $0c={};$0c.e=e;$0c.newStart=$0a;$0c.newEnd=$0b;this.$3Y('EventResize',$h,$0c);};this.eventResizeCallBack=function(e,$0a,$0b,$h){if(!$0a)throw 'newStart is null';if(!$0b)throw 'newEnd is null';var $0c={};$0c.e=e;$0c.newStart=$0a;$0c.newEnd=$0b;this.$40('EventResize',$0c,$h);};this.$4Y=function($l,$g,$0c,$h){if($l==='PostBack'){$c.postBack2($g,$0c,$h);}else if($l==='CallBack'){$c.$40($g,$0c,$h,"CallBack");}else if($l==='Immediate'){$c.$40($g,$0c,$h,"Notify");}else if($l==='Queue'){$c.queue.add(new DayPilot.Action(this,$g,$0c,$h));}else if($l==='Notify'){if($0d.notifyType()==='Notify'){$c.$40($g,$0c,$h,"Notify");}else{$c.queue.add(new DayPilot.Action($c,$g,$0c,$h));}}else{throw "Invalid event invocation type";}};this.$4K=function($N){if(this.heightSpec==='BusinessHoursNoScroll'){return this.businessBeginsHour;}else if(this.hideFreeCells&&!$N){var $P=(this.$4Z)*this.cellDuration/this.cellHeight;var $Q=Math.floor($P/60);$Q=Math.max(0,$Q);return Math.min(this.dayBeginsHour+$Q,this.businessBeginsHour);}else{return this.dayBeginsHour;}};this.$4B=function(){return $c.api===2;};this.$50=function(e,$0e,$0f,$0g){if(this.eventResizeHandling==='Disabled'){return;};var $I=0;var $0a=new Date();var $0b=new Date();var $08=e.start();var end=e.end();var $0h=$c.cellDuration;var $0i=$c.$4D[e.part.dayIndex].start;if($0g==='top'){var $0i=$08.getDatePart();var $0j=Math.floor(($0f-$I)/$c.cellHeight);var $0k=$0j*$0h;var ts=$0k*60*1000;var $0l=$c.$4K()*60*60*1000;$0a=$0i.addTime(ts+$0l);$0b=e.end();}else if($0g==='bottom'){var $0j=Math.floor(($0f+$0e-$I)/$c.cellHeight);var $0k=$0j*$0h;var ts=$0k*60*1000;var $0l=$c.$4K()*60*60*1000;$0a=$08;$0b=$0i.addTime(ts+$0l);};if($c.$4B()){var $n={};$n.e=e;$n.newStart=$0a;$n.newEnd=$0b;$n.preventDefault=function(){this.preventDefault.value=true;};if(typeof $c.onEventResize==='function'){$c.onEventResize($n);if($n.preventDefault.value){return;}};switch($c.eventResizeHandling){case 'PostBack':$c.eventResizePostBack(e,$0a,$0b);break;case 'CallBack':$c.eventResizeCallBack(e,$0a,$0b);break;case 'Notify':$c.eventResizeNotify(e,$0a,$0b);break;case 'Update':e.start($0a);e.end($0b);$c.events.update(e);break;};if(typeof $c.onEventResized==='function'){$c.onEventResized($n);}}else{switch($c.eventResizeHandling){case 'PostBack':$c.eventResizePostBack(e,$0a,$0b);break;case 'CallBack':$c.eventResizeCallBack(e,$0a,$0b);break;case 'JavaScript':$c.onEventResize(e,$0a,$0b);break;case 'Notify':$c.eventResizeNotify(e,$0a,$0b);break;}}};this.eventResizeNotify=function(e,$0a,$0b,$h){var $0m=new DayPilot.Event(e.copy(),this);e.start($0a);e.end($0b);e.commit();$c.update();this.$51("Notify",$0m,$0a,$0b,$h);};this.$51=function($l,e,$0a,$0b,$h){var $0c={};$0c.e=e;$0c.newStart=$0a;$0c.newEnd=$0b;this.$4Y($l,"EventResize",$0c,$h);};this.eventMovePostBack=function(e,$0a,$0b,$0n,$h){if(!$0a)throw 'newStart is null';if(!$0b)throw 'newEnd is null';var $0c={};$0c.e=e;$0c.newStart=$0a;$0c.newEnd=$0b;$0c.newResource=$0n;this.$3Y('EventMove',$h,$0c);};this.eventMoveCallBack=function(e,$0a,$0b,$0n,$h){if(!$0a)throw 'newStart is null';if(!$0b)throw 'newEnd is null';var $0c={};$0c.e=e;$0c.newStart=$0a;$0c.newEnd=$0b;$0c.newResource=$0n;this.$40('EventMove',$0c,$h);};this.$52=function(e,$0o,$0f,ev,$0p){if($c.eventMoveHandling==='Disabled'){return;};var $I=0;var $0j=Math.floor(($0f-$I)/$c.cellHeight);var $0h=$c.cellDuration;var $0q=$0j*$0h*60*1000;var $08=e.start();var end=e.end();var $0i=new Date();if($08.isDayPilotDate){$08=$08.d;};$0i.setTime(Date.UTC($08.getUTCFullYear(),$08.getUTCMonth(),$08.getUTCDate()));var $0r=($c.useEventBoxes!=='Never')?$08.getTime()-($0i.getTime()+$08.getUTCHours()*3600*1000+Math.floor($08.getUTCMinutes()/$0h)*$0h*60*1000):0;var length=end.getTime()-$08.getTime();var $0l=$c.$4K()*3600*1000;var $0s=this.$4D[$0o];var $0t=$0s.start.getTime();var $0u=new Date();$0u.setTime($0t+$0q+$0r+$0l);var $0a=new DayPilot.Date($0u);var $0b=$0a.addTime(length);var external=!!$0p;var $0n=$0s.id;if($c.$4B()){var $n={};$n.e=e;$n.newStart=$0a;$n.newEnd=$0b;$n.newResource=$0n;$n.external=external;$n.ctrl=false;if(ev){$n.ctrl=ev.ctrlKey;};$n.shift=false;if(ev){$n.shift=ev.shiftKey;};$n.preventDefault=function(){this.preventDefault.value=true;};if(typeof $c.onEventMove==='function'){$c.onEventMove($n);if($n.preventDefault.value){return;}};switch($c.eventMoveHandling){case 'PostBack':$c.eventMovePostBack(e,$0a,$0b,$0n);break;case 'CallBack':$c.eventMoveCallBack(e,$0a,$0b,$0n);break;case 'Notify':$c.eventMoveNotify(e,$0a,$0b,$0n);break;case 'Update':e.start($0a);e.end($0b);e.resource($0n);if(external){e.commit();$c.events.add(e);}else{$c.events.update(e);};$c.$53();break;};if(typeof $c.onEventMoved==='function'){$c.onEventMoved($n);}}else{switch($c.eventMoveHandling){case 'PostBack':$c.eventMovePostBack(e,$0a,$0b,$0n);break;case 'CallBack':$c.eventMoveCallBack(e,$0a,$0b,$0n);break;case 'JavaScript':$c.onEventMove(e,$0a,$0b,$0n,external,ev?ev.ctrlKey:false,ev?ev.shiftKey:false);break;case 'Notify':$c.eventMoveNotify(e,$0a,$0b,$0n,null);break;}}};this.eventMoveNotify=function(e,$0a,$0b,$0n,$h){var $0m=new DayPilot.Event(e.copy(),this);e.start($0a);e.end($0b);e.resource($0n);e.commit();$c.update();this.$54("Notify",$0m,$0a,$0b,$0n,$h);};this.$54=function($l,e,$0a,$0b,$0n,$h){var $0c={};$0c.e=e;$0c.newStart=$0a;$0c.newEnd=$0b;$0c.newResource=$0n;this.$4Y($l,"EventMove",$0c,$h);};this.$53=function(){if($c.todo){if($c.todo.del){var $A=$c.todo.del;$A.parentNode.removeChild($A);$c.todo.del=null;}}};this.$55=function($n,$x){var $w=$c.$56($x);var $0c={};$0c.args=$n;$0c.guid=$w;$c.$40("Bubble",$0c);};this.$56=function($x){var $w=DayPilot.guid();if(!this.bubbles){this.bubbles=[];};this.bubbles[$w]=$x;return $w;};this.eventMenuClickPostBack=function(e,$0v,$h){var $0c={};$0c.e=e;$0c.command=$0v;this.$3Y('EventMenuClick',$h,$0c);};this.eventMenuClickCallBack=function(e,$0v,$h){var $0c={};$0c.e=e;$0c.command=$0v;this.$40('EventMenuClick',$0c,$h);};this.$57=function($0v,e,$0w){switch($0w){case 'PostBack':$c.eventMenuClickPostBack(e,$0v);break;case 'CallBack':$c.eventMenuClickCallBack(e,$0v);break;}};this.timeRangeMenuClickPostBack=function(e,$0v,$h){var $0c={};$0c.selection=e;$0c.command=$0v;this.$3Y("TimeRangeMenuClick",$h,$0c);};this.timeRangeMenuClickCallBack=function(e,$0v,$h){var $0c={};$0c.selection=e;$0c.command=$0v;this.$40("TimeRangeMenuClick",$0c,$h);};this.$58=function($0v,e,$0w){switch($0w){case 'PostBack':$c.timeRangeMenuClickPostBack(e,$0v);break;case 'CallBack':$c.timeRangeMenuClickCallBack(e,$0v);break;}};this.timeRangeSelectedPostBack=function($08,end,$0x,$h){var $0y={};$0y.start=$08;$0y.end=end;$0y.resource=$0x;this.$3Y('TimeRangeSelected',$h,$0y);};this.timeRangeSelectedCallBack=function($08,end,$0x,$h){var $0y={};$0y.start=$08;$0y.end=end;$0y.resource=$0x;this.$40('TimeRangeSelected',$0y,$h);};this.$59=function($08,end,$q){if(!$08.isDayPilotDate){$08=new DayPilot.Date($08);};if(!end.isDayPilotDate){end=new DayPilot.Date(end);};var $0x=$q;if($c.$4B()){var $n={};$n.start=$08;$n.end=end;$n.resource=$0x;$n.preventDefault=function(){this.preventDefault.value=true;};if(typeof $c.onTimeRangeSelect==='function'){$c.onTimeRangeSelect($n);if($n.preventDefault.value){return;}};switch($c.timeRangeSelectedHandling){case 'PostBack':$c.timeRangeSelectedPostBack($08,end,$0x);break;case 'CallBack':$c.timeRangeSelectedCallBack($08,end,$0x);break;};if(typeof $c.onTimeRangeSelected==='function'){$c.onTimeRangeSelected($n);}}else{switch($c.timeRangeSelectedHandling){case 'PostBack':$c.timeRangeSelectedPostBack($08,end,$q);break;case 'CallBack':$c.timeRangeSelectedCallBack($08,end,$q);break;case 'JavaScript':$c.onTimeRangeSelected($08,end,$q);break;}}};this.timeRangeDoubleClickPostBack=function($08,end,$q,$h){var $0y={};$0y.start=$08;$0y.end=end;$0y.resource=$q;this.$3Y('TimeRangeDoubleClick',$h,$0y);};this.timeRangeDoubleClickCallBack=function($08,end,$q,$h){var $0y={};$0y.start=$08;$0y.end=end;$0y.resource=$q;this.$40('TimeRangeDoubleClick',$0y,$h);};this.$5a=function($08,end,$q){if($c.$4B()){var $0x=$q;var $n={};$n.start=$08;$n.end=end;$n.resource=$0x;$n.preventDefault=function(){this.preventDefault.value=true;};if(typeof $c.onTimeRangeDoubleClick==='function'){$c.onTimeRangeDoubleClick($n);if($n.preventDefault.value){return;}};switch($c.timeRangeDoubleClickHandling){case 'PostBack':$c.timeRangeDoubleClickPostBack($08,end,$0x);break;case 'CallBack':$c.timeRangeDoubleClickCallBack($08,end,$0x);break;};if(typeof $c.onTimeRangeDoubleClicked==='function'){$c.onTimeRangeDoubleClicked($n);}}else{switch($c.timeRangeDoubleClickHandling){case 'PostBack':$c.timeRangeDoubleClickPostBack($08,end,$q);break;case 'CallBack':$c.timeRangeDoubleClickCallBack($08,end,$q);break;case 'JavaScript':$c.onTimeRangeDoubleClick($08,end,$q);break;}}};this.eventEditPostBack=function(e,$0z,$h){var $0c={};$0c.e=e;$0c.newText=$0z;this.$3Y("EventEdit",$h,$0c);};this.eventEditCallBack=function(e,$0z,$h){var $0c={};$0c.e=e;$0c.newText=$0z;this.$40("EventEdit",$0c,$h);};this.$5b=function(e,$0z){if($c.$4B()){var $n={};$n.e=e;$n.newText=$0z;$n.preventDefault=function(){this.preventDefault.value=true;};if(typeof $c.onEventEdit==='function'){$c.onEventEdit($n);if($n.preventDefault.value){return;}};switch($c.eventEditHandling){case 'PostBack':$c.eventEditPostBack(e,$0z);break;case 'CallBack':$c.eventEditCallBack(e,$0z);break;case 'Update':e.text($0z);$c.events.update(e);break;};if(typeof $c.onEventEdited==='function'){$c.onEventEdited($n);if($n.preventDefault.value){return;}}}else{switch($c.eventEditHandling){case 'PostBack':$c.eventEditPostBack(e,$0z);break;case 'CallBack':$c.eventEditCallBack(e,$0z);break;case 'JavaScript':$c.onEventEdit(e,$0z);break;}}};this.eventSelectPostBack=function(e,$0A,$h){var $0c={};$0c.e=e;$0c.change=$0A;this.$3Y('EventSelect',$h,$0c);};this.eventSelectCallBack=function(e,$0A,$h){var $0c={};$0c.e=e;$0c.change=$0A;this.$40('EventSelect',$0c,$h);};this.$5c=function($d,e,$01){if($c.$4B()){var m=$c.multiselect;m.previous=m.events();var $n={};$n.e=e;$n.selected=m.isSelected(e);$n.ctrl=$01;$n.preventDefault=function(){this.preventDefault.value=true;};if(typeof $c.onEventSelect==='function'){$c.onEventSelect($n);if($n.preventDefault.value){return;}};switch($c.eventSelectHandling){case 'PostBack':$c.eventSelectPostBack(e,$0A);break;case 'CallBack':if(typeof WebForm_InitCallback!=='undefined'){window.__theFormPostData="";window.__theFormPostCollection=[];WebForm_InitCallback();};$c.eventSelectCallBack(e,$0A);break;case 'Update':m.$5d($d,$01);break;};if(typeof $c.onEventSelected==='function'){$n.change=m.isSelected(e)?"selected":"deselected";$n.selected=m.isSelected(e);$c.onEventSelected($n);}}else{var m=$c.multiselect;m.previous=m.events();m.$5d($d,$01);var $0A=m.isSelected(e)?"selected":"deselected";switch($c.eventSelectHandling){case 'PostBack':$c.eventSelectPostBack(e,$0A);break;case 'CallBack':if(typeof WebForm_InitCallback!=='undefined'){window.__theFormPostData="";window.__theFormPostCollection=[];WebForm_InitCallback();};$c.eventSelectCallBack(e,$0A);break;case 'JavaScript':$c.onEventSelect(e,$0A);break;}}};this.commandCallBack=function($0v,$h){this.$46();var $0c={};$0c.command=$0v;this.$40('Command',$0c,$h);};this.$5e=function(ev){if($0B.active||$0B.using){return;};clearTimeout(DayPilotCalendar.selectedTimeout);if(DayPilotCalendar.selecting){return;};if(DayPilotCalendar.editing){DayPilotCalendar.editing.blur();return;};if($c.selectedCells&&$c.timeRangeDoubleClickHandling!=='Disabled'){for(var i=0;i<$c.selectedCells.length;i++){if(this===$c.selectedCells[i]){return;}}};if($c.timeRangeSelectedHandling==="Disabled"){return;};var $0C=DayPilot.Util.mouseButton(ev);if(!$0C.left){return;};DayPilotCalendar.firstMousePos=DayPilot.mc(ev||window.event);$c.clearSelection();DayPilotCalendar.topSelectedCell=this;DayPilotCalendar.bottomSelectedCell=this;DayPilotCalendar.column=DayPilotCalendar.getColumn(this);$c.selectedCells.push(this);DayPilotCalendar.firstSelected=this;};this.$5f=function(){var $0D=this.getSelection();if(!$0D){return;};if(!$c.selectedCells){return;};for(var j=0;j<$c.selectedCells.length;j++){var $f=$c.selectedCells[j];if($f&&!$f.selected){var $d=document.createElement("div");$d.style.height=($c.cellHeight-1)+"px";$d.style.backgroundColor=$c.selectedColor;$f.firstChild.style.display="none";$f.insertBefore($d,$f.firstChild);$f.selected=$d;}}};this.$5g=function(ev){if(typeof(DayPilotBubble)!=='undefined'&&$c.cellBubble){$c.cellBubble.hideOnMouseOut();}};this.$5h=function(ev){if(typeof(DayPilotCalendar)==='undefined'){return;};if($0B.active||$0B.using){return;};if(typeof(DayPilotBubble)!=='undefined'&&$c.cellBubble){var $q=DayPilotCalendar.getColumn(this);var $06=$c.$4D[$q].id;var $f={};$f.calendar=$c;$f.start=this.start;$f.end=this.end;$f.resource=$06;$f.toJSON=function(){var $07={};$07.start=this.start;$07.end=this.end;$07.resource=this.resource;return $07;};$c.cellBubble.showCell($f);};if(DayPilotCalendar.firstMousePos){var $0E=DayPilotCalendar.firstMousePos;var $0F=DayPilot.mc(ev||window.event);if($0E.x!==$0F.x||$0E.y!==$0F.y){DayPilotCalendar.selecting=true;$c.clearSelection();$c.$5f();}};if(!DayPilotCalendar.selecting){return;};var $0G=DayPilot.mc(ev||window.event);var $0H=DayPilotCalendar.getColumn(this);if($0H!==DayPilotCalendar.column){return;};$c.clearSelection();if($0G.y<DayPilotCalendar.firstMousePos.y){$c.selectedCells=DayPilotCalendar.getCellsBelow(this);DayPilotCalendar.topSelectedCell=$c.selectedCells[0];DayPilotCalendar.bottomSelectedCell=DayPilotCalendar.firstSelected;}else{$c.selectedCells=DayPilotCalendar.getCellsAbove(this);DayPilotCalendar.topSelectedCell=DayPilotCalendar.firstSelected;DayPilotCalendar.bottomSelectedCell=$c.selectedCells[0];};$c.$5f();};this.getSelection=function(){if(!DayPilotCalendar.topSelectedCell){return null;};if(!DayPilotCalendar.bottomSelectedCell){return null;};var $08=DayPilotCalendar.topSelectedCell.start;var end=DayPilotCalendar.bottomSelectedCell.end;var $0I=DayPilotCalendar.topSelectedCell.resource;return new DayPilot.Selection($08,end,$0I,$c);};this.$5i=function(ev){if(DayPilotCalendar.firstMousePos){var $0J=function(){DayPilotCalendar.selecting=true;$c.$5f();DayPilotCalendar.firstMousePos=null;DayPilotCalendar.selecting=false;var $0K=$c.getSelection();$c.$59($0K.start,$0K.end,$0K.resource);};if(DayPilotCalendar.selecting&&DayPilotCalendar.topSelectedCell!==null){$0J();}else{DayPilotCalendar.selectedTimeout=setTimeout($0J,100);}}else{DayPilotCalendar.selecting=false;}};this.$5j=function(ev){if(!$c.initScrollPos){return;};var $0L=$c.columnWidthSpec==="Fixed";if($0L){$c.nav.bottomLeft.scrollTop=$c.nav.bottomRight.scrollTop;$c.nav.upperRight.scrollLeft=$c.nav.bottomRight.scrollLeft;};var scroll=$0L?$c.nav.bottomRight:$c.nav.scroll;$c.scrollPos=scroll.scrollTop;$c.scrollHeight=scroll.clientHeight;$c.nav.scrollpos.value=$c.scrollPos;$c.$4z();};this.$4z=function(){if(!this.scrollLabelsVisible){return;};if(!this.$5k){return;};var $0M=this.nav&&this.nav.main&&this.nav.main.rows&&this.nav.main.rows.length>0&&this.nav.main.rows[0].cells.length>0;if(!$0M){return;};var $0N=this.$4D;var $0O=(this.showHours?this.hourWidth:0);var $H=this.nav.main.rows[0].cells[0].clientWidth;var iw=10;var $0P=1;for(var i=0;i<this.nav.scrollUp.length;i++){var $0Q=this.nav.scrollUp[i];var $0R=this.nav.scrollDown[i];var $X=Math.floor($0O+i*$H+$H/ 2-(iw/ 2)+$0P);if($X<0){$X=0;};if($0Q&&$0Q.style){$0Q.style.left=$X+"px";};if($0R&&$0R.style){$0R.style.left=$X+"px";}};var $0S=this.$5l();for(var i=0;i<this.nav.scrollUp.length;i++){var up=this.nav.scrollUp[i];var $0T=this.nav.scrollDown[i];var $0U=this.$5k[i].minEnd-$0S;var $0V=this.$5k[i].maxStart-$0S;if(up&&$0T){if($0U<=$c.scrollPos){up.style.top=(this.$4L())+"px";up.style.display='';}else{up.style.display='none';};if($0V>=$c.scrollPos+$c.scrollHeight){$0T.style.top=(this.$4L()+this.scrollHeight-10)+"px";$0T.style.display='';}else{$0T.style.display='none';}}}};this.$5m=function($E){var $0W=$E.parentNode;while($0W&&$0W.tagName!=="TD"){$0W=$0W.parentNode;};var $X=0;var top=$E.offsetTop;var $0X=$E.parentNode.offsetWidth;var $J=$E.offsetHeight;if($E.event.allday()){$X=$E.offsetLeft;$0X=$E.offsetWidth;};var $0Y=document.createElement('textarea');$0Y.style.boxSizing="border-box";$0Y.style.position='absolute';$0Y.style.width=$0X+'px';$0Y.style.height=$J+'px';var $0Z=DayPilot.gs($E,'fontFamily');if(!$0Z)$0Z=DayPilot.gs($E,'font-family');$0Y.style.fontFamily=$0Z;var $10=DayPilot.gs($E,'fontSize');if(!$10)$10=DayPilot.gs($E,'font-size');$0Y.style.fontSize=$10;$0Y.style.left=$X+'px';$0Y.style.top=top+'px';$0Y.style.border='1px solid black';$0Y.style.padding='0px';$0Y.style.marginTop='0px';$0Y.style.backgroundColor='white';$0Y.value=DayPilot.tr($E.event.text());$0Y.event=$E.event;$0W.firstChild.appendChild($0Y);return $0Y;};this.$4R=function($d,e,$01){$c.$5c($d,e,$01);};this.multiselect={};this.multiselect.$4j=[];this.multiselect.$5n=[];this.multiselect.$5o=[];this.multiselect.$5p=[];this.multiselect.$5q=function(){var m=$c.multiselect;return DayPilot.JSON.stringify(m.events());};this.multiselect.events=function(){var m=$c.multiselect;var $11=[];$11.ignoreToJSON=true;for(var i=0;i<m.$5n.length;i++){$11.push(m.$5n[i]);};return $11;};this.multiselect.$5r=function(){var h=$c.nav.select;h.value=$c.multiselect.$5q();};this.multiselect.$5d=function($d,$12){var m=$c.multiselect;if(m.isSelected($d.event)){if($c.allowMultiSelect){if($12){m.remove($d.event,true);}else{var $13=m.$5n.length;m.clear(true);if($13>1){m.add($d.event,true);}}}else{m.clear(true);}}else{if($c.allowMultiSelect){if($12){m.add($d.event,true);}else{m.clear(true);m.add($d.event,true);}}else{m.clear(true);m.add($d.event,true);}};m.redraw();m.$5r();};this.multiselect.$5s=function(ev){var m=$c.multiselect;return m.$5t(ev,m.$4j);};this.multiselect.$5u=function(){var m=$c.multiselect;var $14=[];for(var i=0;i<m.$5n.length;i++){var event=m.$5n[i];$14.push(event.value());};alert($14.join("\n"));};this.multiselect.add=function(ev,$15){var m=$c.multiselect;if(m.$5v(ev)===-1){m.$5n.push(ev);};m.$5r();if($15){return;};m.redraw();};this.multiselect.remove=function(ev,$15){var m=$c.multiselect;var i=m.$5v(ev);if(i!==-1){m.$5n.splice(i,1);};m.$5r();if($15){return;};m.redraw();};this.multiselect.clear=function($15){var m=$c.multiselect;m.$5n=[];m.$5r();if($15){return;};m.redraw();};this.multiselect.redraw=function(){var m=$c.multiselect;for(var i=0;i<$c.elements.events.length;i++){var $d=$c.elements.events[i];if(m.isSelected($d.event)){m.$5w($d);}else{m.$5x($d);}}};this.multiselect.$5w=function($d){var m=$c.multiselect;var cn=$c.cssOnly?$c.$4E("_selected"):$c.$4E("selected");var c=m.$5y($d);DayPilot.Util.addClass(c,cn);if($c.useEventSelectionBars){m.$5z($d);};m.$5o.push($d);};this.multiselect.$5y=function($d){if($c.cssOnly){return $d;};for(var i=0;i<$d.childNodes.length;i++){var c=$d.childNodes[i];if(c.getAttribute("c")==="1"){return c;}};return null;};this.multiselect.$5A=function(){var m=$c.multiselect;for(var i=0;i<m.$5o.length;i++){var $d=m.$5o[i];m.$5x($d,true);};m.$5o=[];};this.multiselect.$5x=function($d,$16){var m=$c.multiselect;var cn=$c.cssOnly?$c.$4E("_selected"):$c.$4E("selected");var c=m.$5y($d);DayPilot.Util.removeClass(c,cn);if($c.useEventSelectionBars){m.$5B($d);};if($16){return;};var i=DayPilot.indexOf(m.$5o,$d);if(i!==-1){m.$5o.splice(i,1);}};this.multiselect.isSelected=function(ev){return $c.multiselect.$5t(ev,$c.multiselect.$5n);};this.multiselect.$5v=function(ev){return DayPilot.indexOf($c.multiselect.$5n,ev);};this.multiselect.$5t=function(e,$14){if(!$14){return false;};for(var i=0;i<$14.length;i++){var ei=$14[i];if(e===ei){return true;};if(typeof ei.value==='function'){if(ei.value()!==null&&e.value()!==null&&ei.value()===e.value()){return true;};if(ei.value()===null&&e.value()===null&&ei.recurrentMasterId()===e.recurrentMasterId()&&e.start().toStringSortable()===ei.start()){return true;}}else{if(ei.value!==null&&e.value()!==null&&ei.value===e.value()){return true;};if(ei.value===null&&e.value()===null&&ei.recurrentMasterId===e.recurrentMasterId()&&e.start().toStringSortable()===ei.start){return true;}}};return false;};this.multiselect.$5z=function($17){var w=5;if(!$17.top){var top=document.createElement("div");top.setAttribute("unselectable","on");top.style.position='absolute';top.style.left=$17.offsetLeft+'px';top.style.width=$17.offsetWidth+'px';top.style.top=($17.offsetTop-w)+'px';top.style.height=w+'px';top.style.backgroundColor=$c.eventSelectColor;top.style.zIndex=100;$17.parentNode.appendChild(top);$17.top=top;};if(!$17.bottom){var $18=document.createElement("div");$18.setAttribute("unselectable","on");$18.style.position='absolute';$18.style.left=$17.offsetLeft+'px';$18.style.width=$17.offsetWidth+'px';$18.style.top=($17.offsetTop+$17.offsetHeight)+'px';$18.style.height=w+'px';$18.style.backgroundColor=$c.eventSelectColor;$18.style.zIndex=100;$17.parentNode.appendChild($18);$17.bottom=$18;}};this.multiselect.$5B=function($17){if($17.top){$17.parentNode.removeChild($17.top);$17.top=null;};if($17.bottom){$17.parentNode.removeChild($17.bottom);$17.bottom=null;}};this.$4Q=function($E){if(DayPilotCalendar.editing){DayPilotCalendar.editing.blur();return;};var $0Y=this.$5m($E);DayPilotCalendar.editing=$0Y;$0Y.onblur=function(){var id=$E.event.value();var $19=$E.event.tag();var $1a=$E.event.text();var $0z=$0Y.value;DayPilotCalendar.editing=null;$0Y.parentNode.removeChild($0Y);if($1a===$0z){return;};$E.style.display='none';$c.$5b($E.event,$0z);};$0Y.onkeypress=function(e){var $1b=(window.event)?event.keyCode:e.keyCode;if($1b===13){this.onblur();return false;}else if($1b===27){$0Y.parentNode.removeChild($0Y);DayPilotCalendar.editing=false;};return true;};$0Y.select();$0Y.focus();};this.$4k=function(){if(!this.columns){this.$4D=this.$5C();this.$5D(this.$4D);}else{this.$5D(this.columns);this.$4D=this.$5E(this.headerLevels,true);}};this.$5F=function(){var $08=this.startDate.getDatePart();var $1c=this.days;switch(this.viewType){case "Day":$1c=1;break;case "Week":$1c=7;$08=$08.firstDayOfWeek($0d.weekStarts());break;case "WorkWeek":$1c=5;$08=$08.firstDayOfWeek(1);break;};var end=$08.addDays($1c);var $u={};$u.start=$08;$u.end=end;$u.days=$1c;return $u;};this.$5C=function(){var $0N=[];var $1d=this.$5F();var $08=$1d.start;var $1c=$1d.days;for(var i=0;i<$1c;i++){var $q={};$q.start=$08.addDays(i);var $1e=$0d.locale().datePattern;if($c.headerDateFormat){$1e=$c.headerDateFormat;};$q.name=$q.start.toString($1e);$q.html=$q.name;$0N.push($q);};return $0N;};this.$5G=function($q){if($q.Start){$q.id=$q.Value;$q.start=$q.Start;$q.name=$q.Name;$q.html=$q.InnerHTML;$q.toolTip=$q.ToolTip;$q.backColor=$q.BackColor;$q.areas=$q.Areas;$q.children=$q.Children;delete $q.Value;delete $q.Start;delete $q.Name;delete $q.InnerHTML;delete $q.ToolTip;delete $q.BackColor;delete $q.Areas;delete $q.Children;};$q.start=$q.start||$c.startDate;$q.start=new DayPilot.Date($q.start);$q.html=$q.html||$q.name;$q.getChildren=function($1f,$1g){var $14=[];if($1f<=1){$14.push(this);return $14;};if(!this.children||this.children.length===0){if($1g){$14.push(this);}else{$14.push("empty");};return $14;};for(var i=0;i<this.children.length;i++){var $1h=this.children[i];var $1i=$1h.getChildren($1f-1,$1g);for(var j=0;j<$1i.length;j++){$14.push($1i[j]);}};return $14;};$q.getChildrenCount=function($1f){var $13=0;if(!this.children||this.children.length<=0||$1f<=1){return 1;};for(var i=0;i<this.children.length;i++){$13+=this.children[i].getChildrenCount($1f-1);};return $13;};$q.putIntoBlock=function(ep){for(var i=0;i<this.blocks.length;i++){var $1j=this.blocks[i];if($1j.overlapsWith(ep.part.top,ep.part.height)){$1j.events.push(ep);$1j.min=Math.min($1j.min,ep.part.top);$1j.max=Math.max($1j.max,ep.part.top+ep.part.height);return i;}};var $1j=[];$1j.lines=[];$1j.events=[];$1j.overlapsWith=function($08,$0X){var end=$08+$0X-1;if(!(end<this.min||$08>this.max-1)){return true;};return false;};$1j.putIntoLine=function(ep){var $1k=this;for(var i=0;i<this.lines.length;i++){var $1l=this.lines[i];if($1l.isFree(ep.part.top,ep.part.height)){$1l.push(ep);return i;}};var $1l=[];$1l.isFree=function($08,$0X){var end=$08+$0X-1;var $N=this.length;for(var i=0;i<$N;i++){var e=this[i];if(!(end<e.part.top||$08>e.part.top+e.part.height-1)){return false;}};return true;};$1l.push(ep);this.lines.push($1l);return this.lines.length-1;};$1j.events.push(ep);$1j.min=ep.part.top;$1j.max=ep.part.top+ep.part.height;this.blocks.push($1j);return this.blocks.length-1;};$q.putIntoLine=function(ep){var $1k=this;for(var i=0;i<this.lines.length;i++){var $1l=this.lines[i];if($1l.isFree(ep.part.top,ep.part.height)){$1l.push(ep);return i;}};var $1l=[];$1l.isFree=function($08,$0X){var end=$08+$0X-1;var $N=this.length;for(var i=0;i<$N;i++){var e=this[i];if(!(end<e.part.top||$08>e.part.top+e.part.height-1)){return false;}};return true;};$1l.push(ep);this.lines.push($1l);return this.lines.length-1;};if($q.children){this.$5D($q.children);}};this.$5D=function(cc){for(var i=0;i<cc.length;i++){this.$5G(cc[i]);}};this.$5E=function($1f,$1g){var $1m=this.columns||this.$4D;var $14=[];for(var i=0;i<$1m.length;i++){var $t=$1m[i].getChildren($1f,$1g);for(var j=0;j<$t.length;j++){$14.push($t[j]);}};return $14;};this.$4y=function(){if(!this.showAllDayEvents){return;};var $1n=this.nav.header;if(!$1n){return;};$1n.style.display='none';var $0N=this.$4D.length;for(var j=0;j<this.$5H.lines.length;j++){var $1l=this.$5H.lines[j];for(var i=0;i<$1l.length;i++){var $h=$1l[i];var $d=document.createElement("div");$d.event=$h;$d.setAttribute("unselectable","on");$d.style.position='absolute';if($c.rtl){$d.style.right=(100.0*$h.part.colStart/$0N)+"%";}else{$d.style.left=(100.0*$h.part.colStart/$0N)+"%";};$d.style.width=(100.0*$h.part.colWidth/$0N)+"%";$d.style.height=$0d.allDayEventHeight()+'px';if(!this.cssOnly){$d.style.top=(3+this.headerLevels*$0d.headerHeight()+j*($0d.allDayEventHeight()+2))+"px";}else{$d.className=this.$4E("_alldayevent");$d.style.top=(this.headerLevels*$0d.headerHeight()+j*($0d.allDayEventHeight()))+"px";};$d.style.textAlign='left';$d.style.lineHeight="1.2";if($h.client.clickEnabled()){$d.onclick=this.$4O;};if($h.client.doubleClickEnabled()){$d.ondblclick=this.$4S;};if($h.client.clickEnabled()||$h.client.doubleClickEnabled()){$d.style.cursor="pointer";}else{$d.style.cursor="default";};DayPilot.re($d,"contextmenu",this.$4T);$d.onmousemove=function(ev){var $d=this;if(!$d.active){var $1o=[];if($h.client.deleteEnabled()){$1o.push({"action":"JavaScript","v":"Hover","w":17,"h":17,"top":3,"right":3,"css":$c.$4E("_event_delete"),"js":function(e){$c.$4X(e);}});};var $14=$d.event.cache?$d.event.cache.areas:$d.event.data.areas;if($14&&$14.length>0){$1o=$1o.concat($14);};DayPilot.Areas.showAreas($d,$d.event,null,$1o);if($c.cssOnly){DayPilot.Util.addClass($d,$c.$4E("_alldayevent_hover"));}};if(typeof(DayPilotBubble)!=='undefined'&&$c.bubble&&$c.eventHoverHandling!=='Disabled'){$c.bubble.showEvent(this.event);}};$d.onmouseout=function(ev){var $d=this;if($c.cssOnly){DayPilot.Util.removeClass($d,$c.$4E("_alldayevent_hover"));};DayPilot.Areas.hideAreas(this,ev);if($c.bubble){$c.bubble.hideOnMouseOut();}};if(this.showToolTip&&!this.bubble){$d.setAttribute("title",$h.client.toolTip());};var $1p=$h.start().getTime()===$h.part.start.getTime();var $1q=$h.end().getTime()===$h.part.end.getTime();var back=$h.data.backColor;if(!this.cssOnly){var $M=document.createElement("div");$M.setAttribute("unselectable","on");$M.style.marginLeft='2px';$M.style.marginRight='3px';$M.style.paddingLeft='2px';$M.style.height=($0d.allDayEventHeight()-2)+'px';$M.style.border='1px solid '+this.allDayEventBorderColor;$M.style.overflow='hidden';$M.style.position='relative';$M.style.backgroundColor=back;$M.className=this.$4E("alldayevent");if(this.roundedCorners){$M.style.MozBorderRadius="5px";$M.style.webkitBorderRadius="5px";$M.style.borderRadius="5px";};var $1r=[];var $1s=true;var $1t=this.showAllDayEventStartEnd;var $1u=this.showAllDayEventStartEnd;var $1v="Center";var $1w=0;if($1t){if($1v==='Left'){$1r.push("<div unselectable='on' style='position:absolute;text-align:left;height:1px;font-size:1px;width:100%'><div unselectable='on' style='font-size:8pt;color:gray;text-align:right;");$1r.push("width:");$1r.push($1w-4);$1r.push("px;");$1r.push("><span style='background-color:");}else{$1r.push("<div unselectable='on' style='position:absolute;text-align:left;height:1px;font-size:1px;width:100%'><div unselectable='on' style='font-size:8pt;color:gray'><span style='background-color:");};$1r.push('transparent');$1r.push("' unselectable='on'>");if($1p){if($h.start().getDatePart().getTime()!==$h.start().getTime()){$1r.push(DayPilot.Date.hours($h.start().d,this.$5I.timeFormat()==='Clock12Hours'));}}else{$1r.push("~");};$1r.push("</span></div></div>");};if($1u){$1r.push("<div unselectable='on' style='position:absolute;text-align:right;height:1px;font-size:1px;width:100%'><div unselectable='on' style='margin-right:4px;font-size:8pt;color:gray'><span style='background-color:");$1r.push('transparent');$1r.push("' unselectable='on'>");if($1q){if($h.end().getDatePart().getTime()!==$h.end().getTime()){$1r.push(DayPilot.Date.hours($h.end().d,this.$5I.timeFormat()==='Clock12Hours'));}}else{$1r.push("~");};$1r.push("</span></div></div>");};if($1v==='Left'){var $X=$1t?$1w:0;$1r.push("<div style='margin-top:0px;height:");$1r.push($0d.allDayEventHeight()-2);$1r.push("px;");$1r.push(";overflow:hidden;text-align:left;padding-left:");$1r.push($X);$1r.push("px;font-size:");$1r.push(this.allDayEventFontSize);$1r.push(";color:");$1r.push(this.allDayEventFontColor);$1r.push(";font-family:");$1r.push(this.eventFontFamily);$1r.push("' unselectable='on'>");if($h.client.innerHTML()){$1r.push($h.client.innerHTML());}else{$1r.push($h.text());};$1r.push("</div>");}else if($1v==='Center'){if($1s){$1r.push("<div style='position:absolute; text-align:center; width: 98%; height:1px;'>");$1r.push("<span style='background-color:");$1r.push('transparent');$1r.push(";font-size:");$1r.push(this.allDayEventFontSize);$1r.push(";color:");$1r.push(this.allDayEventFontColor);$1r.push(";font-family:");$1r.push(this.allDayEventFontFamily);$1r.push("' unselectable='on'>");if($h.client.innerHTML()){$1r.push($h.client.innerHTML());}else{$1r.push($h.text());};$1r.push("</span>");$1r.push("</div>");}else{$1r.push("<div style='margin-top:0px;height:");$1r.push($0d.allDayEventHeight()-2);$1r.push("px;");$1r.push(";overflow:hidden;text-align:center;font-size:");$1r.push(this.allDayEventFontSize);$1r.push(";color:");$1r.push(this.allDayEventFontColor);$1r.push(";font-family:");$1r.push(this.allDayEventFontFamily);$1r.push("' unselectable='on'>");if($h.client.innerHTML()){$1r.push($h.client.innerHTML());}else{$1r.push($h.text());};$1r.push("</div>");}};$M.innerHTML=$1r.join('');$d.appendChild($M);}else{var $M=document.createElement("div");$M.setAttribute("unselectable","on");$M.className=this.$4E("_alldayevent_inner");if(back){$M.style.background=back;};if($c.rtl){if(!$1p){DayPilot.Util.addClass($d,this.$4E("_alldayevent_continueright"));};if(!$1q){DayPilot.Util.addClass($d,this.$4E("_alldayevent_continueleft"));}}else{if(!$1p){DayPilot.Util.addClass($d,this.$4E("_alldayevent_continueleft"));};if(!$1q){DayPilot.Util.addClass($d,this.$4E("_alldayevent_continueright"));}};if($h.client.innerHTML()){$M.innerHTML=$h.client.innerHTML();}else{$M.innerHTML=$h.text();};$d.appendChild($M);};if($c.$4B()){if(typeof $c.onAfterEventRender==='function'){var $n={};$n.e=$d.event;$n.div=$d;$c.onAfterEventRender($n);}}else{if($c.afterEventRender){$c.afterEventRender($d.event,$d);}};this.nav.allday.appendChild($d);this.elements.events.push($d);}};$1n.style.display='';};this.$47=function($1x){$c.multiselect.$5A();if(this.elements.events){for(var i=0;i<this.elements.events.length;i++){var $d=this.elements.events[i];var $E=$d.event;if($E&&$1x&&!$E.allday()){continue;};if($E){$E.div=null;$E.root=null;};$d.onclick=null;$d.onclickSave=null;$d.ondblclick=null;$d.oncontextmenu=null;$d.onmouseover=null;$d.onmouseout=null;$d.onmousemove=null;$d.onmousedown=null;if($d.firstChild&&$d.firstChild.firstChild&&$d.firstChild.firstChild.tagName&&$d.firstChild.firstChild.tagName.toUpperCase()==='IMG'){var $1y=$d.firstChild.firstChild;$1y.onmousedown=null;$1y.onmousemove=null;$1y.onclick=null;};$d.helper=null;$d.event=null;DayPilot.de($d);}};this.elements.events=[];};this.$5J=function($h){var $G=this.nav.events;var $1z=this.roundedCorners;var $1A=this.roundedCorners&&(this.$3W.ff||this.$3W.opera105||this.$3W.webkit522||!this.$3W.ielt9);var $1B=this.roundedCorners&&!$1A;var $1C=$h.cache||$h.data;var $1D=$1C.borderColor||this.eventBorderColor;var $d=document.createElement("div");$d.setAttribute("unselectable","on");$d.style.MozUserSelect='none';$d.style.KhtmlUserSelect='none';$d.style.WebkitUserSelect='none';$d.style.position='absolute';if(!this.cssOnly){$d.style.fontFamily=this.eventFontFamily;$d.style.fontSize=this.eventFontSize;$d.style.color=$1C.fontColor||this.eventFontColor;if(!$1z){$d.style.backgroundColor=$1D;}}else{$d.className=this.$4E("_event");};$d.style.left=$h.part.left+'%';$d.style.top=($h.part.top-this.$5l())+'px';$d.style.width=$h.part.width+'%';$d.style.height=Math.max($h.part.height,2)+'px';$d.style.overflow='hidden';$d.isFirst=$h.part.start.getTime()===$h.start().getTime();$d.isLast=$h.part.end.getTime()===$h.end().getTime();if($h.client.clickEnabled()){$d.onclick=this.$4O;};if($h.client.doubleClickEnabled()){$d.ondblclick=this.$4S;};DayPilot.re($d,"contextmenu",this.$4T);$d.onmousemove=this.$5K;$d.onmouseout=this.$5L;$d.onmousedown=this.$5M;DayPilot.re($d,DayPilot.touch.start,this.$5N.onEventTouchStart);DayPilot.re($d,DayPilot.touch.move,this.$5N.onEventTouchMove);DayPilot.re($d,DayPilot.touch.end,this.$5N.onEventTouchEnd);var $1r=[];if(!this.cssOnly){if(this.eventDeleteHandling!=='Disabled'&&$h.client.deleteEnabled()){$1r.push("<div unselectable='on' style='position:absolute; width:100%;text-align:right;'><div style='position:absolute; width:10px; height:10px; right:2px; top: 2px; cursor:pointer;");if(this.deleteImageUrl){$1r.push("background-image:url(\"" + this.deleteImageUrl + "\");");};$1r.push("' class='");$1r.push(this.$4E("event_delete"));$1r.push("' onmousemove=\"if(typeof(DayPilotBubble)!=='undefined'&&");$1r.push(this.clientName);$1r.push(".bubble && ");$1r.push(this.clientName);$1r.push(".bubble.hideAfter > 0");$1r.push(") { DayPilotBubble.hideActive(); event.cancelBubble = true; };\" onmousedown=\"this.parentNode.parentNode.style.cursor='default';\" onclick='");$1r.push(this.clientName);$1r.push(".internal.eventDeleteDispatch(this); event.cancelBubble = true; if (event.stopPropagation) event.stopPropagation();' ></div></div>");};if($1B){$1r.push("<div style='margin-right:2px;'>");$1r.push("<div style='height:1px;line-height:1px;font-size:0px; margin-left:2px; background-color:");$1r.push($1D);$1r.push(";'>&nbsp;</div>");$1r.push("</div>");$1r.push("<div unselectable='on' style='position:absolute;width:100%;margin-top:-1px;'>");$1r.push("<div style='height:1px;line-height:1px;font-size:0px;margin-left:1px;margin-top:1px; margin-right:1px;border-right:1px solid ");$1r.push($1D);$1r.push(";border-left:1px solid ");$1r.push($1D);$1r.push(";background-color:");$1r.push($h.client.header()?$1D:$h.BackgroundColor);$1r.push("'>");$1r.push("&nbsp;</div>");$1r.push("</div>");}else if(!$1A){$1r.push("<div style='height:1px;line-height:1px;font-size:0px; width:1px;'>&nbsp;</div>");};$1r.push("<div");if(this.showToolTip&&!this.bubble){$1r.push(" title='");$1r.push($h.client.toolTip().replace(/'/g,"&apos;"));$1r.push("'");};var $J=Math.max($h.part.height-2,0);$1r.push(" c='1'");$1r.push(" class='");$1r.push($1C.cssClass||this.$4E('event'));$1r.push("'");if($1B){$1r.push(" style='margin-top:1px;height:");$1r.push($J-2);}else{$1r.push(" style='margin-top:0px;height:");$1r.push($J);};$1r.push("px;background-color:");$1r.push($h.client.backColor());if($1A){$1r.push(";border:1px solid ");$1r.push($1D);$1r.push(";-moz-border-radius:5px;");$1r.push(";-webkit-border-radius:5px;");$1r.push(";border-radius:5px;");}else{$1r.push(";border-left:1px solid ");$1r.push($1D);$1r.push(";border-right:1px solid ");$1r.push($1D);};$1r.push(";");if($h.data.backgroundImage){$1r.push("background-image:url(");$1r.push($h.data.backgroundImage);$1r.push(");");if($h.data.backgroundRepeat){$1r.push("background-repeat:");$1r.push($h.data.backgroundRepeat);$1r.push(";");}};if($c.rtl){$1r.push("direction:rtl;");};$1r.push("' unselectable='on'>");if(this.durationBarVisible){var $1E=$h.client.barColor()||$c.durationBarColor;$1r.push("<div style='position:absolute;left:1px;top:1px;width:");$1r.push($c.durationBarWidth-1);$1r.push("px;height:");$1r.push($h.part.barTop);$1r.push("px;background-color:white;font-size:1px' unselectable='on'></div>");$1r.push("<div style='position:absolute;left:1px;top:");$1r.push($h.part.barTop+$h.part.barHeight);$1r.push("px;width:");$1r.push($c.durationBarWidth-1);$1r.push("px;height:");$1r.push($J-($h.part.barTop+$h.part.barHeight));$1r.push("px;background-color:white;font-size:1px' unselectable='on'></div>");$1r.push("<div style='position:absolute;left:1px;width:");$1r.push($c.durationBarWidth);$1r.push("px;height:");$1r.push($h.part.barHeight);$1r.push("px;");if($h.data.durationBarImageUrl){$1r.push("background-image:url(");$1r.push($h.data.durationBarImageUrl);$1r.push(");");}else if($c.durationBarImageUrl){$1r.push("background-image:url(");$1r.push($c.durationBarImageUrl);$1r.push(");");};$1r.push("top:");$1r.push($h.part.barTop+1);$1r.push("px;background-color:");$1r.push($1E);$1r.push(";font-size:1px' unselectable='on'></div><div style='position:absolute;left:");$1r.push($c.durationBarWidth);$1r.push("px;top:1px;width:1px;background-color:");$1r.push($1D);$1r.push(";height:100%' unselectable='on'></div>");};var $1F=$h.client.header()?this.eventHeaderHeight:0;if($h.client.header()){$1r.push("<div unselectable='on' style='overflow:hidden;height:");$1r.push(this.eventHeaderHeight);$1r.push("px; background-color:");$1r.push($1D);$1r.push(";font-size:");$1r.push(this.eventHeaderFontSize);$1r.push(";color:");$1r.push(this.eventHeaderFontColor);$1r.push("'>");$1r.push($h.client.header());$1r.push("</div>");};if(this.durationBarVisible){$1r.push("<div unselectable='on' style='padding-left:");$1r.push($c.durationBarWidth+3);$1r.push("px;");}else{$1r.push("<div unselectable='on' style='overflow:hidden;padding-left:2px;height:");$1r.push($J-$1F-1);$1r.push("px;");};$1r.push("'>");$1r.push($h.client.innerHTML());$1r.push("</div></div>");if($1B){$1r.push("<div unselectable='on' style='margin-right:2px;'>");$1r.push("<div unselectable='on' style='height:1px;line-height:1px;font-size:0px;margin-left:2px;margin-top:1px;background-color:");$1r.push($1D);$1r.push(";'><!-- --></div>");$1r.push("</div>");$1r.push("<div unselectable='on' style='margin-right:0px;margin-top:-3px;position:relative;'>");$1r.push("<div unselectable='on' style='margin-right:0px;position:relative;'>");$1r.push("<div unselectable='on' style='height:1px;line-height:1px;font-size:0px;margin-top:1px;margin-left:1px;margin-right:1px;border-right:1px solid ");$1r.push($1D);$1r.push(";border-left:1px solid ");$1r.push($1D);$1r.push(";background-color:");$1r.push($h.client.backColor());$1r.push("'>");$1r.push("<!-- --></div>");$1r.push("</div>");$1r.push("</div>");};$d.innerHTML=$1r.join('');}else{if($1C.cssClass){DayPilot.Util.addClass($d,$1C.cssClass);};if(this.showToolTip&&!this.bubble){$d.setAttribute("title",$h.client.toolTip());};var $M=document.createElement("div");$M.setAttribute("unselectable","on");$M.className=$c.$4E("_event_inner");$M.innerHTML=$h.client.innerHTML();if($1C.fontColor){$M.style.color=$1C.fontColor;};if($1C.backColor){$M.style.background=$1C.backColor;};if($1C.borderColor){$M.style.borderColor=$1C.borderColor;};if($1C.backgroundImage){$M.style.backgroundImage="url("+$1C.backgroundImage+")";if($1C.backgroundRepeat){$M.style.backgroundRepeat=$1C.backgroundRepeat;}};$d.appendChild($M);if($h.client.barVisible()){var $J=$h.part.height-2;var $1G=100*$h.part.barTop/$J;var $1H=Math.ceil(100*$h.part.barHeight/$J);if(this.durationBarMode==="PercentComplete"){$1G=0;$1H=$1C.complete;};var $1I=document.createElement("div");$1I.setAttribute("unselectable","on");$1I.className=this.$4E("_event_bar");$1I.style.position="absolute";if($1C.barBackColor){$1I.style.backgroundColor=$1C.barBackColor;};var $1J=document.createElement("div");$1J.setAttribute("unselectable","on");$1J.className=this.$4E("_event_bar_inner");$1J.style.top=$1G+"%";if(0<$1H&&$1H<=1){$1J.style.height="1px";}else{$1J.style.height=$1H+"%";};if($1C.barColor){$1J.style.backgroundColor=$1C.barColor;};$1I.appendChild($1J);$d.appendChild($1I);}};if($1C.areas){for(var i=0;i<$1C.areas.length;i++){var $1K=$1C.areas[i];if($1K.v!=='Visible'){continue;};var a=DayPilot.Areas.createArea($d,$h,$1K);$d.appendChild(a);}};if($G.rows[0].cells[$h.part.dayIndex]){var $1L=$G.rows[0].cells[$h.part.dayIndex].events;$1L.appendChild($d);$c.$5O($d);$d.event=$h;if($c.multiselect.$5s($h)){$c.multiselect.add($d.event,true);};if($c.$4B()){if(typeof $c.onAfterEventRender==='function'){var $n={};$n.e=$d.event;$n.div=$d;$c.onAfterEventRender($n);}}else{if($c.afterEventRender){$c.afterEventRender($d.event,$d);}}};$c.elements.events.push($d);};this.$5O=function(el){var c=(el&&el.childNodes)?el.childNodes.length:0;for(var i=0;i<c;i++){try{var $1h=el.childNodes[i];if($1h.nodeType===1){$1h.setAttribute("unselectable","on");this.$5O($1h);}}catch(e){}}};this.$4x=function(){this.multiselect.$5n=[];var $08=new Date();for(var i=0;i<this.$4D.length;i++){var $1M=this.$4D[i];if(!$1M.blocks){continue;};for(var m=0;m<$1M.blocks.length;m++){var $1j=$1M.blocks[m];for(var j=0;j<$1j.lines.length;j++){var $1l=$1j.lines[j];for(var k=0;k<$1l.length;k++){var e=$1l[k];e.part.width=100/$1j.lines.length;e.part.left=e.part.width*j;if(this.eventArrangement==='Cascade'){var $1N=(j===$1j.lines.length-1);if(!$1N){e.part.width=e.part.width*1.5;}};if(this.eventArrangement==='Full'){e.part.left=e.part.left/2;e.part.width=100-e.part.left;};if(!e.allday()){this.$5J(e);}}}}};this.multiselect.redraw();var end=new Date();var $1O=end.getTime()-$08.getTime();};this.$5P=function(){this.multiselect.$5n=[];for(var i=0;i<this.$4D.length;i++){var $1M=this.$4D[i];for(var j=0;j<$1M.lines.length;j++){var $1l=$1M.lines[j];for(var k=0;k<$1l.length;k++){var e=$1l[k];e.part.width=100/$1M.lines.length;e.part.left=e.Width*j;if(!e.allday()){this.$5J(e);}}}}};this.$4E=function($1P){var $1Q=this.theme||this.cssClassPrefix;if($1Q){return $1Q+$1P;}else{return "";}};this.$4w=function(){if(this.nav.top.style.visibility==='hidden'){this.nav.top.style.visibility='visible';}};this.$5Q=function(){var $J=this.$4L()+this.$5R();$c.debug.message("Getting totalHeight, headerHeight: "+this.$4L()+" scrollable: "+this.$5R());if($J<0){return 0;};return $J;};this.$5S=function(){this.nav.top.dp=this;this.nav.top.innerHTML='';this.nav.top.style.MozUserSelect='none';this.nav.top.style.KhtmlUserSelect='none';this.nav.top.style.WebkitUserSelect='none';this.nav.top.style.position='relative';if(this.width){this.nav.top.style.width=this.width;};if(this.rtl){this.nav.top.style.direction="rtl";};if(!this.cssOnly){this.nav.top.style.lineHeight="1.2";this.nav.top.style.textAlign="left";};if(this.heightSpec==="Parent100Pct"){this.nav.top.style.height="100%";}else{this.nav.top.style.height=this.$5Q()+"px";};if(this.hideUntilInit){this.nav.top.style.visibility='hidden';};this.nav.scroll=document.createElement("div");this.nav.scroll.style.height=this.$5R()+"px";if(this.cssOnly){DayPilot.Util.addClass(this.nav.top,this.$4E("_main"));};var $0L=this.columnWidthSpec==='Fixed';if(!$0L){if(this.heightSpec==="Fixed"){this.nav.scroll.style.overflowY="scroll";}else if(this.heightSpec==='BusinessHours'&&this.$4F()<=this.businessEndsHour-this.businessBeginsHour){this.nav.scroll.style.overflow="hidden";}else if(this.heightSpec!=="Full"&&this.heightSpec!=="BusinessHoursNoScroll"){this.nav.scroll.style.overflow="auto";}else{this.nav.scroll.style.overflow="hidden";}};this.nav.scroll.style.position="relative";if(!this.cssOnly){this.nav.scroll.style.border="1px solid "+this.borderColor;this.nav.scroll.style.backgroundColor=this.hourNameBackColor;};if(this.showHeader){var $1n=this.$5T();this.nav.top.appendChild($1n);};this.nav.scroll.style.zoom=1;this.nav.scroll.setAttribute("data-id","nav.scroll");this.nav.scroll.style.position="absolute";this.nav.scroll.style.left="0px";this.nav.scroll.style.right="0px";this.nav.scroll.style.top=this.$4L()+"px";var $1R=this.$5U();this.nav.scrollable=$1R.firstChild;this.nav.scroll.appendChild($1R);this.nav.top.appendChild(this.nav.scroll);this.nav.vsph=document.createElement("div");this.nav.vsph.style.display="none";this.nav.top.appendChild(this.nav.vsph);this.nav.scrollpos=document.createElement("input");this.nav.scrollpos.type="hidden";this.nav.scrollpos.id=$c.id+"_scrollpos";this.nav.scrollpos.name=this.nav.scrollpos.id;this.nav.top.appendChild(this.nav.scrollpos);this.nav.select=document.createElement("input");this.nav.select.type="hidden";this.nav.select.id=$c.id+"_select";this.nav.select.name=this.nav.select.id;this.nav.select.value=null;this.nav.top.appendChild(this.nav.select);this.nav.scrollLayer=document.createElement("div");this.nav.scrollLayer.style.position='absolute';this.nav.scrollLayer.style.top='0px';this.nav.scrollLayer.style.left='0px';this.nav.top.appendChild(this.nav.scrollLayer);this.nav.scrollUp=[];this.nav.scrollDown=[];this.nav.loading=document.createElement("div");this.nav.loading.style.position='absolute';this.nav.loading.style.top='0px';this.nav.loading.style.left=(this.hourWidth+5)+"px";this.nav.loading.style.backgroundColor=this.loadingLabelBackColor;this.nav.loading.style.fontSize=this.loadingLabelFontSize;this.nav.loading.style.fontFamily=this.loadingLabelFontFamily;this.nav.loading.style.color=this.loadingLabelFontColor;this.nav.loading.style.padding='2px';this.nav.loading.innerHTML=this.loadingLabelText;this.nav.loading.style.display='none';this.nav.top.appendChild(this.nav.loading);};this.$4t=function(){if(!this.$3T){DayPilot.pu(this.nav.hourTable);}else{this.$5V();};if(this.nav.hoursPlaceholder){this.nav.hoursPlaceholder.innerHTML='';this.nav.hourTable=this.$5W();this.nav.hoursPlaceholder.appendChild(this.nav.hourTable);}};this.$5V=function(){if(!this.nav.hourTable){return;};for(var i=0;i<this.nav.hourTable.rows.length;i++){var $1S=this.nav.hourTable.rows[i];var $d=$1S.cells[0].firstChild;$d.data=null;$d.onmousemove=null;$d.onmouseout=null;}};this.$5U=function(){var $1T=document.createElement("div");$1T.style.zoom=1;$1T.style.position='relative';$1T.onmousemove=this.$5X;DayPilot.re($1T,DayPilot.touch.start,this.$5N.onMainTouchStart);DayPilot.re($1T,DayPilot.touch.move,this.$5N.onMainTouchMove);DayPilot.re($1T,DayPilot.touch.end,this.$5N.onMainTouchEnd);DayPilot.re($1T,"contextmenu",function(ev){var ev=ev||window.event;ev.preventDefault?ev.preventDefault():ev.returnValue=false;});if(navigator.msPointerEnabled){$1T.style.msTouchAction="none";$1T.style.touchAction="none";};var $1U=null;var $1V=null;var $1W=null;var $0L=this.columnWidthSpec==='Fixed';if($0L){if(this.showHours){var $X=document.createElement("div");$X.style.cssFloat="left";$X.style.styleFloat="left";$X.style.width=(this.hourWidth)+"px";$X.style.height=this.$5R()+"px";$X.style.overflow="hidden";$1T.appendChild($X);$1U=$X;var $1X=30;var $J=(this.$4G()*this.cellHeight)/(60000*this.cellDuration)+$1X;$1W=document.createElement("div");$1W.style.height=($J)+"px";$X.appendChild($1W);};var $Y=document.createElement("div");$Y.style.height=this.$5R()+"px";if(this.showHours){$Y.style.marginLeft=(this.hourWidth)+"px";};$Y.style.position="relative";$Y.style.overflow="auto";$1T.appendChild($Y);$1V=$Y;}else{var $1Y=document.createElement("table");$1Y.cellSpacing="0";$1Y.cellPadding="0";$1Y.border="0";$1Y.style.border="0px none";$1Y.style.width="100%";$1Y.style.position='relative';var r=$1Y.insertRow(-1);var c;if(this.showHours){c=r.insertCell(-1);c.style.verticalAlign="top";c.style.padding='0px';c.style.border='0px none';$1W=c;};c=r.insertCell(-1);c.width="100%";c.style.padding='0px';c.style.border='0px none';c.style.verticalAlign="top";if(!this.cssOnly){c.style.borderLeft="1px solid "+this.borderColor;};$1V=c;$1T.appendChild($1Y);};if($1W){this.nav.hourTable=this.$5W();$1W.appendChild(this.nav.hourTable);};if(!this.cssOnly&&!this.$3U){$1V.appendChild(this.$5Y());}else{var parent=document.createElement("div");parent.style.height="0px";parent.style.position="relative";parent.appendChild(this.$5Y());var $1Z=document.createElement("div");$1Z.style.position="absolute";$1Z.style.top="0px";$1Z.style.left="0px";$1Z.style.right="0px";$1Z.style.height="0px";parent.appendChild($1Z);this.nav.crosshair=$1Z;parent.appendChild(this.$5Z());$1V.appendChild(parent);};this.nav.zoom=$1T;this.nav.bottomLeft=$1U;this.nav.bottomRight=$1V;this.nav.hoursPlaceholder=$1W;return $1T;};this.$5Y=function(){var $1Y=document.createElement("table");$1Y.cellPadding="0";$1Y.cellSpacing="0";$1Y.border="0";var $0L=this.columnWidthSpec==='Fixed';if(!$0L){$1Y.style.width="100%";};$1Y.style.border="0px none";if(!this.cssOnly){};$1Y.style.tableLayout='fixed';this.nav.main=$1Y;this.nav.events=$1Y;return $1Y;};this.$60=function(){var $0L=this.columnWidthSpec==='Fixed';if(!$0L){return "100%";}else{var $20=0;for(var i=0;i<$c.$4D.length;i++){var $q=$c.$4D[i];if($q.width){$20+=$q.width;}else{$20+=$c.columnWidth;}};return $20+"px";}};this.$5Z=function(){var $1Y=document.createElement("table");var $0L=this.columnWidthSpec==='Fixed';$1Y.style.position="absolute";$1Y.style.top="0px";$1Y.cellPadding="0";$1Y.cellSpacing="0";$1Y.border="0";$1Y.style.width=$c.$60();$1Y.style.border="0px none";$1Y.style.tableLayout='fixed';this.nav.events=$1Y;var $21=true;var $0N=this.$4D;var cl=$0N.length;var r=($21)?$1Y.insertRow(-1):$1Y.rows[0];for(var j=0;j<cl;j++){var c=($21)?r.insertCell(-1):r.cells[j];if($21){c.style.padding='0px';c.style.border='0px none';c.style.height='0px';c.style.overflow='visible';if(!$c.rtl){c.style.textAlign='left';};if($c.columnWidthSpec==="Fixed"){if($0N[j].width){c.style.width=$0N[j].width+"px";}else{c.style.width=$c.columnWidth+"px";}};$c.$61(c);}};return $1Y;};this.$5W=function(){var $1Y=document.createElement("table");$1Y.cellSpacing="0";$1Y.cellPadding="0";$1Y.border="0";$1Y.style.border='0px none';$1Y.style.width=this.hourWidth+"px";$1Y.oncontextmenu=function(){return false;};$1Y.onmousemove=function(){$c.$4e();};var $22=this.$4G()/(this.timeHeaderCellDuration*60*1000);for(var i=0;i<$22;i++){this.$62($1Y,i);};return $1Y;};this.$63=function(){return(this.$4K()-this.$4K(true))*(60/this.cellDuration);};this.$64=function(){return(this.$4K()-this.$4K(true));};this.$5l=function(){return this.$63()*this.cellHeight;};this.$62=function($1Y,i){var $J=(this.cellHeight*60/ this.cellDuration)/(60/this.timeHeaderCellDuration);var r=$1Y.insertRow(-1);r.style.height=$J+"px";var c=r.insertCell(-1);c.valign="bottom";c.setAttribute("unselectable","on");if(!this.cssOnly){c.className=this.$4E("rowheader");c.style.backgroundColor=this.hourNameBackColor;c.style.cursor="default";};c.style.padding='0px';c.style.border='0px none';var $23=document.createElement("div");if(this.cssOnly){$23.className=this.$4E("_rowheader");};$23.style.position="relative";$23.style.width=this.hourWidth+"px";$23.style.height=($J)+"px";$23.style.overflow='hidden';$23.setAttribute("unselectable","on");var $1j=document.createElement("div");if(this.cssOnly){$1j.className=this.$4E("_rowheader_inner");};$1j.setAttribute("unselectable","on");if(!this.cssOnly){$1j.style.borderBottom="1px solid "+this.hourNameBorderColor;$1j.style.textAlign="right";$1j.style.height=($J-1)+"px";};var $S=null;var $h=null;if(this.hours){var $24=i+this.$64();$h=this.hours[$24];$S=$h.html;};var $08=this.startDate.addHours(i+this.$4K());var $25=$08.getHours();if(typeof $c.onBeforeTimeHeaderRender==='function'){var $n={};$n.header={};$n.header.hours=$25;$n.header.minutes=$08.getMinutes();$n.header.start=$08.toString("HH:mm");$n.header.html=$S;$n.header.areas=$h?$h.areas:null;$c.onBeforeTimeHeaderRender($n);if($n.header.html!==null){$S=$n.header.html;};$h=$n.header;};if($h){$23.data=$h;$23.onmousemove=$c.$65;$23.onmouseout=$c.$66;};if($S){$1j.innerHTML=$S;}else{var $26=document.createElement("div");$26.setAttribute("unselectable","on");if(!this.cssOnly){$26.style.padding="2px";$26.style.fontFamily=this.hourFontFamily;$26.style.fontSize=this.hourFontSize;$26.style.color=this.hourFontColor;};var am=$25<12;if(this.$5I.timeFormat()==="Clock12Hours"){$25=$25%12;if($25===0){$25=12;}};$26.innerHTML=$25;var $27=document.createElement("span");$27.setAttribute("unselectable","on");if(!this.cssOnly){$27.style.fontSize="10px";$27.style.verticalAlign="super";}else{$27.className=this.$4E("_rowheader_minutes");};var $28;if(this.$5I.timeFormat()==="Clock12Hours"){if(am){$28="AM";}else{$28="PM";}}else{$28="00";};if(!this.cssOnly){$27.innerHTML="&nbsp;"+$28;}else{$27.innerHTML=$28;};$26.appendChild($27);$1j.appendChild($26);};$23.appendChild($1j);c.appendChild($23);};this.$65=function(ev){$c.$4e();var $d=this;if(!$d.active){DayPilot.Areas.showAreas($d,$d.data);}};this.$66=function(ev){DayPilot.Areas.hideAreas(this,ev);};this.$5R=function(){switch(this.heightSpec){case "Fixed":return this.height;case "Parent100Pct":return this.height;case "Full":return(this.$4G()*this.cellHeight)/(60000*this.cellDuration);case "BusinessHours":case "BusinessHoursNoScroll":var $O=this.$4H();return $O*this.cellHeight*60/this.cellDuration;default:throw "DayPilot.Calendar: Unexpected 'heightSpec' value.";}};this.$4L=function(){if(!this.showHeader){return 0;};var $29=this.headerLevels*$0d.headerHeight()+this.headerLevels-1;if(this.showAllDayEvents&&$0d.allDayHeaderHeight()){if(!this.cssOnly){return $29+$0d.allDayHeaderHeight();}else{return $29+$0d.allDayHeaderHeight();}}else{return $29;}};this.$4p=function(){if(!this.headerHeightAutoFit){return;};if(this.headerLevels>1){throw "Header height can't be adjusted for HeaderLevels > 1 (not implemented yet).";return;};var $N=0;for(var i=0;i<this.$4D.length;i++){var $f=this.nav.header.rows[this.headerLevels-1].cells[i];var $d=$f.firstChild;var $M=$d.firstChild;var $2a=$d.style.height;$d.style.height="auto";$M.style.position="static";var h=$d.offsetHeight;$d.style.height=$2a;$M.style.position='';$N=Math.max($N,h);};if($N>this.headerHeight){this.$3S.headerHeight=$N;this.$4n();this.$4o();}};this.$67=function(){if(this.cssOnly){return DayPilot.sw($c.nav.scroll)>0;}else{return DayPilot.sw($c.nav.scroll)>2;}};this.$5T=function(){var $1n=document.createElement("div");if(!this.cssOnly){$1n.style.borderLeft="1px solid "+this.borderColor;$1n.style.borderRight="1px solid "+this.borderColor;};var $0L=this.columnWidthSpec==='Fixed';if(!$0L){$1n.style.overflow="auto";};$1n.style.position="absolute";$1n.style.left="0px";$1n.style.right="0px";var $1T=document.createElement("div");$1T.style.position="relative";$1T.style.zoom="1";var $2b=null;var $0L=this.columnWidthSpec==='Fixed';if($0L){var $X=document.createElement("div");$X.style.cssFloat="left";$X.style.styleFloat="left";$X.style.width=(this.hourWidth)+"px";if(this.showHours){var $2c=this.$68();this.nav.corner=$2c;$X.appendChild($2c);$1T.appendChild($X);this.nav.upperLeft=$X;};var $1X=30;var $Y=document.createElement("div");if(this.showHours){$Y.style.marginLeft=(this.hourWidth)+"px";};$Y.style.position="relative";$Y.style.overflow="hidden";$Y.style.height=this.$4L()+"px";$1T.appendChild($Y);this.nav.upperRight=$Y;$2b=document.createElement("div");$2b.style.width=(this.$4D.length*this.columnWidth+$1X)+"px";$Y.appendChild($2b);}else{var $1Y=document.createElement("table");$1Y.cellPadding="0";$1Y.cellSpacing="0";$1Y.border="0";$1Y.style.width="100%";$1Y.style.borderCollapse='separate';$1Y.style.border="0px none";var r=$1Y.insertRow(-1);this.nav.fullHeader=$1Y;if(this.showHours){var c=r.insertCell(-1);c.style.padding='0px';c.style.border='0px none';var $2c=this.$68();c.appendChild($2c);this.nav.corner=$2c;};c=r.insertCell(-1);c.style.width="100%";if(!this.cssOnly){c.style.backgroundColor=this.hourNameBackColor;};c.valign="top";c.style.position='relative';c.style.padding='0px';c.style.border='0px none';$2b=document.createElement("div");$2b.style.position="relative";$2b.style.height=this.$4L()+"px";$2b.style.overflow="hidden";c.appendChild($2b);this.nav.mid=$2b;$1T.appendChild($1Y);};this.nav.headerParent=$2b;this.$69();var $2d=this.$67();var $0L=this.columnWidthSpec==='Fixed';if($2d&&!$0L){this.$6a();};$1n.appendChild($1T);return $1n;};this.$69=function(){this.nav.header=document.createElement("table");this.nav.header.cellPadding="0";this.nav.header.cellSpacing="0";var $0L=this.columnWidthSpec==='Fixed';if(!$0L){this.nav.header.width="100%";};this.nav.header.style.tableLayout="fixed";if(!this.cssOnly){this.nav.header.style.borderBottom="0px none #000000";this.nav.header.style.borderLeft="1px solid "+this.borderColor;this.nav.header.style.borderTop="1px solid "+this.borderColor;};this.nav.header.oncontextmenu=function(){return false;};var $2d=this.$67();if(!this.cssOnly){if($2d){this.nav.header.style.borderRight="1px solid "+this.borderColor;}};this.nav.headerParent.appendChild(this.nav.header);if(this.nav.allday){DayPilot.de(this.nav.allday);};if(this.showAllDayEvents){var $2e=document.createElement("div");$2e.style.position='absolute';$2e.style.top="0px";$2e.style.height="0px";var $0L=this.columnWidthSpec==='Fixed';if(!$0L){$2e.style.width="100%";}else{$2e.style.width=(this.$4D.length*this.columnWidth)+"px";};this.nav.allday=$2e;this.nav.headerParent.appendChild($2e);}};this.$6a=function(){if(!this.nav.fullHeader){return;};var r=this.nav.fullHeader.rows[0];var c=r.insertCell(-1);if(!this.cssOnly){c.className=this.$4E('cornerright');c.style.backgroundColor=this.hourNameBackColor;c.style.borderBottom="0px none";c.style.borderLeft="1px solid "+this.borderColor;c.style.borderRight="0px none";};c.style.padding='0px';c.style.verticalAlign='top';c.setAttribute("unselectable","on");var $1r=document.createElement("div");$1r.setAttribute("unselectable","on");if(this.cssOnly){$1r.className=this.$4E('_cornerright');};$1r.style.overflow="hidden";$1r.style.position="relative";$1r.style.width="16px";$1r.style.height=this.$4L()+"px";var $M=document.createElement("div");if(this.cssOnly){$M.className=this.$4E('_cornerright_inner');}else{$M.style.borderTop="1px solid "+this.borderColor;};$1r.appendChild($M);c.appendChild($1r);this.nav.cornerRight=$1r;};this.$68=function(){var $1R=document.createElement("div");$1R.style.position='relative';if(!this.cssOnly){$1R.style.backgroundColor=this.cornerBackColor;$1R.style.fontFamily=this.headerFontFamily;$1R.style.fontSize=this.headerFontSize;$1R.style.color=this.headerFontColor;$1R.className=this.$4E("corner");}else{$1R.className=this.$4E("_corner");};$1R.style.width=this.hourWidth+"px";$1R.style.height=this.$4L()+"px";$1R.style.overflow="hidden";$1R.oncontextmenu=function(){return false;};var $2c=document.createElement("div");if(this.cssOnly){$2c.className=this.$4E("_corner_inner");}else{$2c.style.borderTop="1px solid "+this.borderColor;};$2c.setAttribute("unselectable","on");var $S=this.cornerHTML||this.cornerHtml;$2c.innerHTML=$S?$S:'';$1R.appendChild($2c);if(!this.numberFormat)return $1R;var $2f=document.createElement("div");$2f.style.position='absolute';$2f.style.padding='2px';$2f.style.top='0px';$2f.style.left='1px';$2f.style.backgroundColor="#FF6600";$2f.style.color="white";$2f.innerHTML="\u0044\u0045\u004D\u004F";$2f.setAttribute("unselectable","on");$1R.appendChild($2f);return $1R;};this.$48=function(){var $1Y=this.nav.main;$1Y.root=null;$1Y.onmouseup=null;for(var y=0;y<$1Y.rows.length;y++){var r=$1Y.rows[y];for(var x=0;x<r.cells.length;x++){var c=r.cells[x];c.root=null;c.onmousedown=null;c.onmousemove=null;c.onmouseout=null;c.onmouseup=null;c.onclick=null;c.ondblclick=null;c.oncontextmenu=null;}};if(!this.$3T)DayPilot.pu($1Y);};this.$4q=function(){for(var i=0;this.nav.scrollUp&&i<this.nav.scrollUp.length;i++){this.nav.scrollLayer.removeChild(this.nav.scrollUp[i]);};for(var i=0;this.nav.scrollDown&&i<this.nav.scrollDown.length;i++){this.nav.scrollLayer.removeChild(this.nav.scrollDown[i]);};this.nav.scrollUp=[];this.nav.scrollDown=[];};this.$61=function(c){var $d=document.createElement("div");$d.style.marginRight=$c.columnMarginRight+"px";$d.style.position='relative';$d.style.height='1px';if(!this.cssOnly){$d.style.fontSize='1px';$d.style.lineHeight='1.2';};$d.style.marginTop='-1px';c.events=$d;var $2g=document.createElement("div");$2g.style.position="relative";$d.style.height="1px";$d.style.marginTop="-1px";c.separators=$2g;c.appendChild($2g);c.appendChild($d);};this.$4s=function(){var $1Y=this.nav.main;var $0j=this.cellDuration*60*1000;var $2h=this.$4N();var $2i=this.$64()*(60/this.cellDuration);var $0N=$c.$4D;var $21=!this.$6b||$1Y.rows.length===0||$0N.length!==$1Y.rows[0].cells.length||$2h!==$1Y.rows.length;if($1Y){this.$48();if($c.$3W.ielt9&&$21){DayPilot.de(this.nav.scrollable.parentNode);var $1R=this.$5U();this.nav.scrollable=$1R.firstChild;this.nav.scroll.appendChild($1R);$1Y=this.nav.main;}};this.nav.scrollable.daypilotMainD=true;this.nav.scrollable.calendar=this;while($1Y&&$1Y.rows&&$1Y.rows.length>0&&$21){if(!this.$3T)DayPilot.pu($1Y.rows[0]);$1Y.deleteRow(0);};this.$6b=true;if(this.scrollLabelsVisible){var $0N=this.$4D;var $0O=(this.showHours?this.hourWidth:0);var $H=(this.nav.scroll.clientWidth-$0O)/$0N.length;for(var i=0;i<$0N.length;i++){var $0Q=document.createElement("div");$0Q.style.position='absolute';$0Q.style.top='0px';$0Q.style.left=($0O+2+i*$H+$H/2)+"px";$0Q.style.display='none';var $1y=document.createElement("div");$1y.style.height='10px';$1y.style.width='10px';if(this.cssOnly){$1y.className=this.$4E("_scroll_up");}else{$1y.style.backgroundRepeat="no-repeat";if(this.scrollUpUrl){$1y.style.backgroundImage="url('"+this.scrollUpUrl+"')";};$1y.className=this.$4E("scroll_up");};$0Q.appendChild($1y);this.nav.scrollLayer.appendChild($0Q);this.nav.scrollUp.push($0Q);var $0R=document.createElement("div");$0R.style.position='absolute';$0R.style.top='0px';$0R.style.left=($0O+2+i*$H+$H/2)+"px";$0R.style.display='none';var $1y=document.createElement("div");$1y.style.height='10px';$1y.style.width='10px';if(this.cssOnly){$1y.className=this.$4E("_scroll_down");}else{$1y.style.backgroundRepeat="no-repeat";if(this.scrollDownUrl){$1y.style.backgroundImage="url('"+this.scrollDownUrl+"')";};$1y.className=this.$4E("scroll_down");};$0R.appendChild($1y);this.nav.scrollLayer.appendChild($0R);this.nav.scrollDown.push($0R);}};var cl=$0N.length;if(this.cssOnly||this.$3U){var $11=this.nav.events;while($11&&$11.rows&&$11.rows.length>0&&$21){if(!this.$3T)DayPilot.pu($11.rows[0]);$11.deleteRow(0);};var r=($21)?$11.insertRow(-1):$11.rows[0];for(var j=0;j<cl;j++){var c=($21)?r.insertCell(-1):r.cells[j];if($21){c.style.padding='0px';c.style.border='0px none';c.style.height='1px';c.style.overflow='visible';var $0L=this.columnWidthSpec==='Fixed';if($0L){if($0N[j].width){c.style.width=$0N[j].width+"px";}else{c.style.width=this.columnWidth+"px";}};if(!$c.rtl){c.style.textAlign='left';};$c.$61(c);}}};for(var i=0;i<$2h;i++){var r=($21)?$1Y.insertRow(-1):$1Y.rows[i];var y=i+$2i;if($21){r.style.MozUserSelect='none';r.style.KhtmlUserSelect='none';r.style.WebkitUserSelect='none';};for(var j=0;j<cl;j++){var $1M=this.$4D[j];var c=($21)?r.insertCell(-1):r.cells[j];c.start=$1M.start.addTime(y*$0j).addHours(this.$4K());c.end=c.start.addTime($0j);c.resource=$1M.id;if(typeof this.onBeforeCellRender==='function'){if(!this.cellProperties){this.cellProperties={};};var $f={};$f.resource=c.resource;$f.start=c.start;$f.end=c.end;var $24=j+"_"+y;$f.cssClass=null;$f.html=null;$f.backImage=null;$f.backRepeat=null;$f.backColor=null;$f.business=this.$6c(c.start,c.end);if(this.cellProperties[$24]){DayPilot.Util.copyProps(this.cellProperties[$24],$f,['cssClass','html','backImage','backRepeat','backColor','business']);};var $n={};$n.cell=$f;this.onBeforeCellRender($n);this.cellProperties[$24]=$f;};var $2j=$c.$6d(j,y);if($21){c.root=this;c.style.padding='0px';c.style.border='0px none';c.style.verticalAlign='top';c.style.height=$c.cellHeight+'px';c.style.overflow='hidden';c.setAttribute("unselectable","on");if(!this.cssOnly){var $2k=document.createElement("div");$2k.style.height=($c.cellHeight-1)+"px";$2k.style.width='100%';$2k.style.overflow='hidden';$2k.setAttribute("unselectable","on");c.appendChild($2k);var $d=document.createElement("div");$d.setAttribute("unselectable","on");$d.style.fontSize='1px';$d.style.height='0px';c.appendChild($d);if((!$c.rtl&&j!==cl-1)||$c.rtl){c.style.borderRight='1px solid '+$c.cellBorderColor;};var $2l=(c.end.getMinutes()+c.end.getSeconds()+c.end.getMilliseconds())>0;if($2l){if($c.hourHalfBorderColor!==''){$d.style.borderBottom='1px solid '+$c.hourHalfBorderColor;};$d.className=$c.$4E("hourhalfcellborder");}else{if($c.hourBorderColor!==''){$d.style.borderBottom='1px solid '+$c.hourBorderColor;};$d.className=$c.$4E("hourcellborder");}}else{var $2k=document.createElement("div");$2k.className=$c.$4E("_cell");$2k.style.position="relative";$2k.style.height=($c.cellHeight)+"px";$2k.style.overflow='hidden';$2k.setAttribute("unselectable","on");var $M=document.createElement("div");$M.className=$c.$4E("_cell_inner");$2k.appendChild($M);c.appendChild($2k);}}else{$2k=c.firstChild;$2k.className=$c.$4E("_cell");};c.onmousedown=this.$5e;c.onmousemove=this.$5h;c.onmouseout=this.$5g;DayPilot.re(c,DayPilot.touch.end,this.$5N.onCellTouchEnd);c.onmouseup=function(){return false;};c.onclick=function(){return false;};c.ondblclick=function(){DayPilotCalendar.firstMousePos=null;$c.$5f();clearTimeout(DayPilotCalendar.selectedTimeout);if($c.timeRangeDoubleClickHandling==='Disabled'){return;};var $0K=$c.getSelection();$c.$5a($0K.start,$0K.end,$0K.resource);};c.oncontextmenu=function(){if(!this.selected){$c.clearSelection();DayPilotCalendar.column=DayPilotCalendar.getColumn(this);$c.selectedCells.push(this);DayPilotCalendar.firstSelected=this;DayPilotCalendar.topSelectedCell=this;DayPilotCalendar.bottomSelectedCell=this;$c.$5f();};if($c.contextMenuSelection){$c.contextMenuSelection.show($c.getSelection());};return false;};var $V=$c.$6e(j,y);$2k=c.firstChild;var $0L=this.columnWidthSpec==='Fixed';if($0L){if($1M.width){$2k.style.width=$1M.width+"px";}else{$2k.style.width=this.columnWidth+"px";}};if($V){if(this.cssOnly){$2k.firstChild.style.background=$V;}else{$2k.style.background=$V;}};var $2m=$2j?$2j.business:this.$6c(c.start,c.end);if($2m&&this.cssOnly){DayPilot.Util.addClass($2k,$c.$4E("_cell_business"));};var $S=this.cssOnly?$2k.firstChild:$2k;if($S){$S.innerHTML='';};$2k.style.backgroundImage="";$2k.style.backgroundRepeat="";if($2j){if($2j.html){$S.innerHTML=$2j.html;};if($2j.cssClass){if(this.cssOnly){DayPilot.Util.addClass($2k,$2j.cssClass);}else{DayPilot.Util.addClass(c,$c.$4E($2j.cssClass));}};if($2j.backImage){$2k.style.backgroundImage="url('"+$2j.backImage+"')";};if($2j.backRepeat){$2k.style.backgroundRepeat=$2j.backRepeat;}};if(!this.cssOnly){DayPilot.Util.addClass(c,$c.$4E("cellbackground"));}}};$1Y.onmouseup=this.$5i;$1Y.root=this;$c.nav.scrollable.style.display='';};this.$6c=function($08,end){if(this.businessBeginsHour<this.businessEndsHour){return !($08.getHours()<this.businessBeginsHour||$08.getHours()>=this.businessEndsHour||$08.getDayOfWeek()===6||$08.getDayOfWeek()===0);};if($08.getHours()>=this.businessBeginsHour){return true;};if($08.getHours()<this.businessEndsHour){return true;};return false;};this.$5X=function(ev){ev=ev||window.event;ev.insideMainD=true;if(window.event){window.event.srcElement.inside=true;};DayPilotCalendar.activeCalendar=this;var $2n=$c.nav.main;$c.coords=DayPilot.mo3($2n,ev);var $0G=DayPilot.mc(ev);var $1Z=$c.crosshairType&&$c.crosshairType!=="Disabled";var $2o=$c.coords.x<$c.hourWidth;if(DayPilot.Global.moving||DayPilot.Global.resizing||DayPilotCalendar.selecting||$2o){$c.$4e();}else if($1Z){$c.$6f();};if(DayPilot.Global.resizing){if(!DayPilotCalendar.resizingShadow){DayPilotCalendar.resizingShadow=$c.$4C(DayPilot.Global.resizing,false,$c.shadow);};var $2p=DayPilot.Global.resizing.event.calendar.cellHeight;var $I=0;var $2q=($0G.y-DayPilotCalendar.originalMouse.y);if(DayPilot.Global.resizing.dpBorder==='bottom'){var $2r=Math.floor(((DayPilotCalendar.originalHeight+DayPilotCalendar.originalTop+$2q)+$2p/ 2)/ $2p)*$2p-DayPilotCalendar.originalTop+$I;if($2r<$2p)$2r=$2p;var $N=DayPilot.Global.resizing.event.calendar.nav.main.clientHeight;if(DayPilotCalendar.originalTop+$2r>$N){$2r=$N-DayPilotCalendar.originalTop;};DayPilotCalendar.resizingShadow.style.height=($2r)+'px';}else if(DayPilot.Global.resizing.dpBorder==='top'){var $2s=Math.floor(((DayPilotCalendar.originalTop+$2q-$I)+$2p/ 2)/ $2p)*$2p+$I;if($2s<$I){$2s=$I;};if($2s>DayPilotCalendar.originalTop+DayPilotCalendar.originalHeight-$2p){$2s=DayPilotCalendar.originalTop+DayPilotCalendar.originalHeight-$2p;};var $2r=DayPilotCalendar.originalHeight-($2s-DayPilotCalendar.originalTop);if($2r<$2p){$2r=$2p;}else{DayPilotCalendar.resizingShadow.style.top=$2s+'px';};DayPilotCalendar.resizingShadow.style.height=($2r)+'px';}}else if(DayPilot.Global.moving){if(!DayPilotCalendar.movingShadow){var $2t=3;if(DayPilot.distance($0G,DayPilotCalendar.originalMouse)>$2t){DayPilotCalendar.movingShadow=$c.$4C(DayPilot.Global.moving,!$c.$3W.ie,$c.shadow);DayPilotCalendar.movingShadow.style.width=(DayPilotCalendar.movingShadow.parentNode.offsetWidth+1)+'px';}else{return;}};if(!$c.coords){return;};var $2p=$c.cellHeight;var $I=0;var $0P=DayPilotCalendar.moveOffsetY;if(!$0P){$0P=$2p/2;};if(this.moveBy==="Top"){$0P=0;};var $2s=Math.floor((($c.coords.y-$0P-$I)+$2p/ 2)/ $2p)*$2p+$I;if($2s<$I){$2s=$I;};var $G=$c.nav.main;var $N=$G.clientHeight;var $J=parseInt(DayPilotCalendar.movingShadow.style.height);if($2s+$J>$N){$2s=$N-$J;};DayPilotCalendar.movingShadow.style.top=$2s+'px';var $H=$G.clientWidth/$G.rows[0].cells.length;var $q=Math.floor(($c.coords.x)/$H);if($q<0){$q=0;};if($c.rtl){$q=$c.$4D.length-$q-1;};var $11=$c.nav.events;if($q<$11.rows[0].cells.length&&$q>=0&&DayPilotCalendar.movingShadow.column!==$q){DayPilotCalendar.movingShadow.column=$q;DayPilotCalendar.moveShadow($11.rows[0].cells[$q]);}};if(DayPilotCalendar.drag){if(DayPilotCalendar.gShadow){document.body.removeChild(DayPilotCalendar.gShadow);};DayPilotCalendar.gShadow=null;if(!DayPilotCalendar.movingShadow&&$c.coords){var $L=$c.$4C(DayPilotCalendar.drag,false,DayPilotCalendar.drag.shadowType);if($L){DayPilotCalendar.movingShadow=$L;var $0F=new DayPilot.Date().getDatePart();var ev={'value':DayPilotCalendar.drag.id,'start':$0F,'end':$0F.addSeconds(DayPilotCalendar.drag.duration),'text':DayPilotCalendar.drag.text};var event=new DayPilot.Event(ev,$c);event.external=true;DayPilot.Global.moving={};DayPilot.Global.moving.event=event;DayPilot.Global.moving.helper={};}};ev.cancelBubble=true;}};this.temp={};this.temp.getPosition=function(){var $2u=$c.$6g.getCellCoords();if(!$2u){return null;};var $q=$c.$4D[$2u.x];var $f={};$f.resource=$q.id;$f.start=new DayPilot.Date($q.start).addHours($c.$4K(true)).addMinutes($2u.y*$c.cellDuration);$f.end=$f.start.addMinutes($c.cellDuration);return $f;};this.$6g={};this.$6g.getCellCoords=function(){var $u={};$u.x=0;$u.y=0;if(!$c.coords){return null;};var $G=$c.nav.main;var $2v=$c.coords.x;var i=0;var $1M=this.col($G,i);while($1M&&$2v>$1M.left){i+=1;$1M=this.col($G,i);};$u.x=i-1;var $I=0;var $1S=Math.floor(($c.coords.y-$I)/$c.cellHeight);$u.y=$1S;if($u.x<0){return null;};return $u;};this.$6g.col=function($1Y,x){var $u={};$u.left=0;$u.width=0;if(!$1Y){return null;};if(!$1Y.rows){return null;};if($1Y.rows.length===0){return null;};if($1Y.rows[0].cells.length==0){return null;};var $f=$1Y.rows[0].cells[x];if(!$f){return null;};var t=DayPilot.abs($1Y);var c=DayPilot.abs($f);$u.left=c.x-t.x;$u.width=$f.offsetWidth;return $u;};this.$6f=function(){this.$4e();if(!this.elements.crosshair){this.elements.crosshair=[];};var $2w=this.$6g.getCellCoords();if(!$2w){return;};var $q=$2w.x;var y=Math.floor($2w.y/(60/ $c.cellDuration)*(60/$c.timeHeaderCellDuration));if(y<0){return;};if(this.nav.hourTable){if(y>=this.nav.hourTable.rows.length){return;};var $2x=document.createElement("div");$2x.style.position="absolute";$2x.style.left="0px";$2x.style.right="0px";$2x.style.top="0px";$2x.style.bottom="0px";$2x.style.opacity=.5;$2x.style.backgroundColor=this.crosshairColor;$2x.style.opacity=this.crosshairOpacity/100;$2x.style.filter="alpha(opacity="+this.crosshairOpacity+")";this.nav.hourTable.rows[y].cells[0].firstChild.appendChild($2x);this.elements.crosshair.push($2x);};if(this.nav.header){var $2y=document.createElement("div");$2y.style.position="absolute";$2y.style.left="0px";$2y.style.right="0px";$2y.style.top="0px";$2y.style.bottom="0px";$2y.style.opacity=.5;$2y.style.backgroundColor=this.crosshairColor;$2y.style.opacity=this.crosshairOpacity/100;$2y.style.filter="alpha(opacity="+this.crosshairOpacity+")";var $1S=this.nav.header.rows[this.headerLevels-1];if($1S.cells[$q]){$1S.cells[$q].firstChild.appendChild($2y);this.elements.crosshair.push($2y);}};if(this.crosshairType==="Header"){return;};var $2z=this.nav.crosshair;var $I=0;var top=Math.floor((($c.coords.y-$I))/$c.cellHeight)*$c.cellHeight+$I;var $J=$c.cellHeight;var $2A=document.createElement("div");$2A.style.position="absolute";$2A.style.left="0px";$2A.style.right="0px";$2A.style.top=top+"px";$2A.style.height=$J+"px";$2A.style.backgroundColor=this.crosshairColor;$2A.style.opacity=this.crosshairOpacity/100;$2A.style.filter="alpha(opacity="+this.crosshairOpacity+")";$2A.onmousedown=this.$6h;$2z.appendChild($2A);this.elements.crosshair.push($2A);var $1M=this.$6g.col(this.nav.main,$q);$J=this.nav.main.clientHeight;if($1M){var $2B=document.createElement("div");$2B.style.position="absolute";$2B.style.left=$1M.left+"px";$2B.style.width=$1M.width+"px";$2B.style.top="0px";$2B.style.height=$J+"px";$2B.style.backgroundColor=this.crosshairColor;$2B.style.opacity=this.crosshairOpacity/100;$2B.style.filter="alpha(opacity="+this.crosshairOpacity+")";$2B.onmousedown=this.$6h;$2z.appendChild($2B);this.elements.crosshair.push($2B);}};this.$6h=function(ev){$c.$4e();var $2w=$c.$6g.getCellCoords();var $2C=0;var $f=$c.nav.main.rows[$2w.y+$2C].cells[$2w.x];$c.$5e.apply($f,[ev]);};this.$4e=function(){if(!this.elements.crosshair||this.elements.crosshair.length===0){return;};for(var i=0;i<this.elements.crosshair.length;i++){var e=this.elements.crosshair[i];if(e&&e.parentNode){e.parentNode.removeChild(e);}};this.elements.crosshair=[];};this.$4l=function(){if(!this.cellConfig){return;};var $2D=this.cellConfig;if($2D.vertical){for(var x=0;x<$2D.x;x++){var $2E=this.cellProperties[x+"_0"];for(var y=1;y<$2D.y;y++){this.cellProperties[x+"_"+y]=$2E;}}};if($2D.horizontal){for(var y=0;y<$2D.y;y++){var $2E=this.cellProperties["0_"+y];for(var x=1;x<$2D.x;x++){this.cellProperties[x+"_"+y]=$2E;}}};if($2D["default"]){var $2E=$2D["default"];for(var y=0;y<$2D.y;y++){for(var x=0;x<$2D.x;x++){if(!this.cellProperties[x+"_"+y]){this.cellProperties[x+"_"+y]=$2E;}}}}};this.$6d=function(x,y){if(!this.cellProperties){return null;};return this.cellProperties[x+"_"+y];};this.$6i=function(x,y){var $24=x+'_'+y;if(this.cellProperties&&this.cellProperties[$24]){return this.cellProperties[$24].business;};return false;};this.$6e=function(x,y){var $24=x+'_'+y;if(this.cellProperties&&this.cellProperties[$24]){return this.cellProperties[$24].backColor;};return null;};this.$49=function(){var $1Y=this.nav.header;if($1Y&&$1Y.rows){for(var y=0;y<$1Y.rows.length;y++){var r=$1Y.rows[y];for(var x=0;x<r.cells.length;x++){var c=r.cells[x];c.onclick=null;c.onmousemove=null;c.onmouseout=null;}}};if(!this.$3T)DayPilot.pu($1Y);};this.$6j=function($1f,$21){var r=($21)?this.nav.header.insertRow(-1):this.nav.header.rows[$1f-1];var $0N=this.$5E($1f);var $2F=$0N.length;var $2G=($1f===$c.headerLevels);for(var i=0;i<$2F;i++){var $h=$0N[i];if($c.$4B()){if(typeof $c.onBeforeHeaderRender==='function'){var $n={};$n.header={};DayPilot.Util.copyProps($h,$n.header,['id','start','name','html','backColor','toolTip','areas','children']);this.onBeforeHeaderRender($n);DayPilot.Util.copyProps($n.header,$h,['html','backColor','toolTip','areas']);}};var $2H=$h.getChildren?true:false;var $f=($21)?r.insertCell(-1):r.cells[i];$f.data=$h;if($2G){}else{var $2I=1;if($2H){$2I=$h.getChildrenCount($c.headerLevels-$1f+1);};$f.colSpan=$2I;};if($2H){$f.onclick=this.$4U;$f.onmousemove=this.$4V;$f.onmouseout=this.$4W;if($h.toolTip){$f.title=$h.toolTip;}};$f.style.overflow='hidden';$f.style.padding='0px';$f.style.border='0px none';$f.style.height=($0d.headerHeight())+"px";if(!this.cssOnly){$f.style.borderLeft="0px none";if(i!==$2F-1){$f.style.borderRight="1px solid "+this.borderColor;}};var $d=($21)?document.createElement("div"):$f.firstChild;var $0L=this.columnWidthSpec==='Fixed';if($0L&&$2G){if($h.width){$d.style.width=$h.width+"px";}else{$d.style.width=$c.columnWidth+"px";}};if($21){$d.setAttribute("unselectable","on");$d.style.MozUserSelect='none';$d.style.KhtmlUserSelect='none';$d.style.WebkitUserSelect='none';$d.style.position='relative';$d.style.height=$0d.headerHeight()+"px";if(!this.cssOnly){$d.className=$c.$4E('colheader');$d.style.cursor='default';$d.style.fontFamily=this.headerFontFamily;$d.style.fontSize=this.headerFontSize;$d.style.color=this.headerFontColor;$d.style.backgroundColor=$h.backColor;$d.style.textAlign='center';var $26=document.createElement("div");$26.style.position='absolute';$26.style.left='0px';$26.style.right='0px';$26.style.top="0px";$26.style.bottom="0px";$26.style.padding="2px";$26.setAttribute("unselectable","on");if($1f!==1){$26.style.borderTop='1px solid '+this.borderColor;};if(this.headerClickHandling!=="Disabled"){$26.style.cursor='pointer';};$d.appendChild($26);}else{$d.className=$c.$4E('_colheader');var $M=document.createElement("div");$M.className=$c.$4E('_colheader_inner');if($h.backColor){$M.style.background=$h.backColor;};$d.appendChild($M);};$f.appendChild($d);}else{$d.style.height=$0d.headerHeight()+"px";};this.$6k($d,$h);if($2H){$d.firstChild.innerHTML=$h.html;}}};this.$6k=function($d,$h){var $2J=[];for(var j=0;j<$d.childNodes.length;j++){var $r=$d.childNodes[j];if($r.isActiveArea){$2J.push($r);}};for(var j=0;j<$2J.length;j++){var $r=$2J[j];DayPilot.de($r);};if($h.areas){var $1o=$h.areas;for(var j=0;j<$1o.length;j++){var $1K=$1o[j];if($1K.v!=='Visible'){continue;};var o=new DayPilotCalendar.Column($h.id,$h.name,$h.start);var a=DayPilot.Areas.createArea($d,o,$1K);$d.appendChild(a);}}};this.$4o=function(){if(!this.showHeader){return;};var $1n=this.nav.header;var $21=true;var $0N=this.$5E($c.headerLevels,true);var $2F=$0N.length;if(this.$6l&&$1n&&$1n.rows&&$1n.rows.length>0){$21=$1n.rows[$1n.rows.length-1].cells.length!==$2F;};if(this.$6l&&$c.$3W.ielt9&&$21){DayPilot.de(this.nav.header);this.$69();}while(this.$6l&&$1n&&$1n.rows&&$1n.rows.length>0&&$21){if(!this.$3T)DayPilot.pu($1n.rows[0]);$1n.deleteRow(0);};this.$6l=true;var $S=$c.cornerHTML||$c.cornerHtml;if(!$21){var $2c=$c.nav.corner;if($2c){if(!this.cssOnly){if($c.cornerBackColor){$2c.style.backgroundColor=$c.cornerBackColor;}else{$2c.style.backgroundColor=$c.hourBackColor;}};if(!this.$3T)DayPilot.pu($2c.firstChild);$2c.firstChild.innerHTML=$S?$S:'';}};for(var i=0;i<$c.headerLevels;i++){this.$6j(i+1,$21);};if(!this.showAllDayEvents){return;};var r=($21)?this.nav.header.insertRow(-1):this.nav.header.rows[$c.headerLevels];for(var i=0;i<$2F;i++){var $h=$0N[i];var $f=($21)?r.insertCell(-1):r.cells[i];$f.data=$h;$f.style.padding='0px';$f.style.border='0px none';$f.style.overflow='hidden';if(!this.cssOnly){$f.style.lineHeight='1.2';};var $d=($21)?document.createElement("div"):$f.firstChild;if($21){$d.setAttribute("unselectable","on");$d.style.MozUserSelect='none';$d.style.KhtmlUserSelect='none';$d.style.WebkitUserSelect='none';$d.style.overflow='hidden';$d.style.position="relative";$d.style.height=$0d.allDayHeaderHeight()+"px";if(!this.cssOnly){$d.className=this.$4E("alldayheader");$d.style.textAlign='center';$d.style.backgroundColor=$h.backColor;$d.style.cursor='default';var $26=document.createElement("div");$26.style.position="absolute";$26.style.left='0px';$26.style.right='0px';$26.style.top="0px";$26.style.bottom="0px";$26.setAttribute("unselectable","on");$26.style.borderTop='1px solid '+this.borderColor;$d.appendChild($26);if($c.rtl){if(i===$2F-1){$26.style.borderLeft="1px solid "+$h.backColor;}else{$26.style.borderLeft="1px solid "+this.borderColor;}}else{if(i!==$2F-1){$26.style.borderRight="1px solid "+this.borderColor;}}}else{$d.className=this.$4E("_alldayheader");var $M=document.createElement("div");$M.className=this.$4E("_alldayheader_inner");$d.appendChild($M);};$f.appendChild($d);};$d.style.height=$0d.allDayHeaderHeight()+"px";}};this.$42=function(){if(this.loadingLabelVisible){this.nav.loading.innerHTML=this.loadingLabelText;this.nav.loading.style.top=(this.$4L()+5)+"px";this.nav.loading.style.display='';}};this.$4h=function(){if(this.callbackTimeout){window.clearTimeout(this.callbackTimeout);};this.nav.loading.style.display='none';};this.$6m=function(){var $0L=this.columnWidthSpec==='Fixed';var $2K=$0L?this.nav.bottomRight:this.nav.scroll;var $2L=this.initScrollPos;if(!$2L){var $25=this.businessBeginsHour;$2L=$25*(60/$c.cellDuration)*$c.cellHeight;};$2K.root=this;$2K.onscroll=this.$5j;if($2K.scrollTop===0){$2K.scrollTop=$2L-this.$5l();}else{this.$5j();}};this.$6n=function(){var el=$c.nav.top;return el.offsetWidth>0&&el.offsetHeight>0;};this.$6o=function(){var $1d=$c.$6n;if(!$1d()){$c.$6p=setInterval(function(){if($1d()){$c.$6m();$c.$4v();clearInterval($c.$6p);}},100);}};this.scrollToHour=function($25){var $0L=this.columnWidthSpec==='Fixed';var $2K=$0L?this.nav.bottomRight:this.nav.scroll;var $1B=$25*(60/$c.cellDuration)*$c.cellHeight;$2K.scrollTop=$1B-this.$5l();};this.onCallbackError=function($u,$v){alert("Error!\r\nResult: "+$u+"\r\nContext:"+$v);};this.scrollbarVisible=this.$67;this.$4v=function(){var $2M=this.$67();var $1d=!!this.nav.cornerRight;if($2M!==$1d){if($2M){this.$6a();}else{if(this.nav.fullHeader&&this.nav.fullHeader.rows[0].cells.length===3){var c=this.nav.fullHeader.rows[0].cells[2];if(c.parentNode){c.parentNode.removeChild(c);}};this.nav.cornerRight=null;}};var d=this.nav.cornerRight;if(!d){return;};var w=DayPilot.sw(this.nav.scroll);if(!this.cssOnly){if(w>=3){d.style.width=(w-3)+'px';}}else{if(d){d.style.width=(w)+'px';}};return w;};this.$4A=function($2N){if($2N){this.autoRefreshEnabled=true;};if(!this.autoRefreshEnabled){return;};if(this.autoRefreshCount>=this.autoRefreshMaxCount){return;};this.$46();var $2O=this.autoRefreshInterval;if(!$2O||$2O<10){throw "The minimum autoRefreshInterval is 10 seconds";};this.autoRefreshTimeout=window.setTimeout(function(){$c.$6q();},this.autoRefreshInterval*1000);};this.$46=function(){if(this.autoRefreshTimeout){window.clearTimeout(this.autoRefreshTimeout);}};this.$6q=function(){if(!DayPilot.Global.resizing&&!DayPilot.Global.moving&&!DayPilotCalendar.drag&&!DayPilotCalendar.selecting){var $2P=false;if(typeof this.onAutoRefresh==='function'){var $n={};$n.i=this.autoRefreshCount;$n.preventDefault=function(){this.preventDefault.value=true;};$c.onAutoRefresh($n);if($n.preventDefault.value){$2P=true;}};if(!$2P&&this.$41()){this.commandCallBack(this.autoRefreshCommand);};this.autoRefreshCount++;};if(this.autoRefreshCount<this.autoRefreshMaxCount){this.autoRefreshTimeout=window.setTimeout(function(){$c.$6q();},this.autoRefreshInterval*1000);}};this.$4a=function(){if($c.heightSpec==="Parent100Pct"){$c.setHeight(parseInt($c.nav.top.clientHeight,10));};$c.$4u();$c.$4z();};this.$6r=function(){if(!DayPilotCalendar.globalHandlers){DayPilotCalendar.globalHandlers=true;DayPilot.re(document,'mousemove',DayPilotCalendar.gMouseMove);DayPilot.re(document,'mouseup',DayPilotCalendar.gMouseUp);DayPilot.re(document,DayPilot.touch.move,DayPilotCalendar.gTouchMove);DayPilot.re(document,DayPilot.touch.end,DayPilotCalendar.gTouchEnd);};DayPilot.re(window,'resize',this.$4a);};this.$5M=function(ev){if($0B.active||$0B.using){return;};ev=ev||window.event;var $0C=DayPilot.Util.mouseButton(ev);if(typeof(DayPilotBubble)!=='undefined'){DayPilotBubble.hideActive();};if((this.style.cursor==='n-resize'||this.style.cursor==='s-resize')&&$0C.left){DayPilot.Global.resizing=this;DayPilotCalendar.originalMouse=DayPilot.mc(ev);DayPilotCalendar.originalHeight=this.offsetHeight;DayPilotCalendar.originalTop=this.offsetTop;$c.nav.top.style.cursor=this.style.cursor;}else if((this.style.cursor==='move'||($c.moveBy==='Full'&&$c.eventMoveHandling!=='Disabled'))&&$0C.left){DayPilot.Global.moving=this;var $2Q=DayPilot.Global.moving.helper={};$2Q.oldColumn=$c.$4D[this.event.part.dayIndex].id;DayPilotCalendar.originalMouse=DayPilot.mc(ev);DayPilotCalendar.originalTop=this.offsetTop;var $0P=DayPilot.mo3(this,ev);if($0P){DayPilotCalendar.moveOffsetY=$0P.y;}else{DayPilotCalendar.moveOffsetY=0;};$c.nav.top.style.cursor=this.style.cursor;};return false;};this.$6s=function(i){var $1C=this.$3S.events;var $h=this.events.list[i];var $2R={};for(var name in $h){$2R[name]=$h[name];};if($c.showEventStartEnd){var $2S=$h.start.getDatePart().getTime()===$h.end.getDatePart().getTime();var $1e=$2S?$0d.locale().timePattern:$0d.locale().dateTimePattern;var $2T=$h.start.toString($1e);var $2U=$h.end.toString($1e);$2R.html=$2R.text+" ("+$2T+" - "+$2U+")";};if(typeof this.onBeforeEventRender==='function'){var $n={};$n.e=$2R;this.onBeforeEventRender($n);};$1C[i]=$2R;};this.$5N={};var $0B=$c.$5N;$0B.active=false;$0B.start=null;$0B.timeout=null;$0B.startcell=null;this.$5N.getCellCoords=function(ev){var x,y;if(ev.touches){x=ev.touches[0].pageX;y=ev.touches[0].pageY;}else{x=ev.pageX;y=ev.pageY;};var $2V=DayPilot.abs($c.nav.main);var $2W={x:x-$2V.x,y:y-$2V.y};var w=($c.nav.main.clientWidth/$c.$4D.length);var $2u={"pageX":x,"pageY":y,"x":Math.floor($2W.x/w),"y":Math.floor($2W.y/$c.cellHeight),"toString":function(){return "x: "+this.x+" y:"+this.y;}};return $2u;};this.$5N.startSelecting=function($2u){var $f=$c.nav.main.rows[$2u.y].cells[$2u.x];$0B.startcell=$2u;$c.clearSelection();DayPilotCalendar.column=DayPilotCalendar.getColumn($f);$c.selectedCells.push($f);DayPilotCalendar.firstSelected=$f;DayPilotCalendar.topSelectedCell=$f;DayPilotCalendar.bottomSelectedCell=$f;$c.$5f();};this.$5N.extendSelection=function($2u){var $f=$c.nav.main.rows[$2u.y].cells[$2u.x];$c.clearSelection();if($2u.y<$0B.startcell.y){$c.selectedCells=DayPilotCalendar.getCellsBelow($f);DayPilotCalendar.topSelectedCell=$c.selectedCells[0];DayPilotCalendar.bottomSelectedCell=DayPilotCalendar.firstSelected;}else{$c.selectedCells=DayPilotCalendar.getCellsAbove($f);DayPilotCalendar.topSelectedCell=DayPilotCalendar.firstSelected;DayPilotCalendar.bottomSelectedCell=$c.selectedCells[0];};$c.$5f();};this.$5N.onMainTouchStart=function(ev){if(navigator.msPointerEnabled&&ev.pointerType&&ev.pointerType==="mouse"){return;};if($0B.active){return;};$0B.using=true;var $2u=$0B.getCellCoords(ev);$0B.startCoords=$2u;var $2X=500;$0B.timeout=window.setTimeout(function(){ev.preventDefault();$0B.active=true;switch($c.timeRangeTapAndHoldHandling){case "Select":$0B.startSelecting($2u);break;case "ContextMenu":$0B.startSelecting($2u);$0B.active=false;if($c.contextMenuSelection){$c.contextMenuSelection.show($c.getSelection());};break;}},$2X);};this.$5N.onCellTouchMove=function(ev){};this.$5N.onCellTouchEnd=function(ev){if(!$0B.active){window.clearTimeout($0B.timeout);return;};ev.preventDefault();$0B.startcell=null;var $0K=$c.getSelection();$0K.toString=function(){return "start: "+this.start+"\nend: "+this.end;};$c.$59($0K.start,$0K.end,$0K.resource);window.setTimeout(function(){$0B.active=false;},500);};this.$5N.startMoving=function($d,$2u){DayPilot.Global.moving=$d;var $2Q=DayPilot.Global.moving.helper={};$2Q.oldColumn=$c.$4D[$d.event.part.dayIndex].id;DayPilotCalendar.originalMouse=$2u;DayPilotCalendar.originalTop=this.offsetTop;var $2V=DayPilot.abs($d);DayPilotCalendar.moveOffsetY=$2u.y-$2V.y;if(!DayPilotCalendar.movingShadow){DayPilotCalendar.movingShadow=$c.$4C(DayPilot.Global.moving,!$c.$3W.ie,$c.shadow);DayPilotCalendar.movingShadow.style.width=(DayPilotCalendar.movingShadow.parentNode.offsetWidth+1)+'px';}};this.$5N.updateMoving=function(){var $2u=$c.coords;var $2p=$c.cellHeight;var $I=0;var $0P=DayPilotCalendar.moveOffsetY;if(!$0P){$0P=$2p/2;};var $2s=Math.floor((($2u.y-$0P-$I)+$2p/ 2)/ $2p)*$2p+$I;if($2s<$I){$2s=$I;};var $G=$c.nav.main;var $N=$G.clientHeight;var $J=parseInt(DayPilotCalendar.movingShadow.style.height);if($2s+$J>$N){$2s=$N-$J;};DayPilotCalendar.movingShadow.style.top=$2s+'px';var $H=$G.clientWidth/$G.rows[0].cells.length;var $q=Math.floor($2u.x/$H);if($q<0){$q=0;};var $11=$c.nav.events;if($q<$11.rows[0].cells.length&&$q>=0&&DayPilotCalendar.movingShadow.column!==$q){DayPilotCalendar.movingShadow.column=$q;DayPilotCalendar.moveShadow($11.rows[0].cells[$q]);}};this.$5N.onEventTouchStart=function(ev){if($0B.active){return;};if(navigator.msPointerEnabled&&ev.pointerType&&ev.pointerType==="mouse"){return;};ev.stopPropagation();$0B.preventEventTap=false;$0B.using=true;$0B.startCoords=$0B.getCellCoords(ev);var $d=this;var x=ev.touches?ev.touches[0].pageX:ev.pageX;var y=ev.touches?ev.touches[0].pageY:ev.pageY;var $2u={x:x,y:y,$d:this};$c.coords=$0B.relativeCoords(ev);var $2X=500;$0B.timeout=window.setTimeout(function(){$0B.active=true;switch($c.eventTapAndHoldHandling){case "Move":$0B.startMoving($d,$2u);break;case "ContextMenu":var e=$d.event;var $05=e.client.contextMenu();if($05){$05.show(e);}else{if($c.contextMenu){$c.contextMenu.show(e);}};break;}},$2X);};this.$5N.onMainTouchMove=function(ev){if(navigator.msPointerEnabled&&ev.pointerType&&ev.pointerType==="mouse"){return;};if($0B.timeout){var $2u=$0B.getCellCoords(ev);if($2u&&$0B.startCoords){if($2u.pageX!==$0B.startCoords.pageX||$2u.pageY!==$0B.startCoords.pageY){window.clearTimeout($c.$5N.timeout);}}};if(DayPilot.Global.moving&&DayPilotCalendar.movingShadow){ev.preventDefault();$c.coords=$0B.relativeCoords(ev);$0B.updateMoving();return;}else if($0B.startcell){ev.preventDefault();if(!$0B.active){window.clearTimeout($0B.timeout);return;};var $2u=$0B.getCellCoords(ev);$0B.extendSelection($2u);};$0B.preventEventTap=true;};this.$5N.relativeCoords=function(ev){var $2n=$c.nav.main;var x=ev.touches?ev.touches[0].pageX:ev.pageX;var y=ev.touches?ev.touches[0].pageY:ev.pageY;var $2V=DayPilot.abs($2n);var $2u={x:x-$2V.x,y:y-$2V.y,"toString":function(){return "x: "+this.x+", y:"+this.y;}};return $2u;};this.$5N.onMainTouchEnd=function(ev){if(navigator.msPointerEnabled&&ev.pointerType&&ev.pointerType==="mouse"){return;};if(DayPilot.Global.moving){$0B.active=false;ev.preventDefault();ev.stopPropagation();var top=DayPilotCalendar.movingShadow.offsetTop;DayPilotCalendar.deleteShadow(DayPilotCalendar.movingShadow);var $2Y=DayPilot.Global.moving.event;var $0o=DayPilotCalendar.movingShadow.column;DayPilot.Global.moving=null;DayPilotCalendar.movingShadow=null;$2Y.calendar.$52($2Y,$0o,top,ev,DayPilotCalendar.drag);}else if($0B.startcell){if(!$0B.active){window.clearTimeout($0B.timeout);return;};ev.preventDefault();$0B.startcell=null;var $0K=$c.getSelection();$0K.toString=function(){return "start: "+this.start+"\nend: "+this.end;};$c.$59($0K.start,$0K.end,$0K.resource);window.setTimeout(function(){$0B.active=false;},500);}};this.$5N.onEventTouchMove=function(ev){$0B.preventEventTap=true;};this.$5N.onEventTouchEnd=function(ev){if(!$0B.active){if($0B.preventEventTap){return;};ev.preventDefault();window.clearTimeout($0B.timeout);$c.$4P(this,false);return;};$0B.active=false;if($0B.timeout){window.clearTimeout($0B.timeout);return;};ev.preventDefault();};this.$5K=function(ev){var $2Z=5;var $30=Math.max($c.durationBarWidth,10);var w=5;var $1n=($c.moveBy==='Top');if(typeof(DayPilotCalendar)==='undefined'){return;};var $0P=DayPilot.mo3(this,ev);if(!$0P){return;};var $d=this;if(!$d.active){var $1o=[];if($d.event.client.deleteEnabled()){$1o.push({"action":"JavaScript","v":"Hover","w":17,"h":17,"top":2,"right":2,"css":$c.$4E("_event_delete"),"js":function(e){$c.$4X(e);}});};var $14=$d.event.cache?$d.event.cache.areas:$d.event.data.areas;if($14&&$14.length>0){$1o=$1o.concat($14);};DayPilot.Areas.showAreas($d,$d.event,null,$1o);if($c.cssOnly){DayPilot.Util.addClass($d,$c.$4E("_event_hover"));}};if(DayPilot.Global.resizing||DayPilot.Global.moving){return;};var $31=this.isFirst;var $32=this.isLast;if($c.moveBy==="Disabled"||$c.moveBy==="None"){return;};if(!$1n&&$0P.x<=$30&&this.event.client.moveEnabled()){if($31){this.style.cursor='move';}else{this.style.cursor='not-allowed';}}else if(!$1n&&$0P.y<=$2Z&&this.event.client.resizeEnabled()){if($31){this.style.cursor="n-resize";this.dpBorder='top';}else{this.style.cursor='not-allowed';}}else if($1n&&$0P.y<=$30&&this.event.client.moveEnabled()){this.style.cursor="move";}else if(this.offsetHeight-$0P.y<=$2Z&&this.event.client.resizeEnabled()){if($32){this.style.cursor="s-resize";this.dpBorder='bottom';}else{this.style.cursor='not-allowed';}}else if(!DayPilot.Global.resizing&&!DayPilot.Global.moving){if(this.event.client.clickEnabled())this.style.cursor='pointer';else this.style.cursor='default';};if(typeof(DayPilotBubble)!=='undefined'&&$c.bubble&&$c.eventHoverHandling!=='Disabled'){if(this.style.cursor==='default'||this.style.cursor==='pointer'){var $33=this.$6t&&$0P.x===this.$6t.x&&$0P.y===this.$6t.y;if(!$33){this.$6t=$0P;$c.bubble.showEvent(this.event);}}else{}}};this.$5L=function(ev){if($c.cssOnly){DayPilot.Util.removeClass(this,$c.$4E("_event_hover"));};if($c.bubble){$c.bubble.hideOnMouseOut();};DayPilot.Areas.hideAreas(this,ev);};this.$6u=null;this.$6v=function(){if(this.showCurrentTime){this.$6w();this.$6x(new DayPilot.Date());if(!this.$6u){var $34=30;this.$6u=setInterval(function(){$c.$6v();},$34*1000);}}};this.$6w=function(){DayPilot.de($c.elements.separators);$c.elements.separators=[];};this.$6x=function($0t){var $35=$0t.getTime();var $G=$c.nav.events;for(var i=0;i<$c.$4D.length;i++){var $1M=$c.$4D[i];var $K=$c.$4G(true);var $36=new DayPilot.Date($1M.start).addHours(this.$4K(true));var $37=$36.getTime();var $38=$36.addTime($K);var $39=$38.getTime();if($37<=$35&&$35<=$39){var $3a=this.$6y($0t,$1M.start).top-1;var $f=$G.rows[0].cells[i];var $1R=$f.separators;var $d=document.createElement("div");$d.style.position="absolute";$d.style.top=$3a+"px";$d.style.height="1px";$d.style.left="0px";$d.style.right="0px";$d.className=$c.$4E("_now");$1R.insertBefore($d,$1R.firstChild);$c.elements.separators.push($d);}}};this.$4m=function($11){if(!$11){$11=this.events.list;}else{this.events.list=$11;};if(!$11){return;};this.$5H={};this.$5H.events=[];this.$5H.lines=[];var length=$11.length;var $K=this.$4G(true);this.$3S.pixels={};var $3b=[];this.$5k=[];this.$4Z=10000;this.$4J=0;this.startDate=new DayPilot.Date(this.startDate);for(var i=0;i<length;i++){var e=$11[i];e.start=new DayPilot.Date(e.start);e.end=new DayPilot.Date(e.end);};if(typeof this.onBeforeEventRender==='function'||$c.showEventStartEnd){for(var i=0;i<length;i++){this.$6s(i);}};var $3c=this.viewType==='Resources';var $1d=this.$5F();var $3d=$1d.start;var $3e=$1d.end;for(var i=0;i<this.$4D.length;i++){var scroll={};scroll.minEnd=1000000;scroll.maxStart=-1;this.$5k.push(scroll);var $1M=this.$4D[i];$1M.events=[];$1M.lines=[];$1M.blocks=[];var $36=new DayPilot.Date($1M.start).addHours(this.$4K(true));var $37=$36.getTime();var $38=$36.addTime($K);var $39=$38.getTime();if($3c){$3d=$36.getDatePart();$3e=$38.getDatePart();};for(var j=0;j<length;j++){if($3b[j]){continue;};var e=$11[j];var $08=e.start;var end=e.end;var $3f=$08.getTime();var $3g=end.getTime();if($3g<$3f){continue;};if(e.allday){var $3h=false;if($c.allDayEnd==='Date'){$3h=!($3g<$3d.getTime()||$3f>=$3e.getTime());}else{$3h=!($3g<=$3d.getTime()||$3f>=$3e.getTime());};if($3c){$3h=$3h&&(e.resource===$1M.id||$1M.id==="*");};if($3h){var ep=new DayPilot.Event(e,this);ep.part.start=$3d.getTime()<$3f?$08:$3d;ep.part.end=$3e.getTime()>$3g?end:$3e;ep.part.colStart=DayPilot.Date.daysDiff($3d.d,ep.part.start.d);ep.part.colWidth=DayPilot.Date.daysSpan(ep.part.start.d,ep.part.end.d)+1;if($3c){ep.part.colStart=i;ep.part.colWidth=1;};this.$5H.events.push(ep);if(typeof this.onBeforeEventRender==='function'||$c.showEventStartEnd){ep.cache=this.$3S.events[j];};$3b[j]=true;if($3c&&(ep.part.start.getTime()!==$3f||ep.part.end.getTime()!==$3g)){$3b[j]=false;}};continue;};var $3h=false;if($3c){$3h=($1M.id===e.resource)&&!($3g<=$37||$3f>=$39);}else{$3h=!($3g<=$37||$3f>=$39)||($3g===$3f&&$3f===$37);};if($3h){var ep=new DayPilot.Event(e,$c);ep.part.dayIndex=i;ep.part.start=$37<$3f?$08:$36;ep.part.end=$39>$3g?end:$38;var $3a=this.$6y(ep.part.start,$1M.start);var $3i=this.$6y(ep.part.end,$1M.start);var top=$3a.top;var $18=$3i.top;if(top===$18&&($3a.cut||$3i.cut)){continue;};ep.part.box=$0d.useBox($3g-$3f);var $I=0;if(ep.part.box){var $3j=$3i.boxBottom;ep.part.top=Math.floor(top/this.cellHeight)*this.cellHeight+$I;ep.part.height=Math.max(Math.ceil($3j/this.cellHeight)*this.cellHeight-ep.part.top,this.cellHeight-1);ep.part.barTop=Math.max(top-ep.part.top-1,0);ep.part.barHeight=Math.max($18-top-2,1);}else{ep.part.top=top+$I;ep.part.height=Math.max($18-top,0);ep.part.barTop=0;ep.part.barHeight=Math.max($18-top-2,1);};var $08=ep.part.top;var end=ep.part.top+ep.part.height;if($08>scroll.maxStart){scroll.maxStart=$08;};if(end<scroll.minEnd){scroll.minEnd=end;};if($08<this.$4Z){this.$4Z=$08;};if(end>this.$4J){this.$4J=end;};$1M.events.push(ep);if(typeof this.onBeforeEventRender==='function'||$c.showEventStartEnd){ep.cache=this.$3S.events[j];};if(ep.part.start.getTime()===$3f&&ep.part.end.getTime()===$3g){$3b[j]=true;}}}};for(var i=0;i<this.$4D.length;i++){var $1M=this.$4D[i];$1M.events.sort(this.$6z);for(var j=0;j<$1M.events.length;j++){var e=$1M.events[j];$1M.putIntoBlock(e);};for(var j=0;j<$1M.blocks.length;j++){var $1j=$1M.blocks[j];$1j.events.sort(this.$6A);for(var k=0;k<$1j.events.length;k++){var e=$1j.events[k];$1j.putIntoLine(e);}}};this.$5H.events.sort(this.$6A);this.$5H.putIntoLine=function(ep){var $1k=this;for(var i=0;i<this.lines.length;i++){var $1l=this.lines[i];if($1l.isFree(ep.part.colStart,ep.part.colWidth)){$1l.push(ep);return i;}};var $1l=[];$1l.isFree=function($08,$0X){var end=$08+$0X-1;var $N=this.length;for(var i=0;i<$N;i++){var e=this[i];if(!(end<e.part.colStart||$08>e.part.colStart+e.part.colWidth-1)){return false;}};return true;};$1l.push(ep);this.lines.push($1l);return this.lines.length-1;};for(var i=0;i<this.$5H.events.length;i++){var e=this.$5H.events[i];this.$5H.putIntoLine(e);};var $3k=Math.max(this.$5H.lines.length,1);this.$3S.allDayHeaderHeight=$3k*($0d.allDayEventHeight()+2)+2;};this.$6z=function(a,b){if(!a||!b||!a.start||!b.start){return 0;};var $3l=a.start().ticks-b.start().ticks;if($3l!==0){return $3l;};var $3m=b.end().ticks-a.end().ticks;return $3m;};this.$6A=function(a,b){if(!a||!b){return 0;};if(!a.data||!b.data||!a.data.sort||!b.data.sort||a.data.sort.length===0||b.data.sort.length===0){return $c.$6z(a,b);};var $u=0;var i=0;while($u===0&&a.data.sort[i]&&b.data.sort[i]){if(a.data.sort[i]===b.data.sort[i]){$u=0;}else{$u=$c.$6B(a.data.sort[i],b.data.sort[i],$c.sortDirections[i]);};i++;};return $u;};this.$6B=function(a,b,$3n){var $3o=($3n!=="desc");var $3p=$3o?-1:1;var $3q=-$3p;if(a===null&&b===null){return 0;};if(b===null){return $3q;};if(a===null){return $3p;};var ar=[];ar[0]=a;ar[1]=b;ar.sort();return a===ar[0]?$3p:$3q;};this.$6C=function(e){for(var i=0;i<$c.elements.events.length;i++){var $d=$c.elements.events[i];if($d.event===e||$d.event.data===e.data){return $d;}};return null;};this.events.find=function(id){if(!$c.events.list||typeof $c.events.list.length==='undefined'){return null;};var $2F=$c.events.list.length;for(var i=0;i<$2F;i++){if($c.events.list[i].id===id){return new DayPilot.Event($c.events.list[i],$c);}};return null;};this.events.findRecurrent=function($3r,$09){if(!$c.events.list||typeof $c.events.list.length==='undefined'){return null;};var $2F=$c.events.list.length;for(var i=0;i<$2F;i++){if($c.events.list[i].recurrentMasterId===$3r&&$c.events.list[i].start.getTime()===$09.getTime()){return new DayPilot.Event($c.events.list[i],$c);}};return null;};this.events.update=function(e,$h){var $0c={};$0c.oldEvent=new DayPilot.Event(e.copy(),$c);$0c.newEvent=new DayPilot.Event(e.temp(),$c);var $g=new DayPilot.Action($c,"EventUpdate",$0c,$h);e.commit();if($c.$3V){$c.update();};$c.$6D.notify();return $g;};this.events.remove=function(e,$h){var $0c={};$0c.e=new DayPilot.Event(e.data,$c);var $g=new DayPilot.Action($c,"EventRemove",$0c,$h);var $24=DayPilot.indexOf($c.events.list,e.data);$c.events.list.splice($24,1);if($c.$3V){$c.update();};$c.$6D.notify();return $g;};this.events.add=function(e,$h){e.calendar=$c;if(!$c.events.list){$c.events.list=[];};$c.events.list.push(e.data);var $0c={};$0c.e=e;var $g=new DayPilot.Action($c,"EventAdd",$0c,$h);if($c.$3V){$c.update();};$c.$6D.notify();return $g;};this.queue={};this.queue.list=[];this.queue.list.ignoreToJSON=true;this.queue.add=function($g){if(!$g){return;};if($g.isAction){$c.queue.list.push($g);}else{throw "DayPilot.Action object required for queue.add()";}};this.queue.notify=function($h){var $0c={};$0c.actions=$c.queue.list;$c.$40('Notify',$0c,$h,"Notify");$c.queue.list=[];};this.queue.clear=function(){$c.queue.list=[];};this.queue.pop=function(){return $c.queue.list.pop();};this.$6E=function($n){if(!this.$3V||!this.$4D){return;};var $n=$n||{};var $3s=!$n.eventsOnly;if($3s){$c.$47();this.$6F();this.$4k();this.$4m();$c.$4o();$c.$4p();$c.$4q();$c.$4r();$c.$3X();$c.$4s();$c.$5f();$c.$4t();$c.$4u();$c.$4v();this.$4x();this.$4y();this.$6v();$c.$4z();}else{$c.$47();$c.$4m();$c.$4n();$c.$4x();$c.$4y();$c.$4z();}};this.update=function(){this.$6E();};this.show=function(){$c.nav.top.style.display='';$c.$4a();$c.$4v();};this.hide=function(){$c.nav.top.style.display='none';};this.$6D={};this.$6D.scope=null;this.$6D.notify=function(){if($c.$6D.scope){$c.$6D.scope["$apply"]();}};this.debug=new DayPilot.Debug(this);this.$6y=function($0t,$08){if(!$08)$08=this.startDate;var $3f=$08.getTime();var $35=$0t.getTime();var $1C=this.$3S.pixels[$35+"_"+$3f];if($1C){return $1C;};$3f=$08.addHours(this.$4K(true)).getTime();var $3t=this.cellDuration*60*1000;var $3u=$35-$3f;var $3v=$3u%$3t;var $3w=$3u-$3v;var $3x=$3w+$3t;if($3v===0){$3x=$3w;};var $u={};$u.cut=false;$u.top=this.$6G($3u);$u.boxTop=this.$6G($3w);$u.boxBottom=this.$6G($3x);this.$3S.pixels[$35+"_"+$3f]=$u;return $u;};this.$6G=function($35){return Math.floor((this.cellHeight*$35)/(1000*60*this.cellDuration));};this.$6F=function(){this.startDate=new DayPilot.Date(this.startDate);this.allDayHeaderHeight=$0d.allDayEventHeight()+4;};this.$4n=function(){var $1n=this.$4L();var $20=this.$5Q();if(this.nav.corner){this.nav.corner.style.height=$1n+"px";};if(this.nav.cornerRight){this.nav.cornerRight.style.height=$1n+"px";};if(this.nav.mid){this.nav.mid.style.height=$1n+"px";};if(this.showAllDayEvents&&this.nav.header){var $1S=this.nav.header.rows[this.nav.header.rows.length-1];for(var i=0;i<$1S.cells.length;i++){var $q=$1S.cells[i];$q.firstChild.style.height=$0d.allDayHeaderHeight()+"px";}};if(this.nav.upperRight){this.nav.upperRight.style.height=$1n+"px";};this.nav.scroll.style.top=$1n+"px";this.nav.top.style.height=$20+"px";};this.$4u=function(){var sh=this.$5R();if(this.nav.scroll&&sh>0){this.nav.scroll.style.height=sh+"px";this.scrollHeight=$c.nav.scroll.clientHeight;if(this.nav.bottomLeft){this.nav.bottomLeft.style.height=sh+"px";};if(this.nav.bottomRight){this.nav.bottomRight.style.height=sh+"px";}};if(this.heightSpec==="Parent100Pct"){this.nav.top.style.height="100%";}else{this.nav.top.style.height=this.$5Q()+"px";}};this.setHeight=function($1B){if(this.heightSpec!=="Parent100Pct"){this.heightSpec="Fixed";};if(this.cssOnly){this.height=$1B-(this.$4L());}else{this.height=$1B-(this.$4L()+3);};this.$4u();};this.$6H=function($3y){var $d=document.createElement("div");$d.style.position="absolute";$d.style.top="-2000px";$d.style.left="-2000px";$d.className=this.$4E($3y);document.body.appendChild($d);var $J=$d.offsetHeight;var $0X=$d.offsetWidth;document.body.removeChild($d);var $u={};$u.height=$J;$u.width=$0X;return $u;};this.$5I={};var $0d=this.$5I;$0d.locale=function(){return DayPilot.Locale.find($c.locale);};$0d.weekStarts=function(){if(typeof $c.weekStarts!=='undefined'){return $c.weekStarts;}else{return $0d.locale().weekStarts;}};$0d.timeFormat=function(){if($c.timeFormat!=='Auto'){return $c.timeFormat;};return this.locale().timeFormat;};$0d.useBox=function($3z){if($c.useEventBoxes==='Always'){return true;};if($c.useEventBoxes==='Never'){return false;};return $3z<$c.cellDuration*60*1000;};$0d.notifyType=function(){var $l;if($c.notifyCommit==='Immediate'){$l="Notify";}else if($c.notifyCommit==='Queue'){$l="Queue";}else{throw "Invalid notifyCommit value: "+$c.notifyCommit;};return $l;};$0d.allDayEventHeight=function(){if($c.$3S.allDayEventHeight){return $c.$3S.allDayEventHeight;};var $J=$c.$6H("_alldayevent_height").height;if(!$J){$J=$c.allDayEventHeight;};$c.$3S.allDayEventHeight=$J;return $J;};$0d.allDayHeaderHeight=function(){if($c.$3S.allDayHeaderHeight){return $c.$3S.allDayHeaderHeight;};var $J=$c.allDayHeaderHeight;$c.$3S.allDayHeaderHeight=$J;return $J;};$0d.headerHeight=function(){if($c.$3S.headerHeight){return $c.$3S.headerHeight;};var $J=$c.$6H("_header_height").height;if(!$J){$J=$c.headerHeight;};$c.$3S.headerHeight=$J;return $J;};this.$6I=function(){if(this.backendUrl){return(typeof $c.events.list==='undefined')||(!$c.events.list);}else{return false;}};this.$6J=function(){if(this.id&&this.id.tagName){this.nav.top=this.id;}else if(typeof this.id==="string"){this.nav.top=document.getElementById(this.id);if(!this.nav.top){throw "DayPilot.Calendar: The placeholder element not found: '"+id+"'.";}}else{throw "DayPilot.Calendar() constructor requires the target element or its ID as a parameter";}};this.$6K=function(){this.$6J();this.$6F();this.$4k();this.$5S();this.$4o();this.$4p();this.$4s();this.$4v();this.$6m();this.$6r();this.$4b();DayPilotCalendar.register(this);this.$4a();this.$6v();this.$6o();this.$4A();this.$40('Init');};this.init=function(){this.$6J();if(this.nav.top.dp){return;};var $3A=this.$6I();if($3A){this.$6K();this.$3V=true;return;};this.$6F();this.$4k();this.$4l();if(this.events.list){this.$4m();};this.$5S();this.$4o();this.$4p();this.$4s();this.$4w();this.$4v();this.$6m();this.$6r();this.$4b();DayPilotCalendar.register(this);if(this.events.list){this.$4n();this.$4x();this.$4y();};this.$4a();if(this.messageHTML){this.message(this.messageHTML);};this.$6v();this.$4i(null,false);this.$6o();this.$4A();this.$3V=true;this.$6L();};this.$6M=null;this.$6N=function($a){var $3B={"events":{"preInit":function(){var $11=this.data;if(!$11){return;};if(DayPilot.isArray($11.list)){$c.events.list=$11.list;}else{$c.events.list=$11;}}},"scrollTo":{"postInit":function(){if(typeof this.data!=='undefined'){$c.scrollToHour(this.data);}}}};this.$6M=$3B;for(var name in $a){if($3B[name]){var $3C=$3B[name];$3C.data=$a[name];if($3C.preInit){$3C.preInit();}}else{$c[name]=$a[name];}}};this.$6L=function(){var $3B=this.$6M;for(var name in $3B){var $3C=$3B[name];if($3C.postInit){$3C.postInit();}}};this.internal={};this.internal.initialized=function(){return $c.$3V;};this.internal.invokeEvent=this.$4Y;this.internal.eventMenuClick=this.$57;this.internal.timeRangeMenuClick=this.$58;this.internal.bubbleCallBack=this.$55;this.internal.findEventDiv=this.$6C;this.internal.eventDeleteDispatch=this.$4X;this.internal.touch=this.$5N;this.Init=this.init;this.$6N($a);};var DayPilotCalendar={};DayPilotCalendar.topSelectedCell=null;DayPilotCalendar.bottomSelectedCell=null;DayPilotCalendar.selecting=false;DayPilotCalendar.column=null;DayPilotCalendar.firstSelected=null;DayPilotCalendar.firstMousePos=null;DayPilotCalendar.originalMouse=null;DayPilotCalendar.originalHeight=null;DayPilotCalendar.originalTop=null;DayPilotCalendar.globalHandlers=false;DayPilotCalendar.editing=false;DayPilotCalendar.originalText=null;DayPilotCalendar.register=function($c){if(!DayPilotCalendar.registered){DayPilotCalendar.registered=[];};var r=DayPilotCalendar.registered;for(var i=0;i<r.length;i++){if(r[i]===$c){return;}};r.push($c);};DayPilotCalendar.unregister=function($c){var a=DayPilotCalendar.registered;if(a){var i=DayPilot.indexOf(a,$c);if(i!==-1){a.splice(i,1);};if(a.length===0){a=null;}};if(!a){DayPilot.ue(document,'mousemove',DayPilotCalendar.gMouseMove);DayPilot.ue(document,'mouseup',DayPilotCalendar.gMouseUp);DayPilot.ue(document,'touchmove',DayPilotCalendar.gTouchMove);DayPilot.ue(document,'touchend',DayPilotCalendar.gTouchEnd);DayPilotCalendar.globalHandlers=false;}};DayPilotCalendar.getCellsAbove=function($f){var $s=[];var c=DayPilotCalendar.getColumn($f);var tr=$f.parentNode;var $3D=null;while(tr&&$3D!==DayPilotCalendar.firstSelected){$3D=tr.getElementsByTagName("td")[c];$s.push($3D);tr=tr.previousSibling;while(tr&&tr.tagName!=="TR"){tr=tr.previousSibling;}};return $s;};DayPilotCalendar.getCellsBelow=function($f){var $s=[];var c=DayPilotCalendar.getColumn($f);var tr=$f.parentNode;var $3D=null;while(tr&&$3D!==DayPilotCalendar.firstSelected){$3D=tr.getElementsByTagName("td")[c];$s.push($3D);tr=tr.nextSibling;while(tr&&tr.tagName!=="TR"){tr=tr.nextSibling;}};return $s;};DayPilotCalendar.getColumn=function($f){var i=0;while($f.previousSibling){$f=$f.previousSibling;if($f.tagName==="TD"){i++;}};return i;};DayPilotCalendar.getShadowColumn=function($E){if(!$E){return null;};var $0W=$E.parentNode;while($0W&&$0W.tagName!=="TD"){$0W=$0W.parentNode;};return $0W;};DayPilotCalendar.gTouchMove=function(ev){if(DayPilotCalendar.drag){ev.preventDefault();var x=ev.touches?ev.touches[0].pageX:ev.pageX;var y=ev.touches?ev.touches[0].pageY:ev.pageY;var $0G={};$0G.x=x;$0G.y=y;var $c=(function(){var $3E=ev.touches?ev.touches[0].clientX:ev.clientX;var $3F=ev.touches?ev.touches[0].clientY:ev.clientY;var el=document.elementFromPoint($3E,$3F);while(el&&el.parentNode){el=el.parentNode;if(el.daypilotMainD){return el.calendar;}};return false;})();if($c){if(DayPilotCalendar.gShadow){document.body.removeChild(DayPilotCalendar.gShadow);};DayPilotCalendar.gShadow=null;$c.coords=$c.$5N.relativeCoords(ev);if(!DayPilotCalendar.movingShadow&&$c.coords){var $L=$c.$4C(DayPilotCalendar.drag,false,DayPilotCalendar.drag.shadowType);if($L){DayPilotCalendar.movingShadow=$L;var $0F=new DayPilot.Date().getDatePart();var ev={'value':DayPilotCalendar.drag.id,'start':$0F,'end':$0F.addSeconds(DayPilotCalendar.drag.duration),'text':DayPilotCalendar.drag.text};var event=new DayPilot.Event(ev,$c);event.external=true;DayPilot.Global.moving={};DayPilot.Global.moving.event=event;DayPilot.Global.moving.helper={};}};if(DayPilot.Global.moving){$c.$5N.updateMoving();}}else{DayPilot.de(DayPilotCalendar.movingShadow);DayPilot.Global.moving=null;DayPilotCalendar.movingShadow=null;if(!DayPilotCalendar.gShadow){DayPilotCalendar.gShadow=DayPilotCalendar.createGShadow(DayPilotCalendar.drag.shadowType);};var $L=DayPilotCalendar.gShadow;$L.style.left=$0G.x+'px';$L.style.top=$0G.y+'px';}}};DayPilotCalendar.gTouchEnd=function(ev){DayPilotCalendar.gMouseUp(ev);};DayPilotCalendar.gMouseMove=function(ev){if(typeof(DayPilotCalendar)==='undefined'){return;};if(ev.insideMainD){return;}else if(ev.srcElement){if(ev.srcElement.inside){return;}};var $0G=DayPilot.mc(ev);if(DayPilotCalendar.drag){document.body.style.cursor='move';if(!DayPilotCalendar.gShadow){DayPilotCalendar.gShadow=DayPilotCalendar.createGShadow(DayPilotCalendar.drag.shadowType);};var $L=DayPilotCalendar.gShadow;$L.style.left=$0G.x+'px';$L.style.top=$0G.y+'px';DayPilot.Global.moving=null;DayPilotCalendar.deleteShadow(DayPilotCalendar.movingShadow);DayPilotCalendar.movingShadow=null;};for(var i=0;i<DayPilotCalendar.registered.length;i++){if(DayPilotCalendar.registered[i].$4d){DayPilotCalendar.registered[i].$4d();}}};DayPilotCalendar.gUnload=function(ev){if(!DayPilotCalendar.registered){return;};var r=DayPilotCalendar.registered;for(var i=0;i<r.length;i++){var c=r[i];DayPilotCalendar.unregister(c);}};DayPilotCalendar.gMouseUp=function(e){var e=e||window.event;if(DayPilot.Global.resizing){if(!DayPilotCalendar.resizingShadow){DayPilot.Global.resizing.style.cursor='default';DayPilot.Global.resizing.event.calendar.nav.top.style.cursor='auto';DayPilot.Global.resizing=null;return;};var $2Y=DayPilot.Global.resizing.event;var $0g=DayPilot.Global.resizing.dpBorder;var $J=DayPilotCalendar.resizingShadow.clientHeight;var top=DayPilotCalendar.resizingShadow.offsetTop;DayPilotCalendar.deleteShadow(DayPilotCalendar.resizingShadow);DayPilotCalendar.resizingShadow=null;DayPilot.Global.resizing.style.cursor='default';$2Y.calendar.nav.top.style.cursor='auto';DayPilot.Global.resizing.onclick=null;DayPilot.Global.resizing=null;if($2Y.calendar.overlap){return;};$2Y.calendar.$50($2Y,$J,top,$0g);}else if(DayPilot.Global.moving){if(!DayPilotCalendar.movingShadow){DayPilot.Global.moving.event.calendar.nav.top.style.cursor='auto';DayPilot.Global.moving=null;return;};var $3G=DayPilot.Global.moving.helper.oldColumn;var top=DayPilotCalendar.movingShadow.offsetTop;DayPilotCalendar.deleteShadow(DayPilotCalendar.movingShadow);var $2Y=DayPilot.Global.moving.event;var $0o=DayPilotCalendar.movingShadow.column;var $0p=DayPilotCalendar.drag;DayPilot.Global.moving.event.calendar.nav.top.style.cursor='auto';DayPilot.Global.moving=null;DayPilotCalendar.movingShadow=null;if($0p){if(!$2Y.calendar.todo){$2Y.calendar.todo={};};$2Y.calendar.todo.del=$0p.element;};if($2Y.calendar.overlap){return;};var ev=e||window.event;$2Y.calendar.$52($2Y,$0o,top,ev,$0p);};if(DayPilotCalendar.drag){DayPilotCalendar.drag=null;document.body.style.cursor='';};if(DayPilotCalendar.gShadow){document.body.removeChild(DayPilotCalendar.gShadow);DayPilotCalendar.gShadow=null;};DayPilotCalendar.moveOffsetY=null;};DayPilotCalendar.dragStart=function(element,$K,id,$26,$l){DayPilot.us(element);var $0p=DayPilotCalendar.drag={};$0p.element=element;$0p.duration=$K;$0p.text=$26;$0p.id=id;$0p.shadowType=$l?$l:'Fill';return false;};DayPilot.Calendar.makeDraggable=function($a){var element=$a.element;var $3H=$a.keepElement?null:element;var $K=$a.duration||1;if(navigator.msPointerEnabled){element.style.msTouchAction="none";element.style.touchAction="none";};DayPilot.us(element);DayPilot.re(element,"mousedown",function(ev){DayPilotCalendar.dragStart($3H,$K,$a.id,$a.text);var element=(ev.target||ev.srcElement);if(element.tagName){var $3I=element.tagName.toLowerCase();if($3I==="textarea"||$3I==="select"||$3I==="input"){return false;}};ev.preventDefault&&ev.preventDefault();return false;});var $3J=function(ev){var $2X=0;window.setTimeout(function(){var $0p=DayPilotCalendar.drag={};$0p.element=$3H;$0p.id=$a.id;$0p.text=$a.text||"";$0p.duration=$K;$0p.shadowType="Fill";DayPilotCalendar.gTouchMove(ev);ev.preventDefault();},$2X);ev.preventDefault();};DayPilot.re(element,DayPilot.touch.start,$3J);};DayPilotCalendar.deleteShadow=function($L){if(!$L){return;};if(!$L.parentNode){return;};$L.parentNode.removeChild($L);};DayPilotCalendar.createGShadow=function($l){var $L=document.createElement('div');$L.setAttribute('unselectable','on');$L.style.position='absolute';$L.style.width='100px';$L.style.height='20px';$L.style.border='2px dotted #666666';$L.style.zIndex=101;$L.style.pointerEvents="none";if($l==='Fill'){$L.style.backgroundColor="#aaaaaa";$L.style.opacity=0.5;$L.style.filter="alpha(opacity=50)";$L.style.border='2px solid #aaaaaa';};document.body.appendChild($L);return $L;};DayPilotCalendar.moveShadow=function($q){var $L=DayPilotCalendar.movingShadow;$L.parentNode.removeChild($L);$q.firstChild.appendChild($L);$L.style.left='0px';$L.style.width=(DayPilotCalendar.movingShadow.parentNode.offsetWidth)+'px';};DayPilotCalendar.Column=function($3K,name,$0t){this.value=$3K;this.id=$3K;this.name=name;this.date=new DayPilot.Date($0t);};DayPilot.CalendarVisible.dragStart=DayPilotCalendar.dragStart;DayPilot.CalendarVisible.Calendar=DayPilotCalendar.Calendar;if(typeof jQuery!=='undefined'){(function($){$.fn.daypilotCalendar=function($a){var $0E=null;var j=this.each(function(){if(this.daypilot){return;};var $3L=new DayPilot.Calendar(this.id,$a);$3L.init();this.daypilot=$3L;if(!$0E){$0E=$3L;}});if(this.length===1){return $0E;}else{return j;}};})(jQuery);};(function registerAngularModule(){var $3M=DayPilot.am();if(!$3M){return;};$3M.directive("daypilotCalendar",function(){return{"restrict":"E","template":"<div></div>","replace":true,"link":function($3N,element,$3O){var $c=new DayPilot.Calendar(element[0]);$c.$6D.scope=$3N;$c.init();var $3P=$3O["id"];if($3P){$3N[$3P]=$c;};var $3Q=$3N["$watch"];$3Q.call($3N,$3O["daypilotConfig"],function($3K){for(var name in $3K){$c[name]=$3K[name];};$c.update();});$3Q.call($3N,$3O["daypilotEvents"],function($3K){$c.events.list=$3K;$c.$6E({"eventsOnly":true});},true);}};});})();if(typeof Sys!=='undefined'&&Sys.Application&&Sys.Application.notifyScriptLoaded){Sys.Application.notifyScriptLoaded();}})();


